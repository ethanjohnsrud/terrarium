(this["webpackJsonpterrarium-display"]=this["webpackJsonpterrarium-display"]||[]).push([[0],{12:function(e,t,n){},21:function(e,t,n){},53:function(e,t,n){},83:function(e,t,n){},84:function(e,t,n){},85:function(e,t,n){},86:function(e,t,n){},87:function(e,t,n){},88:function(e,t,n){},89:function(e,t,n){},90:function(e,t,n){},91:function(e,t,n){"use strict";n.r(t),n.d(t,"fetchData",(function(){return de}));var r=n(43),a=n(2),c=n(5),o=n(9),i=n(1),s=n.n(i),u=n(27),l=n.n(u),d=(n(12),n(18)),b=n(10),m=n(3),p=n(4),j=n(19);function f(e,t,n){var r=Object(i.useRef)();Object(i.useEffect)((function(){r.current=e}),[e]),Object(i.useEffect)((function(){var e=setInterval((function(){r.current()}),t);return n&&setTimeout((function(){clearInterval(e)}),n),function(){clearInterval(e)}}),[t])}n(53);var O=n(7),h=n.n(O),g=n(0),v=function(e){var t=Object(i.useState)(),n=Object(m.a)(t,2),r=n[0],a=n[1],c=Object(i.useState)(!1),o=Object(m.a)(c,2),s=o[0],u=o[1],l=function(){return e.prompt.toLowerCase().includes("advance")};return Object(g.jsx)("div",{id:"verify-container",style:{position:"fixed",zIndex:35,width:"100vw",height:"100vh",top:0,left:0,backgroundColor:"rgba(0,0,0,".concat(l()?"1.0":"0.7",")"),display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},children:Object(g.jsxs)("div",{id:"verify-inside",style:{position:"relative",display:"grid",textAlign:"center",padding:"1.0rem 2.0rem",backgroundColor:l()?"darkred":"var(--main-color)",borderRadius:"5px"},children:[Object(g.jsxs)("strong",{style:{margin:"0.5rem",width:"100%",textAlign:"left",color:l()?"whitesmoke":"black"},children:[e.prompt,":"]}),Object(g.jsxs)("div",{style:{display:"grid",backgroundColor:"black",borderRadius:"5px",padding:"0.25rem 0.5rem"},children:[Object(g.jsx)("input",{autoFocus:!0,style:{gridColumn:1,border:"none",backgroundColor:"black",color:"whitesmoke"},type:s?"text":"password",onChange:function(e){return a(e.target.value)},onKeyPress:function(t){13==t.charCode&&void 0!=r&&""!=r&&e.onSubmit(r)}}),Object(g.jsx)("input",{type:"checkbox",value:s,onClick:function(){return u(!s)},style:{gridColumn:2,border:"none",color:"var(--main-color)",height:"1.2rem",width:"1.2rem",marginLeft:"1.0rem"}})]}),Object(g.jsxs)("div",{children:[Object(g.jsx)("button",{style:{border:"2px solid white",backgroundColor:"whitesmoke",color:"black",padding:"0.25rem",margin:"0.5rem"},onClick:function(){return e.onCancel()},children:"CANCEL"}),Object(g.jsx)("button",{style:{border:"none",backgroundColor:"black",color:"white",padding:"0.35rem",margin:"0.5rem"},onClick:function(){void 0!=r&&""!=r&&e.onSubmit(r)},children:"SUBMIT"})]})]})})},x=(n(21),function(e){var t=Object(i.useState)(void 0),n=Object(m.a)(t,2),r=n[0],s=n[1],u=Object(i.useState)("UPDATE"),l=Object(m.a)(u,2),d=l[0],b=l[1],p=void 0!=e.verifyLevel?e.verifyLevel:1,j=void 0!=e.condense&&e.condense,f=void 0!=e.pendingText?e.pendingText:"PENDING",O=void 0!=e.buttonColor?e.buttonColor:"var(--main-color)",h=function(e){return"UPDATE"==e?O:"PASS"==e||"INVALID"==e||"FAILED"==e?"#e8000d":"PENDING"==e||"BLANK"==e?"orange":"#cc5500"},x=function(){var t=Object(c.a)(Object(a.a)().mark((function t(n){var r;return Object(a.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(s(void 0),1!=p||localStorage.getItem("password")){t.next=4;break}return t.next=4,localStorage.setItem("password",n.toString());case 4:return t.next=6,e.onUpdate(n);case 6:null==(r=t.sent)||void 0==r?b("UPDATE"):1==r||isNaN(r)?(b(1!=r?r:"SAVED"),setTimeout((function(){return b("UPDATE")}),3e3)):401==r?(b("PASS"),setTimeout((function(){return b("UPDATE")}),5e3),localStorage.clear()):404==r?(b("INVALID"),setTimeout((function(){return b("UPDATE")}),5e3)):(b("FAILED"),setTimeout((function(){return b("UPDATE")}),5e3));case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),y=function(){"UPDATE"==d&&(b("PENDING"),0==p?x(void 0):1!=p||localStorage.getItem("password")?1==p?x(localStorage.getItem("password")):s("Enter Advanced Passphrase to Proceed:"):s("Enter Control Password to Continue:"))};return Object(g.jsxs)("section",{style:{overflow:"hidden"},children:[j?Object(g.jsxs)("button",{className:"settings-single-button",onClick:function(){return y()},style:Object(o.a)(Object(o.a)({},e.buttonStyle),{},{overflow:"hidden",backgroundColor:O}),children:[e.title,Object(g.jsx)("label",{className:"settings-single-button-overlay",style:{display:"UPDATE"==d?"none":"flex",overflow:"hidden",backgroundColor:h(d)},children:d})]}):Object(g.jsx)("div",{className:"settings-value-box",style:{display:j?"block":"grid"},children:Object(g.jsx)("button",{className:"settings-single-button",onClick:function(){return y()},style:Object(o.a)(Object(o.a)({},e.buttonStyle),{},{overflow:"hidden",backgroundColor:h(d)}),children:"UPDATE"==d?e.title:"PENDING"==d?f:d})}),r?Object(g.jsx)(v,{prompt:r,onSubmit:x,onCancel:function(){s(void 0),b("UPDATE")}}):Object(g.jsx)("div",{className:"none no-size",style:{position:"absolute"}})]})}),y=x,S=function(e){var t=Object(p.c)((function(e){return e.serverURL})),n=Object(p.c)((function(e){return e.data})),r=Object(i.useState)(0),a=Object(m.a)(r,2),c=a[0],o=a[1];Object(i.useEffect)((function(){return o(n.timeNextEvaluation)}),[n]);var s=Object(i.useState)(0),u=Object(m.a)(s,2),l=u[0],d=u[1];return f((function(){return d(c-(new Date).getTime())}),1e3),Object(g.jsx)(x,{title:"".concat(n.frequencyActive?"HOLD":"HOLDING","    -  ").concat(l<=0?"evaluating":"".concat(l>36e5?"".concat(Math.floor(l/36e5),":"):"").concat(l>6e4?"".concat(Math.floor(l%36e5/6e4),":"):"").concat(l>6e4&&l%6e4<1e4?"0":"").concat(Math.floor(l%6e4/1e3))),condense:!0,buttonStyle:e.buttonStyle,buttonColor:n.frequencyActive?e.buttonColor:"#cc5500",verifyLevel:e.verifyLevel||1,onUpdate:function(r){return setTimeout((function(){return de()}),5e3),h.a.post("".concat(t,"/postpone-evaluation/"),{PASSWORD:r,duration:e.duration||n.evaluationFrequency}).then((function(t){return o((e.duration||n.evaluationFrequency)+(new Date).getTime()),"HOLDING"})).catch((function(e){return!!e.response&&e.response.status}))}})},N=function(e){return""==e||"SEND"==e?"transparent":"UPDATE"==e?"var(--main-color)":"PASS"==e||"INVALID"==e||"FAILED"==e?"#e8000d":"PENDING"==e||"BLANK"==e?"orange":"#cc5500"},T=function(e){var t=Object(i.useState)(void 0),n=Object(m.a)(t,2),r=n[0],o=n[1],s=Object(i.useState)(e.current),u=Object(m.a)(s,2),l=u[0],d=u[1],b=Object(i.useState)(l),p=Object(m.a)(b,2),j=p[0],f=p[1],O=Object(i.useState)(""),h=Object(m.a)(O,2),x=h[0],y=h[1],S=void 0!=e.verifyLevel?e.verifyLevel:2,T=void 0!=e.inputType&&void 0==e.condense?e.inputType:isNaN(e.current)?"text":"number",E=void 0!=e.numberStep?e.numberStep:1,C=void 0!=e.condense&&e.condense,A=function(){var t=Object(c.a)(Object(a.a)().mark((function t(){var n;return Object(a.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=j==l&&void 0==e.current?"BLANK":"number"==T&&isNaN(j)?"NUMBER":j!=l?"UPDATE":e.overrideValidation?"SEND":"",y(n),t.abrupt("return",n);case 3:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();Object(i.useEffect)((function(){return A()}),[j]);var w=function(){var t=Object(c.a)(Object(a.a)().mark((function t(n){var r;return Object(a.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(o(void 0),1!=S||localStorage.getItem("password")){t.next=4;break}return t.next=4,localStorage.setItem("password",n.toString());case 4:return t.next=6,e.onUpdate(j,n);case 6:1==(r=t.sent)||isNaN(r)?(y(1!=r?r:"SAVED"),d("textarea"==T?"":j),"textarea"==T&&f(""),setTimeout((function(){return y("")}),5e3)):401==r?(e.cache||y("PASS"),setTimeout((function(){return f(l)}),5e3),localStorage.clear()):404==r?(e.cache||y("INVALID"),setTimeout((function(){return f(l)}),5e3)):(y("FAILED"),e.cache||setTimeout((function(){return f(l)}),5e3));case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),D=function(){var t=Object(c.a)(Object(a.a)().mark((function t(){return Object(a.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=e.overrideValidation,t.t0){t.next=6;break}return t.next=4,A();case 4:t.t1=t.sent,t.t0="UPDATE"==t.t1;case 6:if(!t.t0){t.next=9;break}y("PENDING"),0==S?w(void 0):1!=S||localStorage.getItem("password")?1==S?w(localStorage.getItem("password")):o("Enter Advanced Passphrase to Proceed:"):o("Enter Control Password to Continue:");case 9:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(g.jsxs)("div",{className:"settings-value-box",style:{gridTemplateColumns:C?"1fr 1fr":null},children:[void 0==e.title?Object(g.jsx)("div",{className:"none no-size",style:{position:"absolute"}}):Object(g.jsx)("strong",{className:"settings-value-title",children:e.title}),"textarea"==T?Object(g.jsx)("textarea",{name:"textarea",value:j,onChange:function(e){return f(e.target.value)}}):Object(g.jsx)("input",{className:"settings-value-input",style:{color:C&&""!=x?N(x):null},type:T,step:"number"==T?E:null,value:j,onChange:function(e){return f(e.target.value)},onKeyPress:function(e){13==e.charCode&&D()}}),C?Object(g.jsx)("div",{className:"none no-size",style:{position:"absolute"}}):Object(g.jsx)("button",{className:"settings-value-button",onClick:D,style:{backgroundColor:N(x)},children:"textarea"==T&&""!=j?"SAVE":x}),r?Object(g.jsx)(v,{prompt:r,onSubmit:w,onCancel:function(){o(void 0),y("UPDATE")}}):Object(g.jsx)("div",{className:"none no-size",style:{position:"absolute"}})]})},E="darkred",C=Object(i.forwardRef)((function(e,t){var n=Object(i.useState)(0),r=Object(m.a)(n,2),o=r[0],s=r[1],u=Object(i.useState)(0),l=Object(m.a)(u,2),d=l[0],O=l[1],h=Object(i.useState)("rgba(24, 98, 24, 0.5)"),v=Object(m.a)(h,2),x=v[0],S=v[1],N=Object(i.useState)(2),C=Object(m.a)(N,2),A=C[0],w=C[1],D=Object(i.useState)(["SERVER DISCONNECTED"]),R=Object(m.a)(D,2),I=R[0],L=R[1],k=Object(p.c)((function(e){return e.data})),U=Object(p.c)((function(e){return e.serverURL})),P=Object(p.c)((function(e){return e.convertToFahrenheit})),M=Object(p.b)(),H=Object(b.f)(),F=Object(i.useRef)(),V=function(){return!e.hideDetails||0!=A},z=function(){return V()?"rgba(24, 98, 24, 0.85)":"rgba(24, 98, 24, 0.3)"},G=function(){return x!=E&&A&&k.frequencyActive?E:"white"},B=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:k.operatingTemperature,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:k.goalTemperature,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:k.minimumTemperature,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:k.maximumTemperature;return e>=r?2+1/(r-n)*(e-r):e<=n?1/(r-n)*(e-n):1-1/(r-n)*(t-e)},W=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:k.operatingHumidity,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:k.goalHumidity,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:k.minimumHumidity,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:k.maximumHumidity;return e>=r?2+1/(r-n)*(e-r):e<=n?1/(r-n)*(e-n):1-1/(r-n)*(t-e)};Object(i.useEffect)((function(){var e=0,t=[];void 0==k.sensorErrorCode?(e=2,t.push("SERVER DISCONNECTED")):(k.sensorErrorCode&&(e=Math.max(e,k.sensorErrorCode),t.push("SENSOR ERROR")),k.maximumTemperatureErrorCode&&(e=Math.max(e,k.maximumTemperatureErrorCode),t.push("MAXIMUM TEMPERATURE")),k.minimumTemperatureErrorCode&&(e=Math.max(e,k.minimumTemperatureErrorCode),t.push("MINIMUM TEMPERATURE")),k.maximumHumidityErrorCode&&(e=Math.max(e,k.maximumHumidityErrorCode),t.push("MAXIMUM HUMIDITY")),k.minimumHumidityErrorCode&&(e=Math.max(e,k.minimumHumidityErrorCode),t.push("MINIMUM HUMIDITY")),void 0==k.accessDatabase||k.accessDatabase||(e=Math.max(e,1),t.push("DATABASE LOCKED"))),w(e),L(t)}),[k]),f((function(){s(k.timeNextEvaluation-(new Date).getTime()),O((new Date).getTime()-k.timeLastReading),S((function(e){return 1==A||"whitesmoke"==e?E:A>1?"whitesmoke":z()}))}),1e3);var _=function(e){return Math.round(100*(P?1.8*e+32:e))/100},J=Object(i.useState)(window.innerWidth<900),K=Object(m.a)(J,2),q=K[0],X=K[1];Object(i.useEffect)((function(){setTimeout((function(){var e=document.getElementById("temperature-section").getBoundingClientRect().top,t=document.getElementById("humidity-section").getBoundingClientRect().top;void 0!=e&&e!=t&&X(!0)}),500)}),[]);var Y=function(){var e=Object(c.a)(Object(a.a)().mark((function e(t){var n;return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,de();case 2:return n=e.sent,H.push("/"),e.abrupt("return",1==n?"UPDATING":n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Z=function(){var e=Object(c.a)(Object(a.a)().mark((function e(t){return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return M({type:"toggleConvertToFahrenheit"}),e.abrupt("return",null);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),$=function(){var e=Object(c.a)(Object(a.a)().mark((function e(t){return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return A&&void 0!=k.sensorErrorCode?H.push("/log"):H.push("/settings"),e.abrupt("return",null);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Q=[{mobile:1,desktop:2,getWidget:function(){return k.operatingTemperature&&!V()?Object(g.jsx)("div",{className:"none no-size"}):Object(g.jsxs)("div",{ref:F,id:"condition-details",className:"none readings-box-outer",style:{color:G()},children:[Object(g.jsxs)("div",{className:"readings-box-inner",style:{backgroundColor:x},children:[Object(g.jsxs)("div",{className:" readings-value-box",children:[I.length?Object(g.jsx)("strong",{id:"readings-top-error",style:{color:x==E?"white":E},children:I[0]}):Object(g.jsx)("div",{className:"none no-size"}),I.length>1?I.slice(1).map((function(e,t){return Object(g.jsx)("strong",{className:" ",style:{gridRow:t+3,gridColumn:1,overflowX:"auto",fontSize:"1.2rem",fontFamily:"'New Tegomin', serif",margin:0,color:x==E?"white":E},children:e},"error-".concat(t))})):Object(g.jsx)("div",{className:"none no-size"}),I.length>1?Object(g.jsx)("hr",{style:{borderColor:G()}}):Object(g.jsx)("div",{className:"none no-size"}),k.statusMessage&&k.statusMessage.length?Object(g.jsxs)("div",{style:{display:"inline-grid",gridRow:2,gridColumn:1},children:[k.statusMessage.match(/[^\r\n]+/g).reverse().map((function(e,t){return Object(g.jsxs)("section",{className:"readings-status-message",style:{gridRow:t+2},children:["\u27b3 ",e]},"statusMessage-".concat(t))}))," "]}):Object(g.jsx)("div",{className:"none no-size"}),(k.operatingSchedules||[]).length?Object(g.jsx)("p",{className:"readings-schedule-list",children:k.operatingSchedules.join(" | ")}):Object(g.jsx)("div",{className:"none no-size"})]}),k.operatingTemperature?Object(g.jsxs)("section",{className:"readings-value-box",children:[Object(g.jsx)("hr",{style:{borderColor:G()}}),Object(g.jsx)("p",{className:"none readings-description",style:{gridRow:2,gridColumn:1},children:"Last Sensor Reading:"}),Object(g.jsxs)("strong",{className:"none readings-value",style:{gridRow:2,gridColumn:2},children:[Object(j.a)(k.timeLastReading,"m-d-yy HH:MM"),d>k.evaluationFrequency?" [".concat("".concat(d>36e5?"".concat(Math.floor(d/36e5),":"):"").concat(d>6e4?"".concat(Math.floor(d%36e5/6e4),":"):"").concat(d>6e4&&d%6e4<1e4?"0":"").concat(Math.floor(d%6e4/1e3)),"]"):""]}),Object(g.jsx)("p",{className:"none readings-description",style:{gridRow:3,gridColumn:1},children:"Sensor Frequency:"}),Object(g.jsxs)("strong",{className:"none readings-value",style:{gridRow:3,gridColumn:2},children:[k.evaluationFrequency/6e4," minutes"]}),Object(g.jsx)("p",{className:"none readings-description",style:{gridRow:4,gridColumn:1},children:"Next Evaluation:"}),Object(g.jsx)("strong",{className:"none readings-value",style:{gridRow:4,gridColumn:2},children:o<=0?"Reading":o>6e4?"".concat(Math.floor(o/6e4),":").concat(o%6e4<1e4?"0":"").concat(Math.floor(o%6e4/1e3)):"".concat(Math.floor(o/1e3)," seconds")})]}):Object(g.jsx)("div",{className:"none no-size"})]}),void 0==k.sensorErrorCode?Object(g.jsx)("div",{className:"readings-box-inner",style:{backgroundColor:"rgba(0,0,0,0.75)"},children:Object(g.jsx)(T,{title:"Server URL:",current:U,verifyLevel:0,cache:!0,overrideValidation:!0,onUpdate:function(){var e=Object(c.a)(Object(a.a)().mark((function e(t,n){var r;return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return M({type:"setServerURL",payload:t}),e.next=3,de();case 3:return 1==(r=e.sent)&&H.push("/"),e.abrupt("return",1==r?"UPDATING":r);case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()})}):Object(g.jsx)("div",{className:"none no-size"})]})},getUpdate:$,pendingText:"DIRECTING"},{mobile:2,desktop:1,getWidget:function(){return k.operatingTemperature?Object(g.jsx)("div",{id:"temperature-section",className:"none readings-box-outer",style:{marginLeft:q?"auto":0},children:Object(g.jsxs)("div",{className:"readings-box-inner",style:{backgroundColor:A?E:z()},children:[Object(g.jsxs)("section",{className:"none readings-value-box",style:{columnGap:"0"},children:[Object(g.jsx)("strong",{className:"none readings-main-value",style:{},children:_(k.operatingTemperature)}),Object(g.jsx)("p",{className:"none ",style:{gridRow:1,gridColumn:2,verticalAlign:"top",fontSize:"1.0rem"},children:P?Object(g.jsx)("span",{children:"\u2109"}):Object(g.jsx)("span",{children:"\u2103"})})]}),V()?Object(g.jsxs)("section",{className:"readings-value-box",children:[Object(g.jsx)("p",{className:"none readings-title",style:{},children:"Temperature"}),Object(g.jsx)("p",{className:"none readings-description",style:{gridRow:2,gridColumn:1},children:"Efficiency:"}),Object(g.jsxs)("strong",{className:"none readings-value",style:{gridRow:2,gridColumn:2},children:[Math.floor(100*B()),"%"]}),Object(g.jsx)("p",{className:"none readings-description",style:{gridRow:3,gridColumn:1},children:"Range:"}),Object(g.jsxs)("strong",{className:"none readings-value",style:{gridRow:3,gridColumn:2},children:[_(k.minimumTemperature)," - ",_(k.maximumTemperature),P?Object(g.jsx)("span",{children:"\u2109"}):Object(g.jsx)("span",{children:"\u2103"})]})]}):Object(g.jsx)("div",{className:"none no-size"})]})}):Object(g.jsx)("div",{id:"temperature-section",className:"none no-size"})},getUpdate:Z,pendingText:"CONVERTING"},{mobile:3,desktop:3,getWidget:function(){return k.operatingHumidity?Object(g.jsx)("div",{id:"humidity-section",className:"none readings-box-outer",style:{marginRight:q?"auto":"0"},children:Object(g.jsxs)("div",{className:"readings-box-inner",style:{backgroundColor:A?E:z()},children:[Object(g.jsxs)("section",{className:"none readings-value-box",style:{columnGap:"0"},children:[Object(g.jsx)("strong",{className:"none readings-main-value",style:{},children:Math.round(100*k.operatingHumidity)/100}),Object(g.jsx)("p",{className:"none ",style:{gridRow:1,gridColumn:2,verticalAlign:"top",fontSize:"1.0rem"},children:"%"})]}),V()?Object(g.jsxs)("section",{className:"readings-value-box",children:[Object(g.jsx)("p",{className:"none readings-title",style:{textAlign:"center"},children:"Humidity"}),Object(g.jsx)("p",{className:"none readings-description",style:{gridRow:2,gridColumn:1},children:"Efficiency:"}),Object(g.jsxs)("strong",{className:"none readings-value",style:{gridRow:2,gridColumn:2},children:[Math.floor(100*W()),"%"]}),Object(g.jsx)("p",{className:"none readings-description",style:{gridRow:3,gridColumn:1},children:"Range:"}),Object(g.jsxs)("strong",{className:"none readings-value",style:{gridRow:3,gridColumn:2},children:[k.minimumHumidity," - ",k.maximumHumidity,"%"]})]}):Object(g.jsx)("div",{className:"none no-size"})]})}):Object(g.jsx)("div",{id:"humidity-section",className:"none no-size"})},getUpdate:Y,pendingText:"RETRIEVING"}];return Object(g.jsx)("div",{ref:t,id:"readings-container",className:q?"readings-align":"readings-top",children:Q.sort((function(e,t){return q?e.mobile-t.mobile:e.desktop-t.desktop})).map((function(e){return Object(g.jsx)("div",{style:{margin:"auto",padding:"2.0rem"},children:Object(g.jsx)(y,{title:e.getWidget(),condense:!0,buttonColor:"transparent",buttonStyle:{border:"none",margin:"0",padding:"0",borderRadius:"0.75rem"},verifyLevel:0,pendingText:e.pendingText,onUpdate:e.getUpdate})})}))})})),A=C,w=n.p+"static/media/terrarium-buddies.3158d65c.jpg",D=(n(83),function(e){var t=Object(p.c)((function(e){return e.image}));return Object(g.jsxs)("div",{children:[Object(g.jsx)("div",{style:{position:"absolute",zIndex:0,height:"100vh",width:"100vw",backgroundColor:"black"}},"background-black"),Object(g.jsx)("div",{style:{position:"absolute"},children:Object(g.jsx)("img",{className:"blur-effect",src:t.location||w,alt:"background-image",style:{zIndex:"2",display:"block",objectFit:"cover",overflow:"hidden",width:"100vw",height:"100vh",opacity:t.visible?.9:.3,transition:"all ".concat(.6*t.TRANSITION_INTERVAL,"ms ease")}})},"Background Image")]},"Background Component")}),R=function(e){var t=Object(p.c)((function(e){return e.data})),n=Object(i.useState)(0),r=Object(m.a)(n,2),a=r[0],c=r[1];return f((function(){c((new Date).getTime()-t.timeLastReading)}),1e3),Object(g.jsxs)("div",{className:"none border-box",style:{position:"fixed",bottom:0,width:"100%",padding:"0.3rem 1.0rem",display:"flex",justifyContent:"space-between",backgroundColor:"black",color:"whitesmoke",fontSize:"0.8rem",whiteSpace:"wrap",overflowX:"scroll"},children:[Object(g.jsx)("p",{className:"none",style:{whiteSpace:"nowrap",left:0},children:Object(j.a)((new Date).getTime(),"dddd, mmmm d, yyyy h:MM")}),Object(g.jsx)("p",{className:"none",style:{whiteSpace:"nowrap",right:"100vw"},children:isNaN(a)?"Disconnected":a>6e4?"".concat(Math.floor(a/6e4),":").concat(a%6e4<1e4?"0":"").concat(Math.floor(a%6e4/1e3)):"".concat(Math.floor(a/1e3)," seconds")})]})},I=s.a.forwardRef((function(e,t){var n=Object(p.c)((function(e){return e.image})),r=Object(p.c)((function(e){return e.data})),a=Object(i.useState)(!1),c=Object(m.a)(a,2),o=c[0],s=c[1],u=Object(p.c)((function(e){return e.isScreenSaverActive})),l=Object(i.useState)(!0),d=Object(m.a)(l,2),j=d[0],f=d[1],O=Object(i.useState)("0"),h=Object(m.a)(O,2),v=h[0],x=h[1];Object(i.useEffect)((function(){u&&!o?(f(!0),setTimeout((function(){return x("1")}),600)):(setTimeout((function(){return x("0")}),600),setTimeout((function(){return f(!1)}),1e3))}),[u,o]);var y=Object(p.c)((function(e){return e.screenSaverBrightness})),S=Object(p.b)(),N=Object(b.f)(),T=function(){if("Black"==y.setting)return 1;if("Scheduled"==y.setting){var e=19,t=[{hour:y.blackHourStart,opacity:0},{hour:y.dayHourStart,opacity:y.dayOpacity},{hour:y.nightHourStart,opacity:y.nightOpacity}];if(t=t.sort((function(e,t){return e.hour-t.hour})),console.log(t),e>=t[0].hour&&(e<t[1].hour||t[0].hour==t[1].hour)&&t[0].hour>=0&&t[0].hour<=23)return t[0].opacity;if(e>=t[1].hour&&(e<t[2].hour||t[1].hour==t[2].hour)&&t[1].hour>=0&&t[1].hour<=23)return t[1].opacity;if(e>=t[2].hour||e<t[0].hour&&t[2].hour>=0&&t[2].hour<=23)return t[2].opacity}return 1};Object(i.useEffect)((function(){void 0==r.sensorErrorCode||r.sensorErrorCode||r.maximumTemperatureErrorCode||r.minimumTemperatureErrorCode||r.maximumHumidityErrorCode||r.minimumHumidityErrorCode||void 0!=r.accessDatabase&&!r.accessDatabase?s(!0):s(!1)}),[r]);var E=Object(i.useRef)(),C=Object(i.useRef)(),D=Object(i.useCallback)((function(e){S({type:"deactivateScreenSaver"}),clearTimeout(E.current),E.current=setTimeout((function(){return S({type:"activateScreenSaver"})}),e||n.SCREENSAVER_INACTIVE_TIME),clearTimeout(C.current),u&&(C.current=setTimeout((function(){return N.push("/")}),3*(e||n.SCREENSAVER_INACTIVE_TIME)))}),[]);return Object(i.useEffect)((function(){return D()}),[]),Object(i.useImperativeHandle)(t,(function(){return{deactivateScreenSaver:function(){D()}}})),j?Object(g.jsxs)("div",{style:{zIndex:20,position:"absolute",width:"100vw",height:"100vh",opacity:v,transition:"all ".concat(.5*n.TRANSITION_INTERVAL,"ms ease")},children:[Object(g.jsx)("div",{style:{position:"absolute",height:"100vh",width:"100vw",backgroundColor:"black"}},"ScreenSaver-black"),Object(g.jsx)("div",{style:{position:"absolute"},children:Object(g.jsx)("img",{className:"",src:n.location||w,alt:"screensaver",style:{display:"block",objectFit:"cover",overflow:"hidden",width:"100vw",height:"100vh",opacity:n.isVisible?T():T()>.2?.2:0,transition:"all ".concat(.6*n.TRANSITION_INTERVAL,"ms ease")}})},"ScreenSaver Image"),Object(g.jsx)(A,{hideDetails:!0}),Object(g.jsx)(R,{})]},"ScreenSaver Component"):Object(g.jsx)("div",{className:"none no-size"})})),L=(n(84),n.p+"static/media/frog-logo.61394956.png"),k=Object(i.forwardRef)((function(e,t){var n=Object(b.f)(),r=Object(b.g)(),a=Object(p.b)();return Object(g.jsxs)("div",{children:[Object(g.jsx)("div",{id:"menu-container-spacer"}),Object(g.jsxs)("div",{ref:t,id:"menu-container",className:" border-box",children:[Object(g.jsxs)("div",{className:"menu-icon-box",style:{textDecoration:"none"},onClick:function(){"/"==r.pathname?setTimeout((function(){return a({type:"activateScreenSaver"})}),1500):n.push("/")},children:[Object(g.jsx)("img",{className:"menu-icon",src:L}),Object(g.jsx)("strong",{className:"menu-icon-text",children:"Current"})]}),Object(g.jsxs)(d.b,{to:"/controls",className:"menu-icon-box",style:{textDecoration:"none"},children:[Object(g.jsx)("img",{className:"menu-icon",src:L}),Object(g.jsx)("strong",{className:"menu-icon-text",children:"Controls"})]}),Object(g.jsxs)(d.b,{to:"/schedules",className:"menu-icon-box",style:{textDecoration:"none"},children:[Object(g.jsx)("img",{className:"menu-icon",src:L}),Object(g.jsx)("strong",{className:"menu-icon-text",children:"Schedules"})]}),Object(g.jsxs)(d.b,{to:"/climate",className:"menu-icon-box",style:{textDecoration:"none"},children:[Object(g.jsx)("img",{className:"menu-icon",src:L}),Object(g.jsx)("strong",{className:"menu-icon-text",children:"Climate"})]}),Object(g.jsxs)(d.b,{to:"/history",className:"menu-icon-box",style:{textDecoration:"none"},children:[Object(g.jsx)("img",{className:"menu-icon",src:L}),Object(g.jsx)("strong",{className:"menu-icon-text",children:"History"})]}),Object(g.jsxs)("div",{className:"menu-icon-box",style:{textDecoration:"none"},onClick:function(){"/settings"==r.pathname?n.push("/log"):n.push("/settings")},children:[Object(g.jsx)("img",{className:"menu-icon",src:L}),Object(g.jsx)("strong",{className:"menu-icon-text",children:"Settings"})]})]})]})})),U=n(6),P=[{name:"1m",value:6e4},{name:"2m",value:12e4},{name:"3m",value:18e4},{name:"4m",value:24e4},{name:"5m",value:3e5},{name:"6m",value:36e4},{name:"7m",value:42e4},{name:"8m",value:48e4},{name:"9m",value:54e4},{name:"10m",value:6e5},{name:"15m",value:9e5},{name:"30m",value:18e5},{name:"45m",value:27e5},{name:"1h",value:36e5},{name:"2h",value:72e5},{name:"3h",value:108e5},{name:"4h",value:144e5},{name:"5h",value:18e6},{name:"6h",value:216e5},{name:"12h",value:432e5},{name:"1d",value:864e5},{name:"3d",value:2592e5},{name:"1w",value:6048e5},{name:"2w",value:12096e5},{name:"1M",value:2592e6}],M=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;try{var n=parseInt(e);return n/2592e6>=1?"".concat(Math.floor(n/2592e6*(10*t))/(10*t),"M"):n/6048e5>=1?"".concat(Math.floor(n/6048e5*(10*t))/(10*t),"w"):n/864e5>=1?"".concat(Math.floor(n/864e5*(10*t))/(10*t),"d"):n/36e5>=1?"".concat(Math.floor(n/36e5*(10*t))/(10*t),"h"):n/6e4>=1?"".concat(Math.floor(n/6e4),"m"):"ZERO"}catch(r){return"INVALID"}},H=function(e){try{var t=/\d+/.exec(e)[0],n=parseInt(t),r=/[a-zA-Z]+/.exec(e)[0];return"m"==r?60*n*1e3:"h"==r?60*n*60*1e3:"d"==r?24*n*60*60*1e3:"w"==r?7*n*24*60*60*1e3:"M"==r?30*n*24*60*60*1e3:n}catch(a){return 0}},F=(n(85),["On","Off"]),V=function(e){var t=Object(i.useState)(1),n=Object(m.a)(t,2),r=n[0],a=n[1],c=(f((function(){a((e.until-(new Date).getTime())*(e.until-(new Date).getTime()<0?-1:1))}),1e3),/(severe|schedule|toggle|immediate)/i.test(e.topReason)),o=/(severe|extreme)/i.test(e.topReason);return Object(g.jsx)("div",{className:"none control-toggle-outer",style:{},onClick:e.onClick,children:Object(g.jsxs)("div",{className:"none control-toggle-inner",style:{borderColor:e.isSelected?"whitesmoke":e.select?"transparent":c?"var(--accent-color)":"transparent",backgroundColor:o?"darkred":e.active?"rgba(0, 102, 0, 0.6)":"rgba(0, 0, 0, 0.5)"},children:[Object(g.jsx)("strong",{className:"none control-toggle-text",children:e.title}),Object(g.jsx)("p",{className:"none control-toggle-timer",style:{},children:e.topReason}),Object(g.jsx)("p",{className:"none control-toggle-timer",style:{fontSize:"0.75rem",color:e.until-(new Date).getTime()<0?"gold":null},children:e.until<=0?"".concat(e.active?"ON":"OFF"," : INDEFINITELY"):"".concat(r>36e5?"".concat(Math.floor(r/36e5),":"):"").concat(r>6e4?"".concat(Math.floor(r%36e5/6e4),":"):"").concat(r>6e4&&r%6e4<1e4?"0":"").concat(Math.floor(r%6e4/1e3))})]})})};function z(e){var t=Object(p.c)((function(e){return e.serverURL})),n=Object(p.c)((function(e){return e.data})),r=Object(i.useState)(10),o=Object(m.a)(r,2),s=o[0],u=o[1],l=Object(i.useState)(!1),d=Object(m.a)(l,2),b=d[0],j=d[1],f=Object(i.useState)([]),O=Object(m.a)(f,2),v=O[0],x=O[1],N=Object(i.useState)([]),T=Object(m.a)(N,2),E=(T[0],T[1]);Object(i.useEffect)((function(){void 0!=n.controlTypes&&E(n.controlTypes);var e=P.findIndex((function(e){return e.value>n.timeNextEvaluation-(new Date).getTime()}))-1;e>4&&u(e)}),[n]);var C=function(e){for(var t=0;t<n.controlTypes.length;t++){for(var r=!0,a=0;a<n.CONTROLS.length;a++)if(e.includes(n.CONTROLS[a].name)&&!n.CONTROLS[a].types.includes(n.controlTypes[t])||!e.includes(n.CONTROLS[a].name)&&n.CONTROLS[a].types.includes(n.controlTypes[t])){r=!1;break}if(r)return"[".concat(n.controlTypes[t],"]")}var c="";return e.forEach((function(e){return c+="-"+e.match(/\b(\w)/g).join(".")})),"(".concat(c.substring(1).toUpperCase(),")")},A=function(){var e=Object(c.a)(Object(a.a)().mark((function e(n,r){var c,o,i=arguments;return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=!(i.length>2&&void 0!==i[2])||i[2],o=i.length>3&&void 0!==i[3]?i[3]:"Immediate ".concat(C(r)),e.next=4,h.a.post("".concat(t,"/schedule-add/"),{PASSWORD:n,time:(new Date).getTime(),title:o,names:JSON.stringify(r),duration:P[s].value,set:c||"true"==c,repeat:0}).then((function(e){return setTimeout((function(){return de()}),1e4),"EXECUTING"})).catch((function(e){return!!e.response&&e.response.status}));case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();return Object(g.jsxs)("div",{id:"control-container",children:[Object(g.jsxs)("div",{id:"duration-box",children:[Object(g.jsx)("label",{id:"duration-label",style:{color:"white"},onClick:function(){return u(10)},children:P[s].name}),Object(g.jsx)("input",{id:"duration-slider",type:"range",min:0,max:P.length-1,value:s,onChange:function(e){return u(e.target.value)}})]}),Object(g.jsx)("div",{id:"control-box",children:void 0===n.CONTROLS?Object(g.jsx)("div",{}):n.CONTROLS.map((function(e){return Object(g.jsx)(y,{title:Object(g.jsx)(V,{title:e.name,active:e.settings[0].set||"true"==e.settings[0].set,topReason:e.settings[0].reason,until:e.settings[0].until,select:b,isSelected:v.includes(e.name),onClick:function(){}}),pendingText:"SCHEDULING",condense:!0,buttonColor:"transparent",buttonStyle:{border:"none",margin:"1.0rem",padding:"0",width:"15.0rem"},verifyLevel:1,onUpdate:function(t){return b?(v.includes(e.name)?x((function(t){return Object(U.a)(t.filter((function(t){return t!==e.name})))})):x((function(t){return[].concat(Object(U.a)(t),[e.name])})),null):A(t,[e.name],!(e.settings[0].set||"true"==e.settings[0].set),"Toggle ".concat(C([e.name])))}},e.name)}))}),Object(g.jsxs)("div",{id:"control-select-box",children:[Object(g.jsx)(y,{title:b?"ALL":"ON",pendingText:"ACTIVATING",condense:!0,buttonColor:"rgba(0, 0, 0, 0.95)",buttonStyle:{border:"none",padding:"0.70rem 2rem",fontSize:"0.9rem",width:"auto",minWidth:"6.0rem",borderRadius:"0.5rem"},verifyLevel:1,onUpdate:function(e){return b?x(Object(U.a)(n.CONTROLS.map((function(e){return e.name})))):A(e,Object(U.a)(n.CONTROLS.map((function(e){return e.name}))),!0,"ALL ON")}}),Object(g.jsx)(y,{title:"ACTIVE",pendingText:"SCHEDULING",condense:!0,buttonColor:"rgba(0, 0, 0, 0.95)",buttonStyle:{display:b?null:"none",border:"none",padding:"0.70rem 2rem",fontSize:"0.9rem",width:"auto",minWidth:"6.0rem",borderRadius:"0.5rem"},verifyLevel:1,onUpdate:function(e){return b?x(Object(U.a)(n.CONTROLS.filter((function(e){return e.settings[0].set})).map((function(e){return e.name})))):A(e,Object(U.a)(n.CONTROLS.filter((function(e){return e.settings[0].set})).map((function(e){return e.name}))),!1,"DEACTIVATING")}}),Object(g.jsx)(y,{title:"INACTIVE",pendingText:"SCHEDULING",condense:!0,buttonColor:"rgba(0, 0, 0, 0.95)",buttonStyle:{display:b?null:"none",border:"none",padding:"0.70rem 2rem",fontSize:"0.9rem",width:"auto",minWidth:"6.0rem",borderRadius:"0.5rem"},verifyLevel:1,onUpdate:function(e){return b?x(Object(U.a)(n.CONTROLS.filter((function(e){return!e.settings[0].set})).map((function(e){return e.name})))):A(e,Object(U.a)(n.CONTROLS.filter((function(e){return!e.settings[0].set})).map((function(e){return e.name}))),!0,"ACTIVATING")}}),function(){var e=new Map;return n.CONTROLS.forEach((function(t,n){return t.types.forEach((function(n){return e.set(n,[].concat(Object(U.a)(e.get(n)||[]),[t.id]))}))})),Object(U.a)(e).filter((function(e,t,n){var r=Object(m.a)(e,2),a=r[0],c=r[1];return c.length>1&&(b||!F.includes(a))&&n.findIndex((function(e,t){var n=Object(m.a)(e,2);n[0];return n[1].toString()==c.toString()}))===t})).map((function(e){var t=Object(m.a)(e,2),n=t[0];t[1];return n}))}().map((function(e,t){return Object(g.jsx)(y,{title:e,pendingText:"SCHEDULING",condense:!0,buttonColor:"rgba(0, 0, 0, 0.95)",buttonStyle:{border:"none",padding:"0.70rem 2rem",fontSize:"0.9rem",width:"auto",minWidth:"6.0rem",borderRadius:"0.5rem"},verifyLevel:1,onUpdate:function(t){return b?x((function(t){return Object(U.a)(n.CONTROLS.filter((function(t){return t.types.includes(e)})).map((function(e){return e.name}))).every((function(e,t,n){return v.includes(e)}))?Object(U.a)(n.CONTROLS.filter((function(n){return!n.types.includes(e)&&t.includes(e)})).map((function(e){return e.name}))):Object(U.a)(n.CONTROLS.filter((function(t){return t.types.includes(e)})).map((function(e){return e.name})))})):A(t,Object(U.a)(n.CONTROLS.filter((function(t){return t.types.includes(e)})).map((function(e){return e.name}))),!Object(U.a)(n.CONTROLS.filter((function(t){return t.types.includes(e)}))).every((function(e,t,n){return e.settings[0].set==n[0].settings[0].set}))||!Object(U.a)(n.CONTROLS.filter((function(t){return t.types.includes(e)}))).length||!Object(U.a)(n.CONTROLS.filter((function(t){return t.types.includes(e)})))[0].settings[0].set,"Immediate ".concat(e))}},e)})),Object(g.jsx)(y,{title:b?"NONE":"OFF",pendingText:"DEACTIVATING",condense:!0,buttonColor:"rgba(0, 0, 0, 0.95)",buttonStyle:{border:"none",padding:"0.70rem 2rem",fontSize:"0.9rem",width:"auto",minWidth:"6.0rem",borderRadius:"0.5rem"},verifyLevel:1,onUpdate:function(e){return b?x([]):A(e,Object(U.a)(n.CONTROLS.map((function(e){return e.name}))),!1,"ALL OFF")}})]}),b?Object(g.jsxs)("div",{id:"control-select-box",children:[Object(g.jsx)(y,{title:"ON",pendingText:"ACTIVATING",condense:!0,buttonStyle:{border:"none",padding:"0.45rem 2rem",width:"auto",minWidth:"6.0rem",borderRadius:"0.5rem",color:"black"},verifyLevel:1,onUpdate:function(e){return A(e,v,!0)}}),Object(g.jsx)(y,{title:"OFF",pendingText:"DEACTIVATING",condense:!0,buttonStyle:{border:"none",padding:"0.45rem 2rem",width:"auto",minWidth:"6.0rem",borderRadius:"0.5rem",color:"black"},verifyLevel:1,onUpdate:function(e){return A(e,v,!1)}}),Object(g.jsx)("button",{className:"none control-button control-button-exit",onClick:function(){j(!1),x([])},children:"Exit"})]}):Object(g.jsx)("div",{id:"control-select-box",children:Object(g.jsx)("button",{className:"none control-button",onClick:function(){return j(!0)},children:"Select"})}),Object(g.jsx)(S,{duration:P[s].value,verifyLevel:P[s].value<864e5?1:2,buttonStyle:{padding:"0.4rem"}})]})}var G=n(13),B=(n(86),function(e){return"UPDATE"==e||""==e?"var(--main-color)":"PASS"==e||"INVALID"==e||"FAILED"==e?"#e8000d":"PENDING"==e||"BLANK"==e?"orange":"#cc5500"}),W=function(e){var t,n=Object(i.useState)(e.customDefault),r=Object(m.a)(n,2),a=r[0],c=r[1],o=Object(i.useState)(e.multipleList),s=Object(m.a)(o,2),u=s[0],l=s[1],d=Object(p.c)((function(e){return e.dropListOpen})),b=Object(p.b)();Object(i.useEffect)((function(){l(e.multipleList)}),[e.multipleList]),Object(i.useEffect)((function(){c(e.customDefault)}),[e.customDefault]);var j=void 0!=e.buttonColor?e.buttonColor:"",f=void 0!=e.customName&&e.customName,O=void 0!=e.inputType?e.inputType:"text",h=void 0!=u;return Object(g.jsxs)("div",{className:"schedule-drop-menu-container",style:e.outerStyle,onFocus:function(){},onBlur:function(){},children:[Object(g.jsxs)("button",{className:"schedule-input schedule-drop-menu-button ".concat(e.buttonStyleClass||""),style:{color:isNaN(e.value)?"white":j,backgroundColor:isNaN(e.value)?j:null},onClick:function(){return b({type:"setDropList",payload:e.dropListId})},children:[void 0!=e.value?e.value:void 0!=e.multipleList?e.multipleList.toString():"",e.subValue?Object(g.jsxs)("span",{children:[Object(g.jsx)("label",{style:{color:"grey",margin:"0 0.5rem"},children:"|"}),Object(g.jsx)("label",{style:{color:"orange"},children:e.subValue||""})]}):null]}),d==e.dropListId?Object(g.jsxs)("div",{className:"schedule-drop-menu-list",style:{top:e.options.length<=5?null:"5vh"},children:[Object(g.jsx)("button",{className:"schedule-drop-menu-item",style:{borderBottom:"1px solid whitesmoke",color:"var(--main-color)"},onClick:function(){b({type:"setDropList"})},children:"Cancel"},"cancel-button"),h?Object(g.jsx)("button",{className:"schedule-drop-menu-item schedule-save-button",style:{borderBottom:"1px solid whitesmoke",marginTop:0},onClick:function(){e.onSelect(u),b({type:"setDropList"})},children:"SAVE"},"save-button-1"):Object(g.jsx)("div",{className:"none no-size"}),e.options.map((function(t,n){return Object(g.jsx)("button",{className:"schedule-drop-menu-item",style:{border:(h?u.includes(t):e.value==t)?"1px solid var(--main-color)":"none",backgroundColor:"UPDATE"==t?"var(--main-color)":"DELETE"==t?"red":"",color:"UPDATE"==t?"white":"DELETE"==t?"black":""},onClick:function(){h&&u.includes(t)?l(u.filter((function(e){return e!=t}))):h?l([].concat(Object(U.a)(u),[t])):(e.onSelect(t),b({type:"setDropList"}))},children:t},"".concat(t,"-").concat(JSON.stringify(u)))})),e.extraList&&h?Object(g.jsx)("button",{className:"schedule-drop-menu-item schedule-save-button",style:{borderTop:"1px solid whitesmoke",borderBottom:"1px solid whitesmoke"},onClick:function(){e.onSelect(u),b({type:"setDropList"})},children:e.extraName||"SAVE"},"save-button-2"):Object(g.jsx)("div",{className:"none no-size"}),e.extraList?e.extraList.map((function(t,n){return Object(g.jsx)("button",{className:"schedule-drop-menu-item",style:{border:(h?u.includes(t):e.value==t)?"1px solid var(--main-color)":"none",backgroundColor:"UPDATE"==t?"var(--main-color)":"DELETE"==t?"red":"",color:"UPDATE"==t?"white":"DELETE"==t?"black":""},onClick:function(){e.onExtra(t),b({type:"setDropList"})},children:t},"".concat(t,"-").concat(JSON.stringify(u)))})):null,f?Object(g.jsxs)("div",{className:"none",style:{display:"inline-grid",gridColumn:1},children:[Object(g.jsx)("input",{type:O,className:"schedule-drop-menu-item",style:(t={gridColumn:1,width:"10.0rem",border:"none",borderRadius:0},Object(G.a)(t,"border","1px solid whitesmoke"),Object(G.a)(t,"backgroundColor","black"),Object(G.a)(t,"color","white"),t),value:a,onChange:function(e){return c(e.target.value)},onKeyPress:function(t){13==t.charCode&&(e.onSelect(h?[].concat(Object(U.a)(u),[a]):a),b({type:"setDropList"}))}},"settings-add-input"),Object(g.jsx)("button",{className:"schedule-drop-menu-item",style:{gridColumn:2,border:"none",borderRadius:0,borderBottom:"1px solid whitesmoke",backgroundColor:"whitesmoke",color:"black"},onClick:function(){e.onSelect(h?[].concat(Object(U.a)(u),[a]):a),b({type:"setDropList"})},children:f},"settings-add-button")]}):Object(g.jsx)("div",{className:"none no-size"}),h?Object(g.jsx)("button",{className:"schedule-save-button schedule-drop-menu-item ",style:{borderTop:"1px solid whitesmoke",marginBottom:0},onClick:function(){e.onSelect(u),b({type:"setDropList"})},children:"SAVE"},"save-button-3"):Object(g.jsx)("div",{className:"none no-size"})]}):Object(g.jsx)("div",{})]})},_=function(e){var t=parseInt(e)||0,n=new Date;n.setHours(0,0,0,0);var r=new Date(n.getTime()+864e5),a=new Date(n.getTime()-864e5);if(t>=n.getTime()&&t<r.getTime())return"Today";if(t>=r.getTime()&&t<new Date(r.getTime()+864e5).getTime())return"Tomorrow";if(t>=new Date(a.getTime()-864e5).getTime()&&t<n.getTime())return"Yesterday";if(t>=new Date(n.getTime()-5184e5).getTime()&&t<=new Date(n.getTime()+6048e5).getTime()){var c=new Date(t).getDay();return 0==c?"Sunday":1==c?"Monday":2==c?"Tuesday":3==c?"Wednesday":4==c?"Thursday":5==c?"Friday":6==c?"Saturday":"New Day"}return function(e){var t=parseInt(e)||0,n=new Date(t).getDate();return 1==n||21==n||31==n?"".concat(Object(j.a)(t,"mmm"),", ").concat(n,"st"):2==n||22==n?"".concat(Object(j.a)(t,"mmm"),", ").concat(n,"nd"):3==n||23==n?"".concat(Object(j.a)(t,"mmm"),", ").concat(n,"rd"):"".concat(Object(j.a)(t,"mmm"),", ").concat(n,"th")}(t)},J=function(){var e=[],t=new Date;t=t.setHours(7,0,0,0);for(var n=0;n<30;n++)e.push(t),t+=864e5;return e},K=function(e){var t,n,r=Object(p.c)((function(e){return e.dropListOpen})),a=Object(i.useState)(e.time),c=Object(m.a)(a,2),o=c[0],s=c[1],u=Object(p.b)();return Object(g.jsxs)("div",{className:"schedule-drop-menu-container",style:e.outerStyle,onFocus:function(){},onBlur:function(){},children:[Object(g.jsx)("button",{className:"schedule-input schedule-drop-menu-button ".concat(e.buttonStyleClass||""),onClick:function(){return u({type:"setDropList",payload:e.dropListId})},children:"".concat(_(e.time)," ").concat(Object(j.a)(parseInt(e.time)||0,"H:MM"))}),r==e.dropListId?Object(g.jsxs)("div",{className:"schedule-drop-date-menu",style:{},children:[Object(g.jsxs)("div",{className:"schedule-drop-menu-list",style:{top:"5vh",gridRow:1,gridColumn:1,left:"2.0rem"},children:[Object(g.jsx)("label",{className:"schedule-drop-menu-item",style:{gridRow:1,borderBottom:"1px solid whitesmoke",color:"var(--main-color)"},onClick:function(){u({type:"setDropList"})},children:"Cancel"},"cancel-button"),J().map((function(t,n){return Object(g.jsx)("label",{className:"schedule-drop-menu-item",style:{gridRow:n+2,border:new Date(e.time).getMonth()==new Date(t).getMonth()&&new Date(e.time).getDate()==new Date(t).getDate()?"1px solid var(--main-color)":"none"},onClick:function(){e.onSelect(t)},children:_(t)},t)})),Object(g.jsxs)("div",{className:"none",style:{display:"inline-grid",gridColumn:1},children:[Object(g.jsx)("input",{type:"number",step:864e5,className:"schedule-drop-menu-item",style:(t={gridColumn:1,width:"10.0rem",border:"none",borderRadius:0},Object(G.a)(t,"border","1px solid whitesmoke"),Object(G.a)(t,"backgroundColor","black"),Object(G.a)(t,"color","white"),t),value:o,onChange:function(e){return s(e.target.value)},onKeyPress:function(t){13==t.charCode&&(e.onSelect(o),u({type:"setDropList"}))}},"settings-add-input"),Object(g.jsx)("button",{className:"schedule-drop-menu-item",style:{gridColumn:2,border:"none",borderRadius:0,borderBottom:"1px solid whitesmoke",backgroundColor:"whitesmoke",color:"black"},onClick:function(){e.onSelect(o),u({type:"setDropList"})},children:"EPOCH"},"settings-add-button")]})]}),Object(g.jsxs)("div",{className:"schedule-drop-menu-list",style:{top:"5vh",gridRow:1,gridColumn:1,right:"2.0rem"},children:[Object(g.jsx)("label",{className:"schedule-drop-menu-item",style:{gridRow:1,borderBottom:"1px solid whitesmoke",color:"var(--main-color)"},onClick:function(){u({type:"setDropList"})},children:"Cancel"},"cancel-button"),[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24].map((function(t,n){return Object(g.jsxs)("label",{className:"schedule-drop-menu-item",style:{gridRow:n+2,border:new Date(e.time).getHours()==t?"1px solid var(--main-color)":"none"},onClick:function(){e.onSelect(new Date(e.time).setHours(t,0,0,0)),s(new Date(e.time).setHours(t,0,0,0)),u({type:"setDropList"})},children:[t," : 00"]},t)})),Object(g.jsxs)("div",{className:"none",style:{display:"inline-grid",gridColumn:1},children:[Object(g.jsx)("input",{type:"number",step:60,className:"schedule-drop-menu-item",style:(n={gridColumn:1,width:"10.0rem",border:"none",borderRadius:0},Object(G.a)(n,"border","1px solid whitesmoke"),Object(G.a)(n,"backgroundColor","black"),Object(G.a)(n,"color","white"),n),value:60*new Date(o).getHours()+new Date(o).getMinutes(),onChange:function(t){return s(new Date(e.time).setHours(0,t.target.value,0,0))},onKeyPress:function(t){13==t.charCode&&(e.onSelect(o),u({type:"setDropList"}))}},"settings-add-input"),Object(g.jsx)("button",{className:"schedule-drop-menu-item",style:{gridColumn:2,border:"none",borderRadius:0,borderBottom:"1px solid whitesmoke",backgroundColor:"whitesmoke",color:"black"},onClick:function(){e.onSelect(o),u({type:"setDropList"})},children:"Time (m)"},"settings-add-button")]})]})]}):Object(g.jsx)("div",{})]})},q=function(e){var t=Object(p.c)((function(e){return e.data})),n=Object(p.b)(),r=Object(i.useState)(void 0),o=Object(m.a)(r,2),s=o[0],u=o[1],l=Object(i.useState)(void 0),d=Object(m.a)(l,2),b=d[0],j=d[1],f=Object(i.useState)(""),O=Object(m.a)(f,2),h=O[0],x=O[1],S=Object(i.useState)(e.priority||null),N=Object(m.a)(S,2),T=N[0],E=N[1],C=Object(i.useState)(e.time||(new Date).setMinutes(0,0,0)),A=Object(m.a)(C,2),w=A[0],D=A[1],R=Object(i.useState)(e.title||""),I=Object(m.a)(R,2),L=I[0],k=I[1],F=Object(i.useState)(!1),V=Object(m.a)(F,2),z=V[0],G=V[1],_=Object(i.useState)(e.names||[]),J=Object(m.a)(_,2),q=J[0],X=J[1],Y=Object(i.useState)(e.duration||9e5),Z=Object(m.a)(Y,2),$=Z[0],Q=Z[1],ee=Object(i.useState)(e.set||!0),te=Object(m.a)(ee,2),ne=te[0],re=te[1],ae=Object(i.useState)(e.repeat||0),ce=Object(m.a)(ae,2),oe=ce[0],ie=ce[1],se=function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];E(e.priority||null),D(t||void 0==e.time?(new Date).setMinutes(0,0,0):e.time),k(t||void 0==e.title?"":e.title),X(t||void 0==e.names?[]:e.names),Q(t||void 0==e.duration?9e5:e.duration),re(!(!t&&void 0!=e.set)||e.set),ie(t||void 0==e.repeat?0:e.repeat),t&&x("NEW")};Object(i.useEffect)((function(){return se()}),[e]),Object(i.useEffect)((function(){return se()}),[e]);var ue=void 0!=e.verifyLevel?e.verifyLevel:1,le=void 0!=e.insertNew,de=function(){if(!e.names)return!0;if(Array.isArray(e.names))for(var t=0;t<e.names.length;t++)if(!q.includes(e.names[t]))return!0;if(Array.isArray(q))for(var n=0;n<q.length;n++)if(!e.names.includes(q[n]))return!0;return!1},be=function(){return!e.time||e.time!=w},me=function(){return!e.title||e.title!=L},pe=function(){return!e.duration||e.duration!=$},je=function(){return e.set!=ne},fe=function(){return void 0==e.repeat||e.repeat!=oe},Oe=function(){return!!be()||(!!me()||(!(e.names&&!de())||(!!pe()||(!!je()||!!fe()))))},he=function(){if(Array.isArray(q)){if(0==q.length)return!1;for(var e=0;e<q.length;e++)if(void 0==q[e])return!1}else if(!q||!q.length)return!1;return!0},ge=function(){return w&&!isNaN(w)},ve=function(){return L&&""!=L},xe=function(){return $&&!isNaN($)},ye=function(){return 0==ne||1==ne},Se=function(){return null!=oe&&void 0!=oe&&!isNaN(oe)};Object(i.useEffect)((function(){var e=Oe()?"UPDATE":"";ge()||(e="TIME"),ve()||(e="TITLE"),he()||(e="CONTROLS"),xe()||(e="DURATION"),ye()||(e="SET"),Se()||(e="REPEAT"),x(e),!z&&le&&q.length&&k("".concat(Ee()," ").concat(ne?"On":"Off"," for ").concat($>36e5?"".concat(Math.floor($/36e5),":"):"").concat($>6e4?"".concat(Math.floor($%36e5/6e4),":"):"").concat($>6e4&&$%6e4<1e4?"0":"").concat(Math.floor($%6e4/1e3)))}),[T,w,L,q,$,ne,oe]);var Ne=function(){var t=Object(c.a)(Object(a.a)().mark((function t(n,r){var c;return Object(a.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(j(void 0),1!=ue||localStorage.getItem("password")){t.next=4;break}return t.next=4,localStorage.setItem("password",n.toString());case 4:return t.next=6,e.onUpdate(r||s,n,T,w,L,q,$,ne,oe);case 6:return 1==(c=t.sent)||isNaN(c)?(x(1!=c?c:"SAVED"),setTimeout((function(){le&&se(!0)}),5e3)):401==c?(x("PASS"),localStorage.clear(),setTimeout((function(){return x("UPDATE")}),5e3)):404==c?(x("INVALID"),setTimeout((function(){return se()}),5e3)):(x("FAILED"),setTimeout((function(){return se()}),5e3)),u(void 0),t.abrupt("return",h);case 10:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),Te=function(){var e=Object(c.a)(Object(a.a)().mark((function e(t){return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:x("PENDING"),t&&u(t),0==ue?Ne(void 0,t):1!=ue||localStorage.getItem("password")?1==ue?Ne(localStorage.getItem("password"),t):j("Enter Advanced Passphrase to Proceed:"):j("Enter Control Password to Continue:");case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ee=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window.innerWidth;if(!t.CONTROLS||!q||0==q.length)return"-";if(void 0!=t.CONTROLS&&q.length==t.CONTROLS.length)return"[ALL]";if(q.length>1)for(var n=0;n<t.controlTypes.length;n++){for(var r=!0,a=0;a<t.CONTROLS.length;a++)if(q.includes(t.CONTROLS[a].name)&&!t.CONTROLS[a].types.includes(t.controlTypes[n])||!q.includes(t.CONTROLS[a].name)&&t.CONTROLS[a].types.includes(t.controlTypes[n])){r=!1;break}if(r)return"[".concat(t.controlTypes[n],"]")}var c="";return q.forEach((function(t){return c+=" - "+(e>900?t:t.match(/\b(\w)/g).join("."))})),c.substring(3).toUpperCase()};return Object(g.jsxs)("div",{className:"none schedule-row",children:[le?Object(g.jsx)(y,{title:"UPDATE"!=h?h:"SAVE",buttonColor:"UPDATE"!=h?"orange":"var(--main-color)",buttonStyle:{gridRow:1,gridColumn:1,height:"85%",width:"auto",maxWidth:"100%",overflowX:"auto"},pendingText:"SCHEDULING",condense:!0,verifyLevel:1,onUpdate:function(){var e=Object(c.a)(Object(a.a)().mark((function e(t){return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("UPDATE"!=h){e.next=6;break}return e.next=3,Ne(t,"INSERT");case 3:e.t0=e.sent,e.next=7;break;case 6:e.t0=!1;case 7:return e.abrupt("return",e.t0);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}):Object(g.jsx)("section",{className:"none schedule-value-box",style:{gridRow:1,gridColumn:1,backgroundColor:""!=h?"transparent":w<t.timeNextEvaluation?"black":null},children:Object(g.jsx)(W,{value:""==h?T:h,dropListId:"".concat(JSON.stringify(e),"-update"),subValue:e.overriddenList&&e.overriddenList.length?"".concat(e.overriddenList.join(", ")):void 0,buttonColor:B(h),customName:"PRIORITY",inputType:"number",customDefault:T,options:function(){var e=["DELETE","INCREASE","DECREASE"];return Oe()&&e.unshift("RESET"),"UPDATE"==h&&e.unshift("UPDATE"),e}(),onSelect:function(e){"RESET"==e?se(le):Te(e)}})}),Object(g.jsx)("section",{className:"none schedule-value-box",style:{gridRow:1,gridColumn:2,backgroundColor:w<t.timeNextEvaluation?"black":null,border:ge()?be()?"1px solid var(--main-color)":null:"1px solid darkred"},children:Object(g.jsx)(K,{dropListId:"".concat(JSON.stringify(e),"-time"),time:w,onSelect:function(e){return D(parseInt(e)||w)}})}),Object(g.jsx)("section",{className:"none schedule-value-box",style:{gridRow:1,gridColumn:3,backgroundColor:w<t.timeNextEvaluation?"black":null,border:ve()?me()?"1px solid var(--main-color)":null:"1px solid darkred"},children:Object(g.jsx)("input",{type:"text",className:"schedule-input schedule-drop-menu-button",onClick:function(){G(!0),n({type:"setDropList"})},value:L,onChange:function(e){return k(e.target.value)}})}),Object(g.jsx)("section",{className:"none schedule-value-box",style:{gridRow:1,gridColumn:4,backgroundColor:w<t.timeNextEvaluation?"black":null,border:he()?de()?"1px solid var(--main-color)":null:"1px solid darkred"},children:Object(g.jsx)(W,{value:Ee(),dropListId:"".concat(JSON.stringify(e),"-names"),multipleList:Object(U.a)(q),options:t.CONTROLS?Object(U.a)(t.CONTROLS.map((function(e){return e.name}))):[],onSelect:function(e){return X(Array.isArray(e)?Object(U.a)(e):[e])},extraName:"TYPES",extraList:t.controlTypes?["[ALL]","[NONE]"].concat(Object(U.a)(t.controlTypes.map((function(e){return"[".concat(e,"]")})))):[],onExtra:function(e){return X("[ALL]"==e?Object(U.a)(t.CONTROLS.map((function(e){return e.name}))):"[NONE]"==e?[]:Object(U.a)(t.CONTROLS.filter((function(t){return t.types.includes(e.replace(/\[|\]/g,""))})).map((function(e){return e.name}))))}})}),Object(g.jsx)("section",{className:"none schedule-value-box",style:{gridRow:1,gridColumn:5,backgroundColor:w<t.timeNextEvaluation?"black":null,border:xe()?pe()?"1px solid var(--main-color)":null:"1px solid darkred"},children:Object(g.jsx)(W,{value:M($),dropListId:"".concat(JSON.stringify(e),"-duration"),options:P.map((function(e){return e.name})),customName:"Minutes",inputType:"number",customDefault:$/6e4,onSelect:function(e){return Q(isNaN(e)?H(e):6e4*e)}})}),Object(g.jsx)("section",{className:"none schedule-value-box",style:{gridRow:1,gridColumn:6,backgroundColor:w<t.timeNextEvaluation?"black":null,border:ye()?je()?"1px solid var(--main-color)":null:"1px solid darkred"},children:Object(g.jsx)(W,{value:ne?"ON":"OFF",dropListId:"".concat(JSON.stringify(e),"-set"),options:["ON","OFF"],onSelect:function(e){re("ON"==e)}})}),Object(g.jsx)("section",{className:"none schedule-value-box",style:{gridRow:1,gridColumn:7,backgroundColor:w<t.timeNextEvaluation?"black":null,border:Se()?fe()?"1px solid var(--main-color)":null:"1px solid darkred"},children:Object(g.jsx)(W,{value:oe?M(oe):"ONCE",dropListId:"".concat(JSON.stringify(e),"-repeat"),options:["ONCE"].concat(Object(U.a)(P.map((function(e){return e.name})))),customName:"Minutes",inputType:"number",customDefault:oe/6e4,onSelect:function(e){return ie("ONCE"==e?0:isNaN(e)?H(e):6e4*e)}})}),b?Object(g.jsx)(v,{prompt:b,onSubmit:function(e){return Ne(e,s)},onCancel:function(){j(void 0),x("UPDATE")}}):Object(g.jsx)("div",{className:"none no-size",style:{position:"absolute"}})]})},X=function(e){var t=Object(p.c)((function(e){return e.serverURL})),n=Object(i.useState)([]),r=Object(m.a)(n,2),o=r[0],s=r[1],u=Object(i.useState)(!0),l=Object(m.a)(u,2),d=l[0],b=l[1],j=Object(i.useState)([]),f=Object(m.a)(j,2),O=f[0],v=f[1],x=function(){return h.a.get("".concat(t,"/data-schedules/")).then((function(e){console.log("SCHEDULES",e.data.schedules),s(e.data.schedules),function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3;if(e&&e.length){var n=0,r=0,a=(new Date).getTime()+24*t*60*60*1e3,c=0,i=Object(U.a)(e.map((function(e){return{time:e.time,duration:e.duration,repeat:e.repeat,priority:e.priority,names:e.names||[],overrides:[]}}))),s=function(){n=i.reduce((function(e,t){return t.time<e&&t.time>r?t.time:e}),a),c++;var e=i.find((function(e){return n==e.time}));return void 0==e?"break":(i.forEach((function(t){!e.overrides.includes(t.priority)&&e.priority>t.priority&&t.time<e.time+e.duration&&t.time+t.duration>e.time&&e.names.some((function(e){return t.names.includes(e)}))&&e.overrides.push(t.priority)})),r=e.time,e.time+=e.repeat,c>1e3?(console.log("Schedule.calculateOccurrenceList() Maxed Search: ",c,i),"break"):void 0)};do{if("break"===s())break}while(n<a);v(Object(U.a)(i.map((function(e){return{priority:e.priority,overrides:Object(U.a)(e.overrides.sort((function(e,t){return t-e})))}}))))}}(e.data.schedules)})).catch((function(e){return console.log("Failed to Fetch Schedule Information",e),!!e.response&&e.response.status}))};Object(i.useEffect)((function(){return x()}),[]);var N=function(e){if(!O||o.length!=O.length||void 0==e)return[];var t=O.find((function(t){return t.priority==e}));return t?t.overrides:[]};return Object(g.jsxs)("div",{id:"schedule-list",className:"none border-box",children:[Object(g.jsxs)("div",{className:"none schedule-row",children:[Object(g.jsx)("label",{className:"schedule-header",style:{gridColumn:1},children:"Edit"}),Object(g.jsx)("label",{className:"schedule-header",style:{gridColumn:2},children:"Occurrence"}),Object(g.jsx)("label",{className:"schedule-header",style:{gridColumn:3},children:"Title"}),Object(g.jsx)("label",{className:"schedule-header",style:{gridColumn:4},children:"Control"}),Object(g.jsx)("label",{className:"schedule-header",style:{gridColumn:5},children:"Duration"}),Object(g.jsx)("label",{className:"schedule-header",style:{gridColumn:6},children:"Set"}),Object(g.jsx)("label",{className:"schedule-header",style:{gridColumn:7},children:"Repeat"})]}),Object(g.jsx)(q,{insertNew:!0,onUpdate:function(){var e=Object(c.a)(Object(a.a)().mark((function e(n,r,c,o,i,s,u,l,d){return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("INSERT"!=n){e.next=4;break}return e.next=3,h.a.post("".concat(t,"/schedule-add/"),{PASSWORD:r,time:o,title:i,names:JSON.stringify(s),duration:u,set:l,repeat:d}).then((function(e){return x(),!0})).catch((function(e){return!!e.response&&e.response.status}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t,n,r,a,c,o,i,s,u){return e.apply(this,arguments)}}()}),Object(g.jsxs)("div",{className:"schedule-button-row",children:[Object(g.jsx)(y,{title:d?"Sort Priority":"Sort Time",buttonStyle:{padding:"0.40rem"},condense:!0,buttonColor:"orange",verifyLevel:0,onUpdate:function(){var e=Object(c.a)(Object(a.a)().mark((function e(t){return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return b(!d),e.abrupt("return","Sorting");case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}),Object(g.jsx)(S,{buttonColor:"black",buttonStyle:{padding:"0.45rem"}}),Object(g.jsx)(y,{title:"UPDATE",buttonStyle:{padding:"0.40rem"},pendingText:"RETRIEVING",condense:!0,verifyLevel:1,onUpdate:function(){var e=Object(c.a)(Object(a.a)().mark((function e(t){var n;return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x();case 2:return n=e.sent,e.abrupt("return",1==n?"UPDATED":n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()})]}),Object(U.a)(o.sort((function(e,t){return d?e.time-t.time:t.priority-e.priority}))).map((function(e,n){return Object(g.jsx)(q,{verifyLevel:1,priority:e.priority,time:e.time,title:e.title,names:e.names,duration:e.duration,set:1==e.set||1==e.set,repeat:e.repeat,overriddenList:N(e.priority),onUpdate:function(){var n=Object(c.a)(Object(a.a)().mark((function n(r,c,o,i,s,u,l,d,b){return Object(a.a)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if("DELETE"!=r){n.next=6;break}return n.next=3,h.a.post("".concat(t,"/schedule-delete/"),{PASSWORD:c,priority:e.priority}).then((function(e){return x(),!0})).catch((function(e){return!!e.response&&e.response.status}));case 3:case 9:case 15:case 21:return n.abrupt("return",n.sent);case 6:if("UPDATE"!=r){n.next=12;break}return n.next=9,h.a.post("".concat(t,"/schedule-replace/"),{PASSWORD:c,currentPriority:e.priority,priority:o,time:i,title:s,names:JSON.stringify(u),duration:l,set:d,repeat:b}).then((function(e){return x(),!0})).catch((function(e){return!!e.response&&e.response.status}));case 12:if("INCREASE"!=r&&"DECREASE"!=r){n.next=18;break}return n.next=15,h.a.post("".concat(t,"/schedule-priority-increase/"),{PASSWORD:c,priority:e.priority,increase:"INCREASE"==r}).then((function(e){return x(),!0})).catch((function(e){return!!e.response&&e.response.status}));case 18:if(isNaN(parseInt(r))){n.next=22;break}return n.next=21,h.a.post("".concat(t,"/schedule-update/"),{PASSWORD:c,priority:e.priority,attributeName:"priority",value:parseInt(r)||0}).then((function(e){return x(),!0})).catch((function(e){return!!e.response&&e.response.status}));case 22:case"end":return n.stop()}}),n)})));return function(e,t,r,a,c,o,i,s,u){return n.apply(this,arguments)}}()},"Schedule-".concat(n))}))]})},Y=(n(87),function(e){var t=Object(p.c)((function(e){return e.convertToFahrenheit})),n=Object(p.c)((function(e){return e.serverURL})),r=Object(i.useState)([]),a=Object(m.a)(r,2),c=a[0],o=a[1],s=Object(i.useState)({maximumTemperature:24,maximumHumidity:75,minimumTemperature:24,minimumHumidity:75}),u=Object(m.a)(s,2),l=u[0],d=u[1],b=Object(i.useState)(!0),j=Object(m.a)(b,2),f=j[0],O=j[1],x=Object(i.useState)("Pending"),y=Object(m.a)(x,2),S=y[0],N=y[1],T=Object(i.useState)(void 0),E=Object(m.a)(T,2),C=E[0],A=E[1],w=function(){return h.a.get("".concat(n,"/data-climate/")).then((function(e){console.log("CLIMATE",e.data),o(e.data.climate),N(""),d({maximumTemperature:e.data.maximumTemperature,maximumHumidity:e.data.maximumHumidity,minimumTemperature:e.data.minimumTemperature,minimumHumidity:e.data.minimumHumidity})})).catch((function(e){return console.log("Failed to Fetch Climate Information",e)}))};Object(i.useEffect)((function(){return w()}),[f]);var D=function(e){return t?Math.round(10*(1.8*e+32))/10:e},R=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=f!=t?e?D(l.maximumTemperature):l.maximumTemperature:l.maximumHumidity;return n?Math.ceil(r):r},I=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=f!=t?e?D(l.minimumTemperature):l.minimumTemperature:l.minimumHumidity;return n?Math.floor(r):r},L=function(){return 5*parseFloat(getComputedStyle(document.documentElement).fontSize)},k=function(){for(var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=[],n=(window.innerWidth-L())/((R(e)-I(e))*(2*parseFloat(getComputedStyle(document.documentElement).fontSize))),r=I(e);r<R(e);r+=Math.ceil(1/n))t.push(r);return t.push(R(e)),t},P=3.5*k(!0).length*(1*parseFloat(getComputedStyle(document.documentElement).fontSize))+L();return Object(g.jsxs)("div",{id:"climate-container",children:[Object(g.jsxs)("div",{id:"climate-header-box",children:[Object(g.jsx)("button",{className:"climate-header-button",style:{backgroundColor:f?"rgba(0, 102, 0, 0.6)":"rgba(255, 255, 255, 0.4)",color:f?"white":"black"},onClick:function(){return O(!0)},children:"Temperature"}),Object(g.jsx)("button",{className:"climate-header-button",style:{backgroundColor:f?"rgba(255, 255, 255, 0.4)":"rgba(0, 102, 0, 0.6)",color:f?"black":"white"},onClick:function(){return O(!1)},children:"Humidity"}),""!=S?Object(g.jsx)("button",{className:"climate-header-button",style:{backgroundColor:"Saved"==S||"Save Changes"==S?"#cc5500":"Pending"==S?"orange":"#e8000d",color:"black"},onClick:function(){N("Pending"),A("Enter Advanced Passphrase to Proceed:")},children:S}):Object(g.jsx)("section",{className:"none no-size"})]}),Object(g.jsxs)("div",{id:"climate-slider-box",className:"none ",style:{maxWidth:"".concat(P,"px")},children:[Object(g.jsx)("div",{className:"none climate-slider-value-box",style:{gridRow:1,gridColumn:1,paddingLeft:"4.0rem",paddingRight:"2.0rem",width:"".concat(1*P-1*L()-0,"px")},children:k(!1).map((function(e,t){return Object(g.jsx)("label",{className:"climate-slider-range-value",style:{gridColumn:t+1,textAlign:0==t?"left":t==k(!1).length-1?"right":"center"},children:e},"climate-slider-range-value-$first-".concat(t))}))}),c.map((function(e,t){return Object(g.jsxs)("div",{className:"none climate-slider-outer-box",style:{gridRow:t+2},children:[Object(g.jsxs)("strong",{className:"climate-hour-value",style:{},children:[e.hour,":00"]}),Object(g.jsxs)("strong",{className:"climate-hour-value",style:{gridRow:2,color:"var(--main-color)",fontSize:"0.8rem"},children:[f?parseFloat(e.temperature).toFixed(1):parseFloat(e.humidity).toFixed(1)," ",f?Object(g.jsx)("span",{className:"none",style:{fontSize:"0.65rem",verticalAlign:"top"},children:"\u2109"}):"%"]}),Object(g.jsx)("input",{readOnly:!0,className:"none climate-slider-range-bar climate-slider-range-bar-ghost",style:{width:"".concat(1*P-1*L()-0,"px")},type:"range",step:"0.01",min:I(!1,!0,!1),max:R(!1,!0,!1),value:f?c[t].humidity:c[t].temperature}),Object(g.jsx)("input",{readOnly:!0,className:"none climate-slider-range-bar climate-slider-range-bar-ghost-dot",style:{width:"".concat(1*P-1*L()-0,"px")},type:"range",step:"0.01",min:I(!1,!1,!1),max:R(!1,!1,!1),value:f?c[t].temperatureAverage:c[t].humidityAverage}),Object(g.jsx)("input",{className:"none climate-slider-range-bar",style:{width:"".concat(1*P-1*L()-0,"px")},type:"range",step:"0.01",min:I(!1,!1,!1),max:R(!1,!1,!1),value:f?c[t].temperature:c[t].humidity,onChange:function(e){f?c[t].temperature=e.target.value:c[t].humidity=e.target.value,o(Object(U.a)(c)),N("Save Changes")}}),Object(g.jsx)("div",{id:"data-".concat(t),className:"none climate-slider-value-box",style:{width:"".concat(1*P-1*L()-0,"px")},children:k(t%2==0).map((function(e,n){return Object(g.jsx)("label",{className:"climate-slider-range-value",style:{gridColumn:n+1,textAlign:0==n?"left":n==k(t%2==0).length-1?"right":"center"},children:e},"climate-slider-range-value-".concat(t,"-").concat(n))}))})]},"slider-".concat(t))}))]}),C?Object(g.jsx)(v,{prompt:C,onSubmit:function(e){A(void 0),h.a.post("".concat(n,"/set-settings/"),{ADVANCED_PASSPHRASE:e,tag:f?"climate-temperature":"climate-humidity",climate:JSON.stringify(c)}).then((function(e){N("Saved"),console.log(e),setTimeout((function(){w()}),5e3)})).catch((function(e){return console.log("Failed to Fetch Climate Information",e)}))},onCancel:function(){A(void 0),N(""),w()}}):Object(g.jsx)("div",{className:"none no-size",style:{position:"absolute"}})]})}),Z=(n(88),function(e){var t=Object(p.c)((function(e){return e.data})),n=Object(i.useState)([]),r=Object(m.a)(n,2),a=r[0],c=r[1],o=Object(b.f)(),s=Object(b.g)();return Object(i.useEffect)((function(){var e=[];void 0==t.sensorErrorCode&&e.push("SERVER DISCONNECTED"),t.sensorErrorCode&&e.push("SENSOR ERROR"),t.maximumTemperatureErrorCode&&e.push("MAXIMUM TEMPERATURE"),t.minimumTemperatureErrorCode&&e.push("MINIMUM TEMPERATURE"),t.maximumHumidityErrorCode&&e.push("MAXIMUM HUMIDITY"),t.minimumHumidityErrorCode&&e.push("MINIMUM HUMIDITY"),void 0==t.accessDatabase||t.accessDatabase||e.push("DATABASE DISCONNECTED"),c(e)}),[t]),Object(g.jsx)("div",{id:"error-bar-container",style:{display:a.length?"block":"none"},onClick:function(){"/settings"==s.pathname?o.push("/log"):o.push("/settings")},children:Object(g.jsx)("div",{id:"error-bar-wrap",children:a.map((function(e){return Object(g.jsx)("strong",{className:"error-bar-text",children:e},e)}))})})}),$=function(e){return""==e?"transparent":"UPDATE"==e?"var(--main-color)":"PASS"==e||"INVALID"==e?"#e8000d":"PENDING"==e||"BLANK"==e?"orange":"#cc5500"},Q=function(e){var t,n=Object(i.useState)(void 0),r=Object(m.a)(n,2),o=r[0],s=r[1],u=Object(p.c)((function(e){return e.dropListOpen})),l=Object(p.b)(),d=Object(i.useState)(void 0==e.current?[]:Array.isArray(e.current)?e.current:[e.current]),b=Object(m.a)(d,2),j=b[0],f=b[1],O=Object(i.useState)(void 0==e.options?j:Array.isArray(e.options)?e.options:[e.options]),h=Object(m.a)(O,2),x=h[0],y=h[1],S=Object(i.useState)(void 0==e.current?[]:Array.isArray(e.current)?e.current:[e.current]),N=Object(m.a)(S,2),T=N[0],E=N[1],C=Object(i.useState)(""),A=Object(m.a)(C,2),w=A[0],D=A[1],R=Object(i.useState)(""),I=Object(m.a)(R,2),L=I[0],k=I[1];Object(i.useEffect)((function(){var t=void 0==e.current?[]:Array.isArray(e.current)?e.current:[e.current],n=void 0==e.options?t:Array.isArray(e.options)?e.options:[e.options];f(t),y(n),E(t)}),[e]);var P=void 0!=e.verifyLevel?e.verifyLevel:2,M=void 0!=e.selectMultiple?e.selectMultiple:Array.isArray(e.current),H=void 0!=e.inputType?e.inputType:isNaN(e.current)?"text":"number",F=void 0!=e.addCustom&&e.addCustom,V=void 0!=e.condense&&e.condense,z=function(e){var t=e||T;if(Array.isArray(t))for(var n=0;n<t.length;n++)if(!j.includes(t[n]))return!0;if(Array.isArray(j))for(var r=0;r<j.length;r++)if(!t.includes(j[r]))return!0;return!1},B=function(){var e=Object(c.a)(Object(a.a)().mark((function e(t){var n,r,c;return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=z(n=t||T)?"UPDATE":"",Array.isArray(n))for(n.forEach((function(e){x.includes(e)||(r="INVALID")})),!M&&n.length>1&&(r="INVALID"),0==n.length&&(r="BLANK"),c=0;c<n.length;c++)void 0==n[c]&&(r="BLANK");return k(r),e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();Object(i.useEffect)((function(){return B()}),[T]);var W=function(){var t=Object(c.a)(Object(a.a)().mark((function t(n,r){var c;return Object(a.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(s(void 0),1!=P||localStorage.getItem("password")){t.next=4;break}return t.next=4,localStorage.setItem("password",n.toString());case 4:return t.next=6,e.onUpdate(M?JSON.stringify(r||T):T[0],n);case 6:1==(c=t.sent)||isNaN(c)?(k(1!=c?c:"SAVED"),f(T),setTimeout((function(){return k("")}),5e3)):401==c?(k("PASS"),setTimeout((function(){return E(j)}),5e3),localStorage.clear()):404==c?(k("INVALID"),setTimeout((function(){return E(j)}),5e3),localStorage.clear()):(k("FAILED"),setTimeout((function(){return E(j)}),5e3));case 8:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),_=function(){var e=Object(c.a)(Object(a.a)().mark((function e(t){return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,B(t);case 2:if(e.t0=e.sent,"UPDATE"!=e.t0){e.next=7;break}k("PENDING"),l({type:"setDropList"}),0==P?W(void 0,t):1!=P||localStorage.getItem("password")?1==P?W(localStorage.getItem("password"),t):s("Enter Advanced Passphrase to Proceed:"):s("Enter Control Password to Continue:");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),J=function(){var t=Object(c.a)(Object(a.a)().mark((function t(n){var r,c;return Object(a.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=Object(U.a)(T),c=Object(U.a)(x),"email"!=e.inputType||/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(n)){t.next=5;break}return k("Email"),t.abrupt("return","Email");case 5:return F&&!c.includes(n)&&(c=[].concat(Object(U.a)(x),[n])),r=M||!F&&!c.includes(n)?T.includes(n)?Object(U.a)(T.filter((function(e){return e!=n&&c.includes(e)}))):[].concat(Object(U.a)(T.filter((function(e){return c.includes(e)}))),[n]):[n],y(Object(U.a)(c)),E(Object(U.a)(r)),M||_(r),t.next=12,B(r);case 12:return t.abrupt("return",t.sent);case 13:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),K=function(){return Object(U.a)(T.filter((function(e){return!x.includes(e)})))};return Object(g.jsxs)("div",{id:e.title,className:"settings-value-box",style:{gridTemplateColumns:V?"auto 40%":null},onFocus:function(){},onBlur:function(){},children:[void 0==e.title?Object(g.jsx)("div",{className:"none no-size",style:{position:"absolute"}}):Object(g.jsx)("strong",{className:"settings-value-title",children:e.title}),u==e.dropListId?Object(g.jsxs)("div",{children:[Object(g.jsx)("button",{className:"settings-value-input ",onClick:function(){return l({type:"setDropList",payload:e.dropListId})},children:T?T.toString():""}),Object(g.jsxs)("div",{className:"drop-menu-list",style:{top:x.length<=5?null:"5vh",position:x.length<=5?"absolute":"fixed"},children:[Object(g.jsx)("button",{className:"drop-menu-item",style:{border:"none",borderRadius:0,borderBottom:"1px solid whitesmoke",backgroundColor:"whitesmoke",color:"black"},onClick:function(){l({type:"setDropList"})},children:"Close"},"settings-close-button"),K().map((function(e,t){return Object(g.jsx)("label",{className:"drop-menu-item",style:{gridRow:t+2,color:"gold"},onClick:function(){E((function(t){return Object(U.a)(t.filter((function(t){return t!=e&&x.includes(t)})))})),M||l({type:"setDropList"}),M||_()},children:e.toString()},e+t+"old")})),x.map((function(e,t){return Object(g.jsx)("label",{className:"drop-menu-item",style:{gridRow:t+2+K().length,border:T.includes(e)?"1px solid var(--main-color)":"none",color:T.includes(e)?"var(--main-color)":"white"},onClick:Object(c.a)(Object(a.a)().mark((function t(){return Object(a.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,J(e);case 2:M||l({type:"setDropList"}),M||_();case 4:case"end":return t.stop()}}),t)}))),children:e.toString()},e+t)})),F?Object(g.jsxs)("div",{className:"none",style:{display:"inline-grid",gridRow:K().length+x.length+3,gridColumn:1},children:[Object(g.jsx)("input",{type:H,className:"drop-menu-item",style:{gridRow:1,gridColumn:1,width:"10.0rem",borderRadius:0,border:"1px solid whitesmoke",backgroundColor:"black",color:"white"},value:w,onChange:function(e){return D(e.target.value)},onKeyPress:function(){var e=Object(c.a)(Object(a.a)().mark((function e(t){return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(13!=t.charCode){e.next=8;break}return e.next=3,J(w);case 3:if(e.t0=e.sent,"UPDATE"!=e.t0){e.next=6;break}D("");case 6:M||l({type:"setDropList"}),M||_();case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},"settings-add-input"),Object(g.jsx)("button",{className:"drop-menu-item",style:{gridRow:1,gridColumn:2,border:"none",borderRadius:0,borderBottom:"1px solid whitesmoke",backgroundColor:"whitesmoke",color:"black"},onClick:Object(c.a)(Object(a.a)().mark((function e(){return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,J(w);case 2:if(e.t0=e.sent,"UPDATE"!=e.t0){e.next=5;break}D("");case 5:M||l({type:"setDropList"});case 6:case"end":return e.stop()}}),e)}))),children:"ADD"},"settings-add-button")]}):Object(g.jsx)("div",{className:"none no-size"}),V||"UPDATE"==L?Object(g.jsx)("button",{className:"drop-menu-item",style:(t={border:"none",borderRadius:0},Object(G.a)(t,"border","none"),Object(G.a)(t,"backgroundColor",$(L)),Object(G.a)(t,"color","white"),t),onClick:function(){_()},children:L},"settings-save-button"):Object(g.jsx)("div",{className:"none no-size"})]})]}):Object(g.jsx)("button",{className:"settings-value-input ",onClick:function(){return l({type:"setDropList",payload:e.dropListId})},children:T?T.toString():""}),V&&!M?Object(g.jsx)("div",{className:"none no-size",style:{position:"absolute"}}):Object(g.jsx)("button",{className:"settings-value-button",onClick:_,style:{backgroundColor:$(L)},children:L}),o?Object(g.jsx)(v,{prompt:o,onSubmit:W,onCancel:function(){s(void 0),k("UPDATE"),V&&E(Object(U.a)(j))}}):Object(g.jsx)("div",{className:"none no-size",style:{position:"absolute"}})]})},ee=function(e){var t=Object(p.c)((function(e){return e.serverURL})),n=Object(p.c)((function(e){return e.data})),r=Object(p.c)((function(e){return e.screenSaverBrightness})),o=Object(p.c)((function(e){return e.convertToFahrenheit})),i=Object(p.b)(),s=Object(b.f)(),u=function(){var e=Object(c.a)(Object(a.a)().mark((function e(n,r,c){return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",h.a.post("".concat(t).concat(n,"/"),r).then((function(e){return"response"==c?e:c||!0})).catch((function(e){return!!e.response&&e.response.status})));case 1:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),l=function(){var e=Object(c.a)(Object(a.a)().mark((function e(n,r,c){return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",h.a.put("".concat(t).concat(n,"/"),r).then((function(e){return"response"==c?e:c||!0})).catch((function(e){return!!e.response&&e.response.status})));case 1:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),d=[Object(g.jsx)(Q,{title:"Temperature:",dropListId:"temperature-conversion",current:o?"Fahrenheit":"Celsius",options:["Celsius","Fahrenheit"],verifyLevel:0,onUpdate:function(e,t){return i({type:"toggleConvertToFahrenheit",payload:"Fahrenheit"==e}),!0}}),Object(g.jsx)(y,{title:"Deactivate Screen Saver",pendingText:"Deactivating",onUpdate:Object(c.a)(Object(a.a)().mark((function t(){return Object(a.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.deactivateScreenSaver(3e5),t.abrupt("return","5 Minutes");case 2:case"end":return t.stop()}}),t)})))}),Object(g.jsx)(Q,{title:"ScreenSaver Brightness:",dropListId:"screensaver-brightness",current:r.setting,options:r.settingOptions,verifyLevel:0,onUpdate:function(e,t){return!!r.settingOptions.includes(e)&&(i({type:"setting",payload:e}),!0)}}),Object(g.jsx)("div",{style:{borderBottom:"1px solid var(--main-color)",margin:"0.5rem 0",width:"100%"}}),Object(g.jsx)(T,{title:"Server URL:",current:t,verifyLevel:0,cache:!0,onUpdate:function(){var e=Object(c.a)(Object(a.a)().mark((function e(t,n){var r;return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i({type:"setServerURL",payload:t}),e.next=3,de();case 3:return 1==(r=e.sent)&&s.push("/"),e.abrupt("return",1==r?"UPDATING":r);case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}),Object(g.jsx)(y,{title:"Update Data",pendingText:"RETRIEVING",onUpdate:Object(c.a)(Object(a.a)().mark((function e(){var t;return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,de();case 2:return t=e.sent,e.abrupt("return",1==t?"UPDATED":t);case 4:case"end":return e.stop()}}),e)})))})];return"Scheduled"==r.setting&&d.splice(2,0,Object(g.jsx)(T,{title:"ScreenSaver Day Hour Start: (0-23/24)",current:r.dayHourStart,verifyLevel:0,onUpdate:function(e,t){var n=parseInt(e);return n>=0&&n<=24&&(i({type:"dayHourStart",payload:n}),!0)}}),Object(g.jsx)(T,{title:"ScreenSaver Day Opacity: (%)",current:100*r.dayOpacity,verifyLevel:0,onUpdate:function(e,t){var n=parseInt(e)/100;return n>=0&&n<=1&&(i({type:"dayOpacity",payload:n}),!0)}}),Object(g.jsx)(T,{title:"ScreenSaver Night Hour Start: (0-23/24)",current:r.nightHourStart,verifyLevel:0,onUpdate:function(e,t){var n=parseInt(e);return n>=0&&n<=24&&(i({type:"nightHourStart",payload:n}),!0)}}),Object(g.jsx)(T,{title:"ScreenSaver Night Opacity: (%)",current:100*r.nightOpacity,verifyLevel:0,onUpdate:function(e,t){var n=parseInt(e)/100;return n>=0&&n<=1&&(i({type:"nightOpacity",payload:n}),!0)}}),Object(g.jsx)(T,{title:"ScreenSaver Black Hour Start: (0-23/24)",current:r.blackHourStart,verifyLevel:0,onUpdate:function(e,t){var n=parseInt(e);return n>=0&&n<=24&&(i({type:"blackHourStart",payload:n}),!0)}})),n=={}||void 0==n.CONTROLS?Object(g.jsx)("div",{id:"settings-container",children:d}):Object(g.jsxs)("div",{id:"settings-container",children:[d,Object(g.jsx)(y,{title:"Evaluate Conditions",pendingText:"EXECUTING",onUpdate:function(){var e=Object(c.a)(Object(a.a)().mark((function e(t){return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return setTimeout((function(){return de()}),6e4),e.next=3,l("/evaluate",{PASSWORD:t},"COMPLETE");case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}),Object(g.jsx)(T,{title:"Postpone Next Evaluation: (ms)",current:0,numberStep:6e4,verifyLevel:1,onUpdate:function(e,t){return u("/postpone-evaluation",{PASSWORD:t,duration:e})}}),Object(g.jsx)(Q,{title:"Status Email Recipients:",dropListId:"status-email",current:n.emailStatusRecipients,verifyLevel:1,addCustom:!0,inputType:"email",onUpdate:function(e,t){return u("/set-settings",{PASSWORD:t,tag:"emailStatusRecipients",emailStatusRecipients:e})}}),Object(g.jsx)(y,{title:"Send Update Email",pendingText:"SENDING",onUpdate:function(e){return l("/send-update-email",{PASSWORD:e},"SENT")}}),Object(g.jsx)(Q,{title:"Issue Email Recipients:",dropListId:"issue-email",current:n.emailIssueRecipients,addCustom:!0,inputType:"email",onUpdate:function(e,t){return u("/set-settings",{ADVANCED_PASSPHRASE:t,tag:"emailIssueRecipients",emailIssueRecipients:e})}}),Object(g.jsx)(T,{title:"Email Report:",current:"",inputType:"textarea",verifyLevel:1,onUpdate:function(e,t){return u("/save-log",{PASSWORD:t,email:!0,message:e})}}),Object(g.jsx)(Q,{title:"Email Update Regularity:",dropListId:"email-update-regularity",current:n.updateRegularity,options:n.updateRegularityOptions,onUpdate:function(e,t){return u("/set-settings",{ADVANCED_PASSPHRASE:t,tag:"updateRegularity",updateRegularity:e})}}),Object(g.jsx)(Q,{title:"Allow Database Access:",dropListId:"allow-database",current:n.accessDatabase,options:[!0,!1],onUpdate:function(e,t){return u("/set-settings",{ADVANCED_PASSPHRASE:t,tag:"accessDatabase",accessDatabase:e})}}),Object(g.jsx)(T,{title:"Evaluation Frequency: (m)",current:n.evaluationFrequency/6e4,numberStep:1,onUpdate:function(e,t){return u("/set-settings",{ADVANCED_PASSPHRASE:t,tag:"evaluationFrequency",evaluationFrequency:6e4*e})}}),Object(g.jsx)(T,{title:"Maximum Temperature: (c)",current:n.maximumTemperature,numberStep:.5,onUpdate:function(e,t){return u("/set-settings",{ADVANCED_PASSPHRASE:t,tag:"maximumTemperature",maximumTemperature:e})}}),Object(g.jsx)(T,{title:"Minimum Temperature: (c)",current:n.minimumTemperature,numberStep:.5,onUpdate:function(e,t){return u("/set-settings",{ADVANCED_PASSPHRASE:t,tag:"minimumTemperature",minimumTemperature:e})}}),Object(g.jsx)(T,{title:"Maximum Humidity: (%)",current:n.maximumHumidity,onUpdate:function(e,t){return u("/set-settings",{ADVANCED_PASSPHRASE:t,tag:"maximumHumidity",maximumHumidity:e})}}),Object(g.jsx)(T,{title:"Minimum Humidity: (%)",current:n.minimumHumidity,onUpdate:function(e,t){return u("/set-settings",{ADVANCED_PASSPHRASE:t,tag:"minimumHumidity",minimumHumidity:e})}}),Object(g.jsx)(T,{title:"Hour Day Starts: (h)",current:n.dayHourStart,onUpdate:function(e,t){return u("/set-settings",{ADVANCED_PASSPHRASE:t,tag:"dayHourStart",dayHourStart:e})}}),Object(g.jsx)(T,{title:"Hour Night Starts: (h)",current:n.nightHourStart,onUpdate:function(e,t){return u("/set-settings",{ADVANCED_PASSPHRASE:t,tag:"nightHourStart",nightHourStart:e})}}),Object(g.jsx)(Q,{title:"Sensor Type:",dropListId:"sensor-type",current:n.sensorType,options:n.sensorTypes,onUpdate:function(e,t){return u("/set-settings",{ADVANCED_PASSPHRASE:t,tag:"sensorType",sensorType:e})}}),Object(g.jsx)(Q,{title:"Sensor Mode:",dropListId:"sensor-mode",current:n.sensorMode,options:n.sensorModes,onUpdate:function(e,t){return u("/set-settings",{ADVANCED_PASSPHRASE:t,tag:"sensorMode",sensorMode:e})}}),Object(g.jsx)(y,{title:"Test Sensor",pendingText:"Redirecting",verifyLevel:0,onUpdate:function(e){return s.push("/sensor-testing")}}),n.CONTROLS.map((function(e,t){return Object(g.jsxs)("div",{children:[Object(g.jsx)(T,{title:"[".concat(e.id,"] Control Name:"),current:e.name,onUpdate:function(t,n){return u("/set-settings",{ADVANCED_PASSPHRASE:n,tag:"controls-name",id:e.id,name:t})}},"name-".concat(e.id)),Object(g.jsx)(Q,{title:"[".concat(e.id,"] Control Types:"),dropListId:"control-types-".concat(e,"-").concat(t),current:e.types,options:n.controlTypes,selectMultiple:!0,addCustom:!0,onUpdate:function(t,n){return u("/set-settings",{ADVANCED_PASSPHRASE:n,tag:"controls-types",id:e.id,types:t})}},"types-".concat(e.id))]},"".concat(e.id,"-").concat(t))})),Object(g.jsx)(y,{title:"Reset Settings",pendingText:"CONFIGURING",verifyLevel:3,onUpdate:function(){var e=Object(c.a)(Object(a.a)().mark((function e(t){var n;return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u("/reset-settings",{ADVANCED_PASSPHRASE:t},"RESETTING");case 2:return n=e.sent,de(),e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}),Object(g.jsx)(y,{title:"Reset File System",pendingText:"CONFIGURING",verifyLevel:3,onUpdate:function(){var e=Object(c.a)(Object(a.a)().mark((function e(t){var n;return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u("/reset-file-system",{ADVANCED_PASSPHRASE:t},"RESETTING");case 2:return n=e.sent,de(),e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}),Object(g.jsx)(y,{title:"Terminate Server",pendingText:"CONFIGURING",verifyLevel:3,onUpdate:function(e){return u("/terminate",{ADVANCED_PASSPHRASE:e},"TERMINATING")}}),Object(g.jsx)(y,{title:"Restart PI",pendingText:"CONFIGURING",verifyLevel:3,onUpdate:function(e){return u("/restart-pi",{ADVANCED_PASSPHRASE:e},"RESTARTING")}}),Object(g.jsx)(Q,{dropListId:"Error_Lights_Override",title:"Error Lights:",current:"Select Mode",options:["on","off","flash","bounce","max","min","humid","lock","unlock","reset"],selectMultiple:!1,addCustom:!0,verifyLevel:1,onUpdate:function(e,t){return u("/execute-error-lights",{PASSWORD:t,tag:"error-lights",mode:new Array(e).pop()})}}),Object(g.jsx)(y,{title:"Server Log",pendingText:"Redirecting",verifyLevel:0,onUpdate:function(e){return s.push("/log")}}),Object(g.jsx)(T,{title:"Save to Log:",current:"",inputType:"textarea",verifyLevel:1,onUpdate:function(e,t){return u("/save-log",{PASSWORD:t,message:e})}}),Object(g.jsx)(y,{title:"Log Out",pendingText:"CLEARING",verifyLevel:0,onUpdate:function(){return localStorage.clear(),"CLEARED PASSWORD"}})]})},te=function(e){var t=Object(p.c)((function(e){return e.serverURL})),n=Object(p.c)((function(e){return e.data})),r=Object(i.useState)(""),o=Object(m.a)(r,2),s=o[0],u=o[1],l=Object(i.useState)(6e4),d=Object(m.a)(l,2),b=d[0],j=d[1],f=Object(i.useState)(5e3),O=Object(m.a)(f,2),v=O[0],x=O[1],S=Object(i.useState)(""),N=Object(m.a)(S,2),E=N[0],C=N[1],A=null,w=null;return Object(g.jsxs)("div",{id:"sensor-test-container",children:[Object(g.jsxs)("div",{className:"sensor-test-first-header",children:[Object(g.jsx)(Q,{title:"Sensor Type:",dropListId:"sensor-testing-sensor-type",current:n.sensorType,options:n.sensorTypes,condense:!0,onUpdate:function(){var e=Object(c.a)(Object(a.a)().mark((function e(n,r){return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.a.get("".concat(t,"/settings/"),{ADVANCED_PASSPHRASE:r,tag:"sensorType",sensorType:n}).then((function(e){return!0})).catch((function(e){return!!e.response&&e.response.status}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}),Object(g.jsx)(T,{title:"Test Duration: (m)",current:b/6e4,condense:!0,verifyLevel:0,onUpdate:function(e,t){var n=parseInt(e);return!isNaN(n)&&e==n&&n>0&&(j(6e4*n),!0)}}),Object(g.jsx)(T,{title:"Test Interval: (s)",current:v/1e3,condense:!0,verifyLevel:0,onUpdate:function(e,t){var n=parseInt(e);return!isNaN(n)&&e==n&&n>0&&(x(1e3*n),!0)}})]}),Object(g.jsxs)("div",{className:"sensor-test-second-header",children:[Object(g.jsx)(y,{title:""==E?"RESTART":"fetchingError",pendingText:"QUEUING",buttonColor:""!=E?"darkred":"",condense:!0,verifyLevel:2,onUpdate:function(){var e=Object(c.a)(Object(a.a)().mark((function e(n){return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.a.post("".concat(t,"/sensor-test-restart/"),{ADVANCED_PASSPHRASE:n,duration:b,interval:v}).then((function(e){return clearInterval(A),clearTimeout(w),C(""),A=setInterval(Object(c.a)(Object(a.a)().mark((function e(){return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.a.get("".concat(t,"/sensor-test/")).then((function(e){u(e.data),C("")})).catch((function(e){console.log("Failed to Get Sensor Testing Data",e),C(e)}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),500),w=setTimeout((function(){clearInterval(A),C("")}),b+3e4),"INITIATING"})).catch((function(e){return!!e.response&&e.response.status}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}),Object(g.jsx)(y,{title:"UPDATE",pendingText:"LOADING",condense:!0,verifyLevel:0,onUpdate:function(){var e=Object(c.a)(Object(a.a)().mark((function e(n){return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.a.get("".concat(t,"/sensor-test/")).then((function(e){return u(e.data),"CURRENT"})).catch((function(e){return!!e.response&&e.response.status}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()})]}),Object(g.jsx)("div",{className:"sensor-test-results",children:Object(g.jsxs)("table",{style:{margin:0,width:"100%",border:"none",borderSpacing:"4px"},children:[Object(g.jsxs)("tr",{children:[Object(g.jsx)("th",{style:{padding:"3px",textAlign:"center"},children:"Time"}),Object(g.jsx)("th",{style:{padding:"3px",textAlign:"center"},children:"Temperature"}),Object(g.jsx)("th",{style:{padding:"3px",textAlign:"center"},children:"Humidity"}),Object(g.jsx)("th",{style:{padding:"3px",textAlign:"center"},children:"Message"})]}),s.split("\n").map((function(e,t){return""==e?Object(g.jsx)("br",{},"".concat(e,"-").concat(s.length)):Object(g.jsx)("tr",{children:e.split("|").map((function(t,n){return Object(g.jsx)("td",{style:{padding:"3px",textAlign:0==n?"left":"center"},colspan:4/e.split("|").length>1?Math.floor(4/e.split("|").length):1,children:t},"".concat(t,"-").concat(e,"-").concat(s.length))}))},"".concat(e,"-").concat(s.length))}))]})})]})},ne=function(e){var t=Object(p.c)((function(e){return e.serverURL})),n=Object(i.useState)(""),r=Object(m.a)(n,2),o=r[0],s=r[1],u=Object(i.useState)(""),l=Object(m.a)(u,2),d=l[0],j=l[1],f=Object(i.useRef)(),O=Object(b.g)(),v=Object(b.f)(),x=function(){return console.log(t),(/^\/log\/([0-9]+)*/.exec(O.pathname)||[0,0])[1]},S=function(){var e=Object(c.a)(Object(a.a)().mark((function e(){var n,r=arguments;return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>0&&void 0!==r[0]&&r[0],e.next=3,h.a.put("".concat(t,"/log/"),n?{}:{fileName:d,fileNumber:"".concat(x())}).then((function(e){return s(e.data),j(e.headers["content-name"]),"log.txt"==e.headers["content-name"]&&v.replace("/log"),"LOADING"})).catch((function(e){return!!e.response&&e.response.status}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(i.useEffect)((function(){return S()}),[t]);var N=function(e){return/error|fail/i.test(e)},T=function(e){return/\[\d{1,2}-\d{1,2}-\d{4} \d{1,2}:\d{1,2}:\d{1,2}]/.test(e)},E=function(e){return/severe|high|low/i.test(e)},C=function(e){return/^\s*\>{1}/.test(e)},A=function(e){return/restart|server/i.test(e)};return Object(g.jsxs)("div",{id:"sensor-test-container",children:[Object(g.jsx)(y,{title:"UPDATE",pendingText:"RETRIEVING",condense:!0,verifyLevel:0,onUpdate:function(){var e=Object(c.a)(Object(a.a)().mark((function e(t){return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S(!0);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}),Object(g.jsxs)("strong",{id:"title",ref:f,className:"settings-value-title",style:{marginTop:"1.5rem"},children:["File: ",d]}),Object(g.jsxs)("div",{className:"sensor-test-results",children:[o.split(/(?=\[\d{1,2}-\d{1,2}-\d{4} \d{1,2}:\d{1,2}:\d{1,2}])/g).reverse().map((function(e){return e.split(/\n/g).map((function(e,t){return e.length?Object(g.jsx)("p",{style:{color:T(e)&&N(e)?"red":A(e)?"goldenrod":E(e)?"orangered":T(e)?"white":C(e)?"var(--main-color)":"#848884",fontSize:T(e)?"14px":(C(e),"12px"),fontWeight:T(e)?"500":C(e)?"300":"400",fontStyle:C(e)?"italic":"normal",margin:C(e)?"0.1rem":"0.2rem",marginLeft:T(e)?"0":C(e)?"3.0rem":"2.0rem",marginTop:T(e)?"1.0rem":C(e)?"0.05rem":"0.2rem"},children:e},t):Object(g.jsx)("span",{className:"no-size"},t)}))})),"    "]}),void 0==d?Object(g.jsx)("div",{className:"none no-size",style:{position:"absolute"}}):Object(g.jsx)(y,{title:"PREVIOUS LOG",pendingText:"SEARCHING",condense:!0,verifyLevel:0,onUpdate:function(){var e=Object(c.a)(Object(a.a)().mark((function e(t){return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S().then((function(e){return f.current.scrollIntoView({block:"nearest",inline:"start"}),v.replace("/log/".concat(x()+1)),"LOADING"})).catch((function(e){return!!e.response&&e.response.status}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()})]})},re=(n(89),n(90),function(e){var t=Object(p.c)((function(e){return e.serverURL})),n=Object(p.c)((function(e){return e.data})),r=Object(p.c)((function(e){return e.convertToFahrenheit})),o=Object(i.useState)([]),s=Object(m.a)(o,2),u=s[0],l=s[1],d=Object(i.useState)([]),b=Object(m.a)(d,2),f=(b[0],b[1]),O=function(e){return r?Math.round(100*(1.8*e+32))/100:e},v=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n.operatingTemperature,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:n.goalTemperature;return Math.abs(e-t)<1?Object(g.jsx)("span",{}):Object(g.jsxs)("span",{children:["[",Object(g.jsx)("small",{children:e>t?"+":"-"}),Math.floor(Math.abs(e-t)),Object(g.jsx)("span",{children:"\xb0"}),"]"]})},x=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n.operatingHumidity,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:n.goalHumidity;return Math.abs(e-t)<1?Object(g.jsx)("span",{}):Object(g.jsxs)("span",{children:["[",Object(g.jsx)("small",{children:e>t?"+":"-"}),Math.floor(Math.abs(e-t)),Object(g.jsx)("small",{children:"%"}),"]"]})},S=function(){var e=Object(c.a)(Object(a.a)().mark((function e(){return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return h.a.get("".concat(t,"/data-climate/")).then((function(e){f(e.data.climate),console.log("CLIMATE",e.data)})).catch((function(e){return console.log("Failed to Fetch Climate Information",e)})),e.next=3,h.a.get("".concat(t,"/data-history/")).then((function(e){return l(e.data),console.log("HISTORY",e.data),"LOADING"})).catch((function(e){return!!e.response&&e.response.status}));case 3:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(i.useEffect)((function(){return S()}),[]),Object(g.jsxs)("div",{id:"history-container",children:[Object(g.jsx)(y,{title:"UPDATE",pendingText:"RETRIEVING",condense:!0,verifyLevel:0,onUpdate:function(){return S()}}),Object(g.jsxs)("table",{style:{margin:0,width:"100%",border:"2px solid #013214",color:"white",borderSpacing:"4px"},children:[Object(g.jsx)("thead",{children:Object(g.jsxs)("tr",{children:[Object(g.jsx)("th",{style:{padding:"3px",fontWeight:700,fontFamily:"'New Tegomin', serif",textAlign:"center"},children:"Time"}),Object(g.jsx)("th",{style:{padding:"3px",fontWeight:700,fontFamily:"'New Tegomin', serif",textAlign:"center"},children:"Temperature"}),Object(g.jsx)("th",{style:{padding:"3px",fontWeight:700,fontFamily:"'New Tegomin', serif",textAlign:"center"},children:"Humidity"}),Object(g.jsx)("th",{style:{padding:"3px",fontWeight:700,fontFamily:"'New Tegomin', serif",textAlign:"center"},children:"Active"}),Object(g.jsx)("th",{style:{padding:"3px",fontWeight:700,fontFamily:"'New Tegomin', serif",textAlign:"center"},children:"Inactive"})]})}),Object(g.jsx)("tbody",{children:u&&u.length?u.map((function(e){return Object(g.jsxs)("tr",{children:[Object(g.jsx)("td",{style:{padding:"3px",border:"0.05rem solid #013214",textAlign:"center"},children:Object(j.a)(e.time,(new Date).getTime()-e.time<5184e5?"DDDD, H:MM":"mmm-d H:MM")}),Object(g.jsxs)("td",{style:{padding:"3px",border:"0.05rem solid #013214",textAlign:"center"},children:[O(e.temperature),r?Object(g.jsx)("small",{children:"\u2109"}):Object(g.jsx)("small",{children:"\u2103"})," ",v(O(e.temperature),O(e.goalTemperature))]}),Object(g.jsxs)("td",{style:{padding:"3px",border:"0.05rem solid #013214",textAlign:"center"},children:[e.humidity,"% ",x(e.humidity,e.goalHumidity)]}),Object(g.jsx)("td",{style:{padding:"3px",border:"0.05rem solid #013214",textAlign:"center",fontSize:"0.7em"},children:e.active.length?Object(g.jsx)("table",{style:{margin:0,width:"100%",borderSpacing:"2px"},children:Object(g.jsx)("tbody",{children:e.active.map((function(e){return Object(g.jsx)("tr",{children:Object(g.jsx)("td",{style:{textAlign:"center"},children:"".concat(e.name,"  [").concat(e.settings[0].reason,"]")})})}))})}):null}),Object(g.jsx)("td",{style:{padding:"3px",border:"0.05rem solid #013214",textAlign:"center",fontSize:"0.7em"},children:e.active.length?Object(g.jsx)("table",{style:{margin:0,width:"100%",borderSpacing:"2px"},children:Object(g.jsx)("tbody",{children:e.inactive.map((function(e){return Object(g.jsx)("tr",{children:Object(g.jsx)("td",{style:{textAlign:"center"},children:"".concat(e.name,"  [").concat(e.settings[0].reason,"]")})})}))})}):null})]})})):Object(g.jsx)("tr",{children:Object(g.jsx)("td",{style:{padding:"3px",textAlign:"center"},children:"No History Available"})})})]})]})}),ae=function(){var e=Object(i.useRef)(),t=function(){e.current&&e.current.deactivateScreenSaver()};return Object(i.useEffect)((function(){return window.addEventListener("scroll",t,!1)}),[]),Object(g.jsx)(d.a,{children:Object(g.jsxs)("div",{id:"App",className:" border-box",onClick:function(){return e.current.deactivateScreenSaver()},onMouseMove:function(){return e.current.deactivateScreenSaver()},onWheel:function(){return e.current.deactivateScreenSaver()},children:[Object(g.jsx)(D,{}),Object(g.jsx)(I,{ref:e}),Object(g.jsxs)(b.c,{children:[Object(g.jsx)(b.a,{exact:!0,path:"/",children:Object(g.jsxs)("div",{id:"page-box",className:" border-box",style:{boxSizing:"border-box"},children:[Object(g.jsx)(A,{hideDetails:!1}),Object(g.jsx)(k,{})]})}),Object(g.jsxs)(b.a,{path:"/controls",children:[Object(g.jsx)(Z,{}),Object(g.jsxs)("div",{id:"page-box",className:" border-box",style:{boxSizing:"border-box"},children:[Object(g.jsx)(z,{}),Object(g.jsx)(k,{})]})]}),Object(g.jsxs)(b.a,{path:"/schedules",children:[Object(g.jsx)(Z,{}),Object(g.jsxs)("div",{id:"page-box",className:" border-box",style:{boxSizing:"border-box"},children:[Object(g.jsx)(X,{}),Object(g.jsx)(k,{})]})]}),Object(g.jsxs)(b.a,{path:"/climate",children:[Object(g.jsx)(Z,{}),Object(g.jsxs)("div",{id:"page-box",className:" border-box",style:{boxSizing:"border-box"},children:[Object(g.jsx)(Y,{}),Object(g.jsx)(k,{})]})]}),Object(g.jsxs)(b.a,{path:"/history",children:[Object(g.jsx)(Z,{}),Object(g.jsxs)("div",{id:"page-box",className:" border-box",style:{boxSizing:"border-box"},children:[Object(g.jsx)(re,{}),Object(g.jsx)(k,{})]})]}),Object(g.jsxs)(b.a,{path:"/settings",children:[Object(g.jsx)(Z,{}),Object(g.jsxs)("div",{id:"page-box",className:" border-box",style:{boxSizing:"border-box"},children:[Object(g.jsx)(ee,{deactivateScreenSaver:function(t){return e.current.deactivateScreenSaver(t)}}),Object(g.jsx)(k,{})]})]}),Object(g.jsxs)(b.a,{path:"/log",children:[Object(g.jsx)(Z,{}),Object(g.jsxs)("div",{id:"page-box",className:" border-box",style:{boxSizing:"border-box"},children:[Object(g.jsx)(ne,{}),Object(g.jsx)(k,{})]})]}),Object(g.jsxs)(b.a,{path:"/sensor-testing",children:[Object(g.jsx)(Z,{}),Object(g.jsxs)("div",{id:"page-box",className:" border-box",style:{boxSizing:"border-box"},children:[Object(g.jsx)(te,{}),Object(g.jsx)(k,{})]})]})]})]})})},ce=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,92)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,c=t.getLCP,o=t.getTTFB;n(e),r(e),a(e),c(e),o(e)}))},oe=n(32),ie={IMAGE_INTERVAL:6e3,TRANSITION_INTERVAL:1e3,SCREENSAVER_INACTIVE_TIME:6e4,location:w,isVisible:!1},se={settingOptions:["Default","Scheduled","Black","Disabled"],setting:"Default",dayOpacity:1,dayHourStart:7,nightOpacity:.35,nightHourStart:19,blackHourStart:21},ue=Object(oe.a)({serverURL:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"http://192.168.4.41:4700",t=arguments.length>1?arguments[1]:void 0;return"setServerURL"==t.type?t.payload:e},image:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ie,t=arguments.length>1?arguments[1]:void 0;return"setImage"==t.type?Object(o.a)(Object(o.a)({},e),{},{location:t.payload,isVisible:!0}):"setImageVisible"==t.type?Object(o.a)(Object(o.a)({},e),{},{isVisible:!0}):"setImageInvisible"==t.type?Object(o.a)(Object(o.a)({},e),{},{isVisible:!1}):e},isScreenSaverActive:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=arguments.length>1?arguments[1]:void 0;return"activateScreenSaver"==t.type||"deactivateScreenSaver"!=t.type&&e},screenSaverBrightness:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:se,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"setting":return e.settingOptions.includes(t.payload)?Object(o.a)(Object(o.a)({},e),{},{setting:t.payload}):e;case"dayOpacity":return Object(o.a)(Object(o.a)({},e),{},{setting:"Scheduled",dayOpacity:t.payload});case"dayHourStart":return Object(o.a)(Object(o.a)({},e),{},{setting:"Scheduled",dayHourStart:t.payload});case"nightOpacity":return Object(o.a)(Object(o.a)({},e),{},{setting:"Scheduled",nightOpacity:t.payload});case"nightHourStart":return Object(o.a)(Object(o.a)({},e),{},{setting:"Scheduled",nightHourStart:t.payload});case"blackHourStart":return Object(o.a)(Object(o.a)({},e),{},{setting:"Scheduled",blackHourStart:t.payload});default:return e}},data:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return"setData"==t.type?Object(o.a)({},t.payload):e},convertToFahrenheit:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=arguments.length>1?arguments[1]:void 0;return"toggleConvertToFahrenheit"==t.type?!e:e},dropListOpen:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"OFF",t=arguments.length>1?arguments[1]:void 0;return"setDropList"==t.type&&e==t.payload||"setDropList"==t.type&&void 0==t.payload?"OFF":"setDropList"==t.type?t.payload:e}}),le=Object(oe.b)(ue,{});setInterval((function(){h.a.get("".concat(le.getState().serverURL,"/").concat(window.innerHeight>window.innerWidth?"image-portrait":"image-landscape","/"),{responseType:"blob"}).then((function(e){le.dispatch({type:"setImageInvisible"}),setTimeout((function(){le.dispatch({type:"setImage",payload:URL.createObjectURL(e.data)})}),le.getState().image.TRANSITION_INTERVAL/2)})).catch((function(e){console.error(e)}))}),le.getState().image.IMAGE_INTERVAL+le.getState().image.TRANSITION_INTERVAL||5e3);var de=function(){var e=Object(c.a)(Object(a.a)().mark((function e(t){var n;return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t||le.getState().serverURL,e.next=3,h.a.get("".concat(n,"/data/"),{responseType:"json",timeout:t?500:void 0}).then((function(e){var t=e.data;return le.dispatch({type:"setData",payload:t}),le.dispatch({type:"setServerURL",payload:n}),localStorage.setItem("server",n),console.log("Fetching Data Successful: ",n,t),setTimeout((function(){return de()}),t?t.timeNextEvaluation-(new Date).getTime()+3e4:6e4),!0})).catch((function(e){return console.error("Failed to Fetch Data:",n,e),t||setTimeout((function(){return de()}),6e4),!1}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),be=function(){var e=Object(c.a)(Object(a.a)().mark((function e(){var t,n,c,o,i,s;return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=/(?<=redirect=).*?(?:(?!&|$).)*/.exec(window.location.search),n=window.location.search.match(/(?<=server=).*?(?:(?!\/|&|$).)*/g),c=!1,console.log(t),!n){e.next=41;break}o=Object(r.a)(n),e.prev=6,o.s();case 8:if((i=o.n()).done){e.next=33;break}if(s=i.value,console.log("Server Pram:",s,n),e.t0=!c,!e.t0){e.next=16;break}return e.next=15,de("https://".concat(s));case 15:e.t0=e.sent;case 16:if(!e.t0){e.next=22;break}return console.log("HTTPS Query Server Identified:",le.getState().serverURL),c=!0,e.abrupt("break",33);case 22:if(e.t1=!c,!e.t1){e.next=27;break}return e.next=26,de("http://".concat(s));case 26:e.t1=e.sent;case 27:if(!e.t1){e.next=31;break}return console.log("HTTP Query Server Identified:",le.getState().serverURL),c=!0,e.abrupt("break",33);case 31:e.next=8;break;case 33:e.next=38;break;case 35:e.prev=35,e.t2=e.catch(6),o.e(e.t2);case 38:return e.prev=38,o.f(),e.finish(38);case 41:if(e.t3=!c,!e.t3){e.next=46;break}return e.next=45,de(localStorage.getItem("server"));case 45:e.t3=e.sent;case 46:if(!e.t3){e.next=50;break}console.log("LocalStorage Server Identified:",le.getState().serverURL),e.next=51;break;case 50:!c&&t&&window.location.replace(t[0]);case 51:c||(console.error("Failed to Identify Server"),le.dispatch({type:"setServerURL",payload:window.location.origin}),de());case 52:case"end":return e.stop()}}),e,null,[[6,35,38,41]])})));return function(){return e.apply(this,arguments)}}();be(),l.a.render(Object(g.jsx)(s.a.StrictMode,{children:Object(g.jsx)(p.a,{store:le,children:Object(g.jsx)(ae,{})})}),document.getElementById("root")),ce()}},[[91,1,2]]]);
//# sourceMappingURL=main.12ce4b04.chunk.js.map