{"version":3,"sources":["useInterval.jsx","Verify.jsx","Settings/SettingsButton.jsx","Readings/Readings.jsx","Background/terrarium-buddies.jpg","Background/Background.jsx","Background/ScreenSaver/ScreenSaver.jsx","Menu/frog-logo.png","Menu/Menu.jsx","Control/Duration.jsx","Control/Control.jsx","Control/Schedule/Schedule.jsx","Climate/Climate.jsx","Readings/ErrorBar.jsx","Settings/SettingsList.jsx","Settings/SettingsBlank.jsx","Settings/Settings.jsx","Settings/Details/SensorTest.jsx","Settings/Details/LogView.jsx","History/History.jsx","App.js","reportWebVitals.js","index.js"],"names":["useInterval","callback","delay","limit","savedCallback","useRef","useEffect","current","id","setInterval","setTimeout","clearInterval","Verify","props","useState","input","setInput","seeText","setSeeText","isAdvanced","prompt","toLowerCase","includes","style","position","zIndex","width","height","top","left","backgroundColor","display","flexDirection","justifyContent","alignItems","textAlign","padding","borderRadius","margin","color","autoFocus","gridColumn","border","type","onChange","e","target","value","onKeyPress","charCode","undefined","onSubmit","onClick","marginLeft","onCancel","SettingsButton","verification","setVerification","buttonText","setButtonText","verifyLevel","condense","pendingText","buttonColor","getButtonColor","makeRequest","password","localStorage","getItem","setItem","toString","onUpdate","success","isNaN","clear","processUpdate","overflow","className","buttonStyle","title","HoldButton","SERVER_URL","useSelector","root","serverURL","DATA","data","time","setTime","timeNextEvaluation","timer","setTimer","Date","getTime","frequencyActive","Math","floor","fetchData","axios","post","PASSWORD","duration","evaluationFrequency","then","response","catch","error","status","ERRORBACKGROUNDCOLOR","Readings","forwardRef","ref","nextCountDown","setNextCountDown","previousCountUp","setPreviousCountUp","sensorColor","setSensorColor","maxError","setMaxError","ERROR_LIST","setERROR_LIST","convertToFahrenheit","dispatch","useDispatch","routeHistory","useHistory","sensorRef","showDetails","hideDetails","getDefaultBackgroundColor","getSensorFontColor","getTemperaturePercent","operatingTemperature","goal","goalTemperature","min","minimumTemperature","max","maximumTemperature","getHumidityPercent","operatingHumidity","goalHumidity","minimumHumidity","maximumHumidity","list","sensorErrorCode","push","maximumTemperatureErrorCode","minimumTemperatureErrorCode","maximumHumidityErrorCode","minimumHumidityErrorCode","accessDatabase","timeLastReading","previous","formatTemperature","temp","round","getSensor","parentRef","text","length","slice","map","i","gridRow","overflowX","fontSize","fontFamily","borderColor","statusMessage","match","reverse","m","leading","operatingSchedules","class","join","dateFormat","getTemperature","align","columnGap","verticalAlign","getHumidity","marginRight","window","innerWidth","setAlign","temperatureSectionTop","document","getElementById","getBoundingClientRect","humiditySectionTop","HumidityOnClick","TemperatureOnClick","sensorOnClick","ScrollText","boxRef","textRef","scrollLeft","setScrollLeft","minLeft","setMinLeft","setPosition","offsetWidth","transform","gridAutoFlow","trailing","Background","IMAGE","image","src","location","defaultImage","alt","objectFit","opacity","visible","transition","TRANSITION_INTERVAL","TimeBar","countUp","setCountUp","bottom","whiteSpace","right","ScreenSaver","React","serverError","setServerError","isScreenSaverActive","showScreenSaver","setShowScreenSaver","screenSaverOpacity","setScreenSaverOpacity","screenSaverBrightness","calculateBrightness","setting","hour","options","blackHourStart","dayHourStart","dayOpacity","nightHourStart","nightOpacity","sort","a","b","console","log","screensaverTimer","resetTimer","deactivateScreenSaver","useCallback","clearTimeout","SCREENSAVER_INACTIVE_TIME","useImperativeHandle","isVisible","Menu","routeLocation","useLocation","textDecoration","pathname","icon","to","DURATION_LIST","name","getDurationName","v","places","parseInt","getDurationValue","cleanedValue","exec","label","EXCLUDE_CONTROL_TYPES","MakeToggle","overridden","until","test","topReason","severe","isSelected","select","active","Control","durationIndex","setDurationIndex","selectMode","setSelectMode","selectedList","setSelectedList","setControlTypes","controlTypes","smartIndex","findIndex","d","shortedNameList","names","y","CONTROLS","types","result","forEach","substring","toUpperCase","scheduleNow","set","reason","JSON","stringify","repeat","event","c","settings","filter","minWidth","typesMap","Map","t","get","index","mapList","controlList","getControlTypes","original","every","val","arr","DropMenu","customDefault","custom","setCustom","multipleList","setMultipleList","openList","dropListOpen","customName","inputType","selectMultiple","outerStyle","onFocus","onBlur","buttonStyleClass","payload","dropListId","subValue","borderBottom","marginTop","onSelect","option","extraList","borderTop","extraName","onExtra","marginBottom","getDay","today","setHours","tomorrow","yesterday","day","getDate","getDateAbbreviation","getDateList","DropDateMenu","customDate","setCustomDate","getMonth","step","h","getHours","getMinutes","ScheduleRow","pendingAction","setPendingAction","priority","setPriority","setMinutes","setTitle","titleEdited","setTitleEdited","setNames","setDuration","setSet","setRepeat","resetVariables","insertNew","isControlsChanged","Array","isArray","isTimeChanged","isTitleChanged","isDurationChanged","isSetChanged","isRepeatChanged","isChanged","isControlsValid","isTimeValid","isTitleValid","isDurationValid","isSetValid","isRepeatValid","action","space","maxWidth","overriddenList","unshift","getUpdateOptions","replace","s","r","Schedule","SCHEDULES","setSCHEDULES","sortByTime","setSortByTime","calculatedList","setCalculatedList","fetchSchedules","schedules","days","minimum","end","count","occurrences","overrides","reduce","least","find","some","calculateOccurrenceList","getOverriddenList","schedule","currentPriority","increase","attributeName","Climate","CLIMATE","setCLIMATE","range","setRange","temperatureMode","setTemperatureMode","saveButtonText","setSaveButtonText","fetchClimate","climate","getMaxValue","format","ghost","ceil","getMinValue","getWidthOffset","parseFloat","getComputedStyle","documentElement","getRange","values","cellRatio","calculatedWidth","paddingLeft","paddingRight","j","item","temperature","toFixed","humidity","readOnly","temperatureAverage","humidityAverage","ADVANCED_PASSPHRASE","tag","ErrorBar","SettingsList","setCurrent","setOptions","setList","newCurrent","newOptions","addCustom","latestList","l","updateButton","toggleOption","latest","allowed","o","getOldOptions","gridTemplateColumns","old","SettingsBlank","setValue","numberStep","Settings","SCREENSAVER_BRIGHTNESS","route","body","onSuccess","put","LOCAL_SETTINGS","settingOptions","splice","emailStatusRecipients","emailIssueRecipients","email","message","updateRegularity","updateRegularityOptions","sensorType","sensorTypes","sensorMode","sensorModes","mode","pop","SensorTest","testingDuration","setTestingDuration","testingInterval","setTestingInterval","fetchingError","setFetchingError","interval","minutes","seconds","borderSpacing","split","p","colspan","LogView","fileName","setFileName","topRef","getFileNumber","updateLog","fileNumber","headers","isError","line","isHeader","isClimate","isTrace","isSystem","entry","k","fontWeight","fontStyle","scrollIntoView","block","inline","History","dayList","setDayList","setClimate","getTemperatureOff","abs","getHumidityOff","updateHistory","inactive","App","screenSaverRef","addEventListener","onMouseMove","onWheel","exact","path","boxSizing","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","initialImage","IMAGE_INTERVAL","initialScreenSaverBrightness","allStateDomains","combineReducers","state","process","store","createStore","getState","innerHeight","responseType","URL","createObjectURL","res","start","origin","ReactDOM","render","StrictMode"],"mappings":"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","file":"static/js/main.7441c6fe.chunk.js","sourcesContent":["import {useEffect, useRef} from 'react';\r\n\r\n//Custom Hook : Interval for autoplay\r\nexport default function useInterval (callback, delay, limit) {\r\n    const savedCallback = useRef();\r\n    // Remember the latest callback.\r\n    useEffect(() => {\r\n      savedCallback.current = callback;\r\n    }, [callback]);\r\n    // Set up the interval.\r\n    useEffect(() => {\r\n      let id = setInterval(() => {\r\n        savedCallback.current();\r\n      }, delay);\r\n      if(limit) setTimeout(() => {clearInterval(id);}, limit);\r\n      return () => {clearInterval(id);}\r\n    }, [delay]);\r\n  }","import React, {useState} from 'react';\r\n\r\n\r\nconst Verify = (props) => {\r\n    const [input, setInput] = useState();\r\n    const [seeText, setSeeText] = useState(false);\r\n\r\n    const isAdvanced = () => props.prompt.toLowerCase().includes('advance' || 'passphrase');\r\n\r\n    return (<div id='verify-container' style={{position: 'fixed', zIndex: 35, width: '100vw', height: '100vh', top: 0, left:0, backgroundColor: `rgba(0,0,0,${isAdvanced() ? '1.0' : '0.7'})`, \r\n                                                display: 'flex', flexDirection: 'column', justifyContent: 'center', alignItems: 'center'}}>\r\n        <div id='verify-inside' style={{position: 'relative', display: 'grid', textAlign: 'center', padding: '1.0rem 2.0rem', backgroundColor: isAdvanced() ? 'darkred' : 'var(--main-color)', borderRadius: '5px', }}>\r\n            <strong style={{margin: '0.5rem', width: '100%', textAlign: 'left', color: isAdvanced() ? 'whitesmoke' : 'black'}}>{props.prompt}:</strong>\r\n            <div style={{display: 'grid', backgroundColor: 'black', borderRadius: '5px', padding: '0.25rem 0.5rem',}}>\r\n                <input autoFocus style={{gridColumn: 1, border: 'none', backgroundColor: 'black', color: 'whitesmoke'}} type={seeText ? 'text' : 'password'} onChange={(e)=>setInput(e.target.value)} onKeyPress={(e)=>{if(e.charCode == 13 && input != undefined && input != '') props.onSubmit(input);}}/>\r\n                <input type='checkbox'value={seeText} onClick={()=>setSeeText(!seeText)} style={{gridColumn: 2, border: 'none', color: 'var(--main-color)', height: '1.2rem', width: '1.2rem', marginLeft: '1.0rem'}} />\r\n            </div>\r\n            <div>\r\n                <button style={{border: '2px solid white', backgroundColor: 'whitesmoke', color: 'black', padding: '0.25rem', margin: '0.5rem'}} onClick={()=>props.onCancel()}>CANCEL</button>\r\n                <button style={{border: 'none', backgroundColor: 'black', color: 'white', padding: '0.35rem', margin: '0.5rem'}} onClick={()=>{if(input != undefined && input != '') props.onSubmit(input);}}>SUBMIT</button>\r\n            </div>\r\n        </div>\r\n    </div>);\r\n}\r\nexport default Verify;","import React, {useState, useEffect} from 'react';\r\nimport { useSelector} from 'react-redux';\r\nimport axios from 'axios';\r\nimport useInterval from '../useInterval';\r\nimport Verify from '../Verify';\r\nimport {fetchData} from '../index';\r\n\r\nimport '../index.css';\r\nimport './Settings.css';\r\n\r\nconst SettingsButton = (props) => {\r\n    const [verification, setVerification] = useState(undefined);\r\n    const [buttonText, setButtonText] = useState('UPDATE');\r\n\r\n    //Guidelines Abstracted\r\n    const verifyLevel = (props.verifyLevel != undefined) ? props.verifyLevel : 1;\r\n    const condense = (props.condense != undefined) ? props.condense : false;\r\n    const pendingText = (props.pendingText != undefined) ? props.pendingText : 'PENDING';\r\n    const buttonColor = (props.buttonColor != undefined) ? props.buttonColor : 'var(--main-color)';\r\n    const getButtonColor=(buttonText)=>(buttonText=='UPDATE') ? buttonColor : (buttonText=='PASS' || buttonText=='INVALID' || buttonText=='FAILED') ? '#e8000d' : (buttonText=='PENDING' || buttonText=='BLANK') ? 'orange' : '#cc5500';\r\n\r\n    //*********************************\r\n    //   API REQUEST & VERIFICATION\r\n    //*********************************\r\n    const makeRequest=async(password)=>{ setVerification(undefined); //saving local until fetch up stream is called to replace data\r\n        if(verifyLevel == 1 && !localStorage.getItem(\"password\")) await localStorage.setItem(\"password\", password.toString());\r\n        const success = await props.onUpdate(password);\r\n        if(success == null || success == undefined) setButtonText('UPDATE');\r\n        else if(success == true || isNaN(success)) {setButtonText((success != true) ? success : 'SAVED'); setTimeout(()=>setButtonText('UPDATE'), 3000); }\r\n        else if(success == 401) { setButtonText('PASS'); setTimeout(()=>setButtonText('UPDATE'), 5000); localStorage.clear();}\r\n        else if(success == 404) { setButtonText('INVALID'); setTimeout(()=>setButtonText('UPDATE'), 5000); }\r\n        else {setButtonText('FAILED'); setTimeout(()=>setButtonText('UPDATE'), 5000);}\r\n    }\r\n\r\n    const processUpdate=()=>{ if(buttonText == 'UPDATE') { setButtonText('PENDING');\r\n        if(verifyLevel == 0) makeRequest(undefined); //No Security\r\n        else if(verifyLevel == 1 && !localStorage.getItem(\"password\")) setVerification('Enter Control Password to Continue:'); //Only Request if not stored\r\n        else if(verifyLevel == 1) makeRequest(localStorage.getItem(\"password\")); //Use Saved Password\r\n        else setVerification('Enter Advanced Passphrase to Proceed:'); //undefined || >1\r\n    }}\r\n    \r\n    //*********************************\r\n    //   HTML DISPLAY\r\n    //*********************************\r\n\r\n    return(<section style={{overflow: 'hidden'}}>\r\n        {(condense) ?   <button className={`settings-single-button`} onClick={()=>processUpdate()}  style={{...props.buttonStyle, overflow: 'hidden', backgroundColor: buttonColor}}>{props.title}\r\n                                <label className={`settings-single-button-overlay`} style={{display: buttonText == 'UPDATE' ? 'none' : 'flex', overflow: 'hidden', backgroundColor: getButtonColor(buttonText)}}>{buttonText}</label></button>\r\n        : <div className='settings-value-box' style={{display: (condense) ? 'block' : 'grid'}}>\r\n        <button className={`settings-single-button`} onClick={()=>processUpdate()}  style={{...props.buttonStyle, overflow: 'hidden', backgroundColor:  getButtonColor(buttonText)}}>{buttonText == 'UPDATE' ? props.title : buttonText == 'PENDING' ? pendingText : buttonText}</button>\r\n        </div>}\r\n        {verification ?\r\n            <Verify\r\n                prompt={verification}\r\n                onSubmit={makeRequest}\r\n                onCancel={()=>{setVerification(undefined); setButtonText('UPDATE');}}\r\n            />  : <div className='none no-size' style={{position:'absolute'}}></div>}\r\n    </section>);\r\n}\r\nexport default SettingsButton;\r\n\r\nexport const HoldButton = (props) => {\r\n    const SERVER_URL = useSelector(root => root.serverURL);\r\n    const DATA = useSelector(root => root.data);\r\n    const [time, setTime] = useState(0);\r\n    useEffect(()=>setTime(DATA.timeNextEvaluation),[DATA]);\r\n    const [timer, setTimer] = useState(0);\r\n    useInterval(()=>setTimer(time - new Date().getTime()), 1000);\r\n\r\n    return (<SettingsButton title={`${!DATA.frequencyActive ? 'HOLDING' : 'HOLD'}    -  ${(timer <= 0) ? 'evaluating' : `${(timer>3600000)?`${Math.floor(timer/3600000)}:`:''}${(timer>60000)?`${Math.floor((timer%3600000)/60000)}:`:''}${((timer>60000) && (timer%60000<10000))?'0':''}${Math.floor((timer%60000)/1000)}`}`}\r\n    condense={true}\r\n    buttonStyle={props.buttonStyle}\r\n    buttonColor={!DATA.frequencyActive ? '#cc5500' : props.buttonColor}\r\n    verifyLevel={props.verifyLevel || 1}\r\n    onUpdate={(password)=>{setTimeout(()=>fetchData(), 5000); return axios.post(`${SERVER_URL}/postpone-evaluation/`, {PASSWORD: password, duration: props.duration || DATA.evaluationFrequency}).then((response)=>{setTime((props.duration || DATA.evaluationFrequency) + new Date().getTime());  return 'HOLDING';}).catch((error)=>error.response ? error.response.status : false);}} \r\n    />);\r\n}","import React, {useState, useEffect, forwardRef, useRef} from 'react';\r\nimport { useHistory} from \"react-router-dom\";\r\nimport { useSelector, useDispatch} from 'react-redux';\r\nimport dateFormat from 'dateformat';\r\nimport useInterval from '../useInterval';\r\nimport './Readings.css';\r\nimport '../index.css';\r\nimport SettingsButton from '../Settings/SettingsButton';\r\nimport { fetchData } from '..';\r\n\r\n\r\nconst BACKGROUNDCOLOR = 'rgba(24, 98, 24, 0.5)';\r\nconst ERRORBACKGROUNDCOLOR = 'darkred';\r\nconst HOLDINGBACKGROUNDCOLOR = '#cc5500';\r\n\r\n\r\n const Readings = forwardRef((props, ref) => {\r\n    const [nextCountDown, setNextCountDown] = useState(0);\r\n    const [previousCountUp, setPreviousCountUp] = useState(0);\r\n    const [sensorColor, setSensorColor] = useState(BACKGROUNDCOLOR);\r\n    const [maxError, setMaxError] = useState(2);\r\n    const [ERROR_LIST, setERROR_LIST] = useState(['SERVER DISCONNECTED']);\r\n    const DATA = useSelector(root => root.data);\r\n    const SERVER_URL = useSelector(root => root.serverURL);\r\n    const convertToFahrenheit = useSelector(root => root.convertToFahrenheit);\r\n    const dispatch = useDispatch();\r\n    const routeHistory = useHistory();\r\n    const sensorRef = useRef(); \r\n    \r\n    const showDetails = () => (props.hideDetails && maxError == 0) ? false : true;\r\n\r\n    const getDefaultBackgroundColor = () => showDetails() ? 'rgba(24, 98, 24, 0.85)' : 'rgba(24, 98, 24, 0.3)';\r\n\r\n    const getSensorFontColor = () => (sensorColor == ERRORBACKGROUNDCOLOR || !maxError || !DATA.frequencyActive) ? 'white' : ERRORBACKGROUNDCOLOR;\r\n\r\n    const getTemperaturePercent = (current = DATA.operatingTemperature, goal = DATA.goalTemperature, min = DATA.minimumTemperature, max = DATA.maximumTemperature) => (current >= max) ? 2 + ((current-max) * (1/(max-min))) : (current <= min) ? ((current-min) * (1/(max-min))) : 1 - ((goal-current) * (1/(max-min))); \r\n\r\n    const getHumidityPercent = (current = DATA.operatingHumidity, goal = DATA.goalHumidity, min = DATA.minimumHumidity, max = DATA.maximumHumidity) => (current >= max) ? 2 + ((current-max) * (1/(max-min))) : (current <= min) ? ((current-min) * (1/(max-min))) : 1 - ((goal-current) * (1/(max-min))); \r\n\r\n//Evaluate Current Errors //Error 0, 1, 2\r\n    useEffect(()=>{let max = 0; let list = [];\r\n        if(DATA.sensorErrorCode == undefined) {max = 2; list.push('SERVER DISCONNECTED');}\r\n        else {//Ordered Importance\r\n            if(DATA.sensorErrorCode) {max = Math.max(max, DATA.sensorErrorCode); list.push('SENSOR ERROR');}\r\n            if(DATA.maximumTemperatureErrorCode) {max = Math.max(max, DATA.maximumTemperatureErrorCode); list.push('MAXIMUM TEMPERATURE');}\r\n            if(DATA.minimumTemperatureErrorCode) {max = Math.max(max, DATA.minimumTemperatureErrorCode); list.push('MINIMUM TEMPERATURE');}\r\n            if(DATA.maximumHumidityErrorCode) {max = Math.max(max, DATA.maximumHumidityErrorCode); list.push('MAXIMUM HUMIDITY');}\r\n            if(DATA.minimumHumidityErrorCode) {max = Math.max(max, DATA.minimumHumidityErrorCode); list.push('MINIMUM HUMIDITY');}\r\n            if((DATA.accessDatabase != undefined && !DATA.accessDatabase)) {max = Math.max(max, 1); list.push('DATABASE LOCKED');}\r\n        } setMaxError(max); setERROR_LIST(list);\r\n    },[DATA]);\r\n\r\n    useInterval(()=>{setNextCountDown(DATA.timeNextEvaluation - new Date().getTime()); setPreviousCountUp(new Date().getTime() - DATA.timeLastReading)\r\n                    setSensorColor(previous => (maxError == 1 || previous == 'whitesmoke') ? ERRORBACKGROUNDCOLOR : (maxError > 1) ? 'whitesmoke' : getDefaultBackgroundColor()); \r\n    }, 1000);\r\n\r\n    const formatTemperature = (temp) => (Math.round((convertToFahrenheit ? ((temp*(9/5)+32)) : temp) * 100) / 100);\r\n\r\n    const getSensor = () => (DATA.operatingTemperature && !showDetails()) ? <div className='none no-size'></div>\r\n        : <div ref={sensorRef} id='condition-details' className='none readings-box-outer' style={{color: getSensorFontColor()}}>\r\n            <div className='readings-box-inner' style={{backgroundColor: sensorColor}}>\r\n                <div className=' readings-value-box' >\r\n                    <ScrollText  parentRef={sensorRef} id={'readings-top-error'}\r\n                        text={(ERROR_LIST.length) ? ERROR_LIST[0] : ''}\r\n                    />\r\n                    {(ERROR_LIST.length > 1) ? ERROR_LIST.slice(1).map((e,i)=><strong key={`error-${i}`} className=' ' style={{gridRow: (i+3), gridColumn: 1, overflowX: 'auto', fontSize: '1.2rem', fontFamily: `'New Tegomin', serif`, margin: 0, color: sensorColor == ERRORBACKGROUNDCOLOR ? 'white' : ERRORBACKGROUNDCOLOR}} >{e}</strong>): <div className='none no-size'></div>}\r\n                    {(ERROR_LIST.length > 1) ? <hr style={{borderColor: getSensorFontColor()}}></hr> : <div className='none no-size'></div>}\r\n                    {(DATA.statusMessage && DATA.statusMessage.length) ?  <div style={{display: 'inline-grid', gridRow: 2, gridColumn: 1,}}>\r\n                    {DATA.statusMessage.match(/[^\\r\\n]+/g).reverse().map((m, i)=>\r\n                        <section key={`statusMessage-${i}`} className='readings-status-message' style={{gridRow: (i+2)}} ><ScrollText  parentRef={sensorRef} text={m} leading={'➳'}/></section>\r\n                    )} </div> : <div className='none no-size'></div>}\r\n                    {(DATA.operatingSchedules || []).length ? <ScrollText  parentRef={sensorRef} class={'readings-schedule-list'} \r\n                        text={DATA.operatingSchedules.join(' | ')}/> : <div className='none no-size'></div>}\r\n                </div>\r\n                {(DATA.operatingTemperature) ? <section className='readings-value-box'>\r\n                    <hr style={{borderColor: getSensorFontColor()}}></hr>\r\n                    <p className='none readings-description' style={{gridRow: 2, gridColumn: 1,}} >Last Sensor Reading:</p>\r\n                    <strong className='none readings-value' style={{gridRow: 2, gridColumn: 2, }} >{dateFormat(DATA.timeLastReading, 'm-d-yy HH:MM')}{previousCountUp > DATA.evaluationFrequency ? ` [${`${(previousCountUp>3600000)?`${Math.floor(previousCountUp/3600000)}:`:''}${(previousCountUp>60000)?`${Math.floor((previousCountUp%3600000)/60000)}:`:''}${((previousCountUp>60000) && (previousCountUp%60000<10000))?'0':''}${Math.floor((previousCountUp%60000)/1000)}`}]`: ''}</strong>\r\n                    <p className='none readings-description' style={{gridRow: 3, gridColumn: 1, }} >Sensor Frequency:</p>\r\n                    <strong className='none readings-value' style={{gridRow: 3, gridColumn: 2, }} >{DATA.evaluationFrequency/60000} minutes</strong>\r\n                    <p className='none readings-description' style={{gridRow: 4, gridColumn: 1,  }} >Next Evaluation:</p>\r\n                    <strong className='none readings-value' style={{gridRow: 4, gridColumn: 2, }} >{nextCountDown <= 0 ? 'Reading' : nextCountDown > 60000 ? `${Math.floor(nextCountDown/60000)}:${nextCountDown%60000<10000?'0':''}${Math.floor((nextCountDown%60000)/1000)}` : `${Math.floor(nextCountDown/1000)} seconds`}</strong>\r\n                </section> : <div  className='none no-size'></div>}\r\n            </div>\r\n        </div>;\r\n\r\n    const getTemperature = () => (DATA.operatingTemperature) ? <div id='temperature-section' className='none readings-box-outer' style={{marginLeft: align ? 'auto' : 0}}>\r\n            <div className='readings-box-inner' style={{backgroundColor: maxError ? ERRORBACKGROUNDCOLOR : getDefaultBackgroundColor()}}>\r\n                <section className='none readings-value-box' style={{columnGap: '0'}}>\r\n                        <strong className='none readings-main-value' style={{}} >{formatTemperature(DATA.operatingTemperature)}</strong>\r\n                        <p className='none ' style={{gridRow: 1, gridColumn: 2, verticalAlign: 'top', fontSize: '1.0rem'}} >{convertToFahrenheit ? <span>&#8457;</span> : <span>&#8451;</span>}</p>\r\n                    </section>\r\n                {!showDetails() ? <div className='none no-size'></div> \r\n                : <section className='readings-value-box'>\r\n                        <p className='none readings-title' style={{}} >Temperature</p>\r\n                        <p className='none readings-description' style={{gridRow: 2, gridColumn: 1, }} >Efficiency:</p>\r\n                        <strong className='none readings-value' style={{gridRow: 2, gridColumn: 2, }} >{Math.floor(getTemperaturePercent()*100)}%</strong>\r\n                        <p className='none readings-description' style={{gridRow: 3, gridColumn: 1, }} >Range:</p>\r\n                        <strong className='none readings-value' style={{gridRow: 3, gridColumn: 2, }} >{formatTemperature(DATA.minimumTemperature)} - {formatTemperature(DATA.maximumTemperature)}{convertToFahrenheit ? <span>&#8457;</span> : <span>&#8451;</span>}</strong>\r\n                </section> }     \r\n            </div>     \r\n        </div> : <div id='temperature-section' className='none no-size'></div>;\r\n\r\n\r\n    const getHumidity = () => (DATA.operatingHumidity) ? <div id='humidity-section'  className='none readings-box-outer' style={{marginRight: align ? 'auto' : '0'}}>\r\n            <div className='readings-box-inner' style={{backgroundColor: maxError ? ERRORBACKGROUNDCOLOR : getDefaultBackgroundColor()}}>\r\n                <section className='none readings-value-box' style={{columnGap: '0'}}>\r\n                    <strong className='none readings-main-value' style={{}} >{Math.round(DATA.operatingHumidity * 100) / 100}</strong>\r\n                    <p className='none ' style={{gridRow: 1, gridColumn: 2, verticalAlign: 'top', fontSize: '1.0rem'}} >%</p>\r\n                </section>\r\n                {!showDetails() ? <div className='none no-size'></div> \r\n                : <section className='readings-value-box'>\r\n                    <p className='none readings-title' style={{textAlign: 'center'}} >Humidity</p>\r\n                    <p className='none readings-description' style={{gridRow: 2, gridColumn: 1, }} >Efficiency:</p>\r\n                    <strong className='none readings-value' style={{gridRow: 2, gridColumn: 2, }} >{Math.floor(getHumidityPercent()*100)}%</strong>\r\n                    <p className='none readings-description' style={{gridRow: 3, gridColumn: 1, }} >Range:</p>\r\n                    <strong className='none readings-value' style={{gridRow: 3, gridColumn: 2, }} >{(DATA.minimumHumidity)} - {(DATA.maximumHumidity)}%</strong>\r\n                </section> }\r\n            </div> \r\n        </div> : <div id='humidity-section' className='none no-size'></div>;\r\n\r\n//Detect flew-wrap and center horizontally\r\nconst [align, setAlign] = useState((window.innerWidth < 900));\r\nuseEffect(()=>{setTimeout(()=>{\r\n    const temperatureSectionTop = document.getElementById('temperature-section').getBoundingClientRect().top;\r\n    const humiditySectionTop = document.getElementById('humidity-section').getBoundingClientRect().top;\r\n    if(temperatureSectionTop != undefined && temperatureSectionTop != humiditySectionTop) setAlign(true);\r\n},500);},[]);    \r\n\r\nconst HumidityOnClick = async(password) => {const response = await fetchData(); routeHistory.push('/'); return response == true ? 'UPDATING' : response;}\r\nconst TemperatureOnClick = async(password) => {dispatch({type: 'toggleConvertToFahrenheit'}); return null;}\r\nconst sensorOnClick = async(password) => {if(maxError) routeHistory.push('/log'); else routeHistory.push('/settings'); return null;}\r\n\r\n    return (align ? <div ref={ref} id='readings-container' className='readings-align'  >\r\n                <SettingsButton title={getSensor()}\r\n                    condense={true}\r\n                    buttonColor={'transparent'}\r\n                    buttonStyle={{border: 'none', margin: '1.0rem', padding: '0', borderRadius: '0.75rem'}}\r\n                    verifyLevel={maxError ? 0 : 1}\r\n                    pendingText='INITIATING'\r\n                    onUpdate = {sensorOnClick}/>\r\n                <SettingsButton title={getTemperature()}\r\n                    condense={true}\r\n                    buttonColor={'transparent'}\r\n                    buttonStyle={{border: 'none', margin: '1.0rem', padding: '0', borderRadius: '0.75rem'}}\r\n                    verifyLevel={0}\r\n                    onUpdate = {TemperatureOnClick}/>\r\n                <SettingsButton title={getHumidity()}\r\n                    condense={true}\r\n                    buttonColor={'transparent'}\r\n                    buttonStyle={{border: 'none', margin: '1.0rem', padding: '0', borderRadius: '0.75rem'}}\r\n                    verifyLevel={0}\r\n                    pendingText='RETRIEVING'\r\n                    onUpdate={HumidityOnClick}/>\r\n        </div> : <div ref={ref} id='readings-container' className='readings-top'  >\r\n                <SettingsButton title={getTemperature()}\r\n                    condense={true}\r\n                    buttonColor={'transparent'}\r\n                    buttonStyle={{border: 'none', margin: '1.0rem', padding: '0', borderRadius: '0.75rem'}}\r\n                    verifyLevel={0}\r\n                    onUpdate = {TemperatureOnClick}/>\r\n                <SettingsButton title={getSensor()}\r\n                    condense={true}\r\n                    buttonColor={'transparent'}\r\n                    buttonStyle={{border: 'none', margin: '1.0rem', padding: '0', borderRadius: '0.75rem'}}\r\n                    verifyLevel={maxError ? 0 : 1}\r\n                    pendingText='INITIATING'\r\n                    onUpdate = {sensorOnClick}/>\r\n                <SettingsButton title={getHumidity()}\r\n                    condense={true}\r\n                    buttonColor={'transparent'}\r\n                    buttonStyle={{border: 'none', margin: '1.0rem', padding: '0', borderRadius: '0.75rem'}}\r\n                    verifyLevel={0}\r\n                    pendingText='RETRIEVING'\r\n                    onUpdate={HumidityOnClick}/>\r\n        </div>);\r\n});\r\n\r\nconst ScrollText=(props)=>{\r\n    const boxRef = useRef();\r\n    const textRef = useRef();\r\n    const [scrollLeft, setScrollLeft] = useState(true);\r\n    const [minLeft, setMinLeft] = useState(0);\r\n    const [position, setPosition] = useState(0);\r\n\r\n    useEffect(()=>{\r\n        if(boxRef.current.offsetWidth > (props.parentRef.current.offsetWidth)) \r\n            setMinLeft(-1*(textRef.current.offsetWidth - (props.parentRef.current.offsetWidth)));\r\n    }, [boxRef, textRef]);\r\n\r\n    useInterval(()=>{ if(minLeft<0) {\r\n        if(position < minLeft) {setScrollLeft(false); setPosition(minLeft+1)}\r\n        if(position > 0) {setScrollLeft(true); setPosition(-1)}\r\n        setPosition(previous => scrollLeft ? (previous - 1) : (previous + 1));\r\n        textRef.current.style.transform = `translateX(${position}px)`;\r\n    }}, 20);\r\n\r\n    return (<span ref={boxRef} style={{display: 'grid', gridAutoFlow: 'column'}}><span style={{margin: 'auto'}}>{props.leading}</span><p  ref={textRef} id={props.id} className={props.class}  style={{overflowX: 'visible'}}>{props.text}</p><span style={{margin: 'auto'}}>{props.trailing}</span></span>);\r\n}\r\n\r\nexport default Readings;","export default __webpack_public_path__ + \"static/media/terrarium-buddies.3158d65c.jpg\";","import { useSelector} from 'react-redux';\r\nimport defaultImage from './terrarium-buddies.jpg';\r\nimport '../index.css';\r\nimport './Background.css';\r\n\r\n\r\nconst Background = (props) => {\r\n\r\n  const IMAGE = useSelector(root => root.image);\r\n\r\nreturn(\r\n    <div key='Background Component'>\r\n      <div key='background-black' style={{\r\n        position: 'absolute', \r\n        zIndex: 0,\r\n        height:'100vh', \r\n        width: '100vw', \r\n        backgroundColor: 'black'\r\n        }}></div>\r\n      <div key='Background Image' style={{position: 'absolute',  }}>\r\n        {/* <div key='background-cover' style={{\r\n        position: 'absolute', \r\n          zIndex: '3',\r\n          height:'100vh', \r\n          width: '100vw', \r\n          backgroundColor: 'black',\r\n          opacity: 0.4,\r\n\r\n          }}></div> */}\r\n        <img  className=\"blur-effect\" src={IMAGE.location || defaultImage} alt={'background-image'}  style={{\r\n          zIndex: '2',\r\n          display: 'block',\r\n          objectFit: 'cover',\r\n          overflow: 'hidden',\r\n          width: '100vw', \r\n          height: '100vh', \r\n          opacity: IMAGE.visible ? 0.9 : 0.3, \r\n          transition: `all ${IMAGE.TRANSITION_INTERVAL*0.6}ms ease`}}/>\r\n        \r\n      </div>\r\n    </div>\r\n);\r\n}\r\nexport default Background;","import React, {useState, useCallback, useEffect, useRef, useImperativeHandle} from 'react';\r\nimport { useHistory} from \"react-router-dom\";\r\nimport { useSelector, useDispatch} from 'react-redux';\r\nimport dateFormat from 'dateformat';\r\nimport useInterval from '../../useInterval';\r\nimport defaultImage from '../terrarium-buddies.jpg';\r\nimport '../../index.css';\r\n\r\nimport Readings from '../../Readings/Readings';\r\n\r\n\r\nconst TimeBar = (props) => {\r\n  const DATA = useSelector(root => root.data);\r\n\r\n  const [countUp, setCountUp] = useState(0);\r\n  useInterval(()=>{setCountUp((new Date().getTime() - DATA.timeLastReading));},1000);\r\n\r\n  return(<div className='none border-box' style={{position: 'fixed', bottom: 0, width: '100%', \r\n    padding: '0.3rem 1.0rem', \r\n    display: 'flex', justifyContent: 'space-between',\r\n    backgroundColor: 'black', color: 'whitesmoke', fontSize: '0.8rem', whiteSpace: 'wrap', overflowX: 'scroll',\r\n  }}>\r\n      <p className='none' style={{whiteSpace: 'nowrap', left: 0}} >{dateFormat(new Date().getTime(), 'dddd, mmmm d, yyyy h:MM')}</p>\r\n      <p className='none' style={{whiteSpace: 'nowrap', right: '100vw'}} >{isNaN(countUp) ? 'Disconnected' : countUp > 60000 ? `${Math.floor(countUp/60000)}:${countUp%60000<10000?'0':''}${Math.floor((countUp%60000)/1000)}` : `${Math.floor(countUp/1000)} seconds`}</p>\r\n  </div>);\r\n}\r\n\r\nconst ScreenSaver = React.forwardRef((props, ref) => {\r\n//  Detection & Timeout: https://codesandbox.io/s/5xrrr09r9k?file=/src/index.js:480-1530\r\n\r\nconst IMAGE = useSelector(root => root.image);\r\nconst DATA = useSelector(root => root.data);\r\nconst [serverError, setServerError] = useState(false);\r\nconst isScreenSaverActive = useSelector(root => root.isScreenSaverActive);\r\nconst [showScreenSaver, setShowScreenSaver] = useState(true);\r\nconst [screenSaverOpacity, setScreenSaverOpacity] = useState('0'); //CSS Inline String\r\nuseEffect(()=>{if(isScreenSaverActive && !serverError) {\r\n    // setScreenSaverOpacity('0');\r\n    setShowScreenSaver(true);\r\n    setTimeout(() => setScreenSaverOpacity('1'), ( 0.6*1000));\r\n  } else {\r\n    // setScreenSaverOpacity('1');\r\n    setTimeout(() => setScreenSaverOpacity('0'), ( 0.6*1000));\r\n    setTimeout(() => setShowScreenSaver(false), (1000));\r\n  }}, [isScreenSaverActive, serverError]);\r\nconst screenSaverBrightness = useSelector(root => root.screenSaverBrightness);\r\nconst dispatch = useDispatch();\r\nconst routeHistory = useHistory();\r\n\r\nconst calculateBrightness = () => { if(screenSaverBrightness.setting == 'Black') return 1.0;\r\n    if(screenSaverBrightness.setting == 'Scheduled') { const hour = 19;\r\n    let options=[{hour: screenSaverBrightness.blackHourStart, opacity: 0}, {hour: screenSaverBrightness.dayHourStart, opacity: screenSaverBrightness.dayOpacity}, {hour: screenSaverBrightness.nightHourStart, opacity:screenSaverBrightness.nightOpacity}];\r\n    options = options.sort((a,b) => (a.hour-b.hour));\r\n    console.log(options);\r\n    if((hour >= options[0].hour) && ((hour < options[1].hour) || (options[0].hour == options[1].hour)) && (options[0].hour >= 0 && options[0].hour <= 23)) return options[0].opacity;\r\n    if((hour >= options[1].hour) && ((hour < options[2].hour) || (options[1].hour == options[2].hour)) && (options[1].hour >= 0 && options[1].hour <= 23)) return options[1].opacity;\r\n    if((hour >= options[2].hour) || (hour < options[0].hour) && (options[2].hour >= 0 && options[2].hour <= 23)) return options[2].opacity;\r\n    }\r\n    return 1.0; //Default\r\n}\r\n\r\n//Evaluate Current Errors\r\n  useEffect(()=>{ const list = [];\r\n    if((DATA.sensorErrorCode == undefined) \r\n        || (DATA.sensorErrorCode) \r\n        || (DATA.maximumTemperatureErrorCode) \r\n        || (DATA.minimumTemperatureErrorCode) \r\n        || (DATA.maximumHumidityErrorCode) \r\n        || (DATA.minimumHumidityErrorCode) \r\n        || (DATA.accessDatabase != undefined && !DATA.accessDatabase)) setServerError(true);\r\n    else setServerError(false);\r\n  },[DATA]);\r\n\r\n//Screen Saver\r\nconst screensaverTimer = useRef();\r\nconst resetTimer = useRef();\r\nconst deactivateScreenSaver = useCallback((duration) => {\r\n  dispatch({type: 'deactivateScreenSaver'});\r\n    //Set Timer\r\n    clearTimeout(screensaverTimer.current);\r\n    screensaverTimer.current = setTimeout(() => dispatch({type: 'activateScreenSaver' }), duration || IMAGE.SCREENSAVER_INACTIVE_TIME);\r\n    clearTimeout(resetTimer.current);\r\n    if(isScreenSaverActive) resetTimer.current = setTimeout(()=>routeHistory.push('/'), (duration || IMAGE.SCREENSAVER_INACTIVE_TIME)*3);\r\n  }, []);\r\n  useEffect(()=>deactivateScreenSaver(),[]); //call initially\r\n\r\n      //Allows Parent: App.js to call on all mouse movements\r\n      useImperativeHandle(ref, () => ({\r\n        deactivateScreenSaver() {\r\n          deactivateScreenSaver();\r\n        }\r\n      }));\r\n    \r\nreturn((!showScreenSaver) ? <div className='none no-size'></div> : \r\n    <div key='ScreenSaver Component' style={{zIndex: 20,\r\n      position: 'absolute',\r\n      width: '100vw',\r\n      height: '100vh',\r\n      opacity: screenSaverOpacity,\r\n      transition: `all ${IMAGE.TRANSITION_INTERVAL*0.5}ms ease`\r\n    }}\r\n    // onClick={()=>deactivateScreenSaver()}\r\n    // onMouseMove={()=>deactivateScreenSaver()}\r\n    // onMouseLeave={()=>dispatch({type: 'activateScreenSaver' })}\r\n    >\r\n      <div key='ScreenSaver-black' style={{\r\n        position: 'absolute', \r\n        // zIndex: '0',\r\n        height:'100vh', \r\n        width: '100vw', \r\n        backgroundColor: 'black'\r\n        }}></div>\r\n      <div key='ScreenSaver Image' style={{position: 'absolute',  }}>\r\n        <img  className=\"\" src={IMAGE.location || defaultImage} alt={'screensaver'}  style={{\r\n          // zIndex: '9',\r\n          display: 'block',\r\n          objectFit: 'cover',\r\n          overflow: 'hidden',\r\n          width: '100vw', \r\n          height: '100vh', \r\n          opacity: IMAGE.isVisible ? calculateBrightness() : (calculateBrightness() > 0.2) ? 0.2 : 0,\r\n          transition: `all ${IMAGE.TRANSITION_INTERVAL*0.6}ms ease`}}/>\r\n      </div>\r\n          <Readings hideDetails={true}/>\r\n          <TimeBar />\r\n    </div>\r\n);\r\n\r\n});\r\n\r\nexport default ScreenSaver;","export default __webpack_public_path__ + \"static/media/frog-logo.61394956.png\";","\r\nimport React, {forwardRef} from 'react';\r\nimport { Link, useHistory, useLocation} from \"react-router-dom\";\r\nimport {useDispatch} from 'react-redux';\r\n\r\nimport '../index.css';\r\nimport './Menu.css';\r\nimport icon from './frog-logo.png';\r\n\r\n\r\nconst Menu = forwardRef((props, ref) => {\r\n    const routeHistory = useHistory();\r\n    const routeLocation = useLocation();\r\n    const dispatch = useDispatch();\r\n\r\n\r\n    return(<div>\r\n        <div id='menu-container-spacer'></div>\r\n        <div ref={ref} id='menu-container' className=' border-box' >\r\n            <div className='menu-icon-box' style={{ textDecoration: 'none' }} onClick={()=>{\r\n                if(routeLocation.pathname == '/') setTimeout(()=>dispatch({type: 'activateScreenSaver' }), 1500);\r\n                else routeHistory.push('/');\r\n            }}>\r\n                    <img className='menu-icon' src={icon} />\r\n                    <strong className='menu-icon-text'>Current</strong>\r\n            </div>\r\n            <Link to=\"/controls\" className='menu-icon-box' style={{ textDecoration: 'none' }}>\r\n                    <img className='menu-icon' src={icon} />\r\n                    <strong className='menu-icon-text'>Controls</strong>\r\n            </Link>\r\n            <Link to=\"/schedules\" className='menu-icon-box' style={{ textDecoration: 'none' }}>\r\n                <img className='menu-icon' src={icon} />\r\n                <strong className='menu-icon-text'>Schedules</strong>\r\n            </Link>\r\n            <Link to=\"/climate\" className='menu-icon-box' style={{ textDecoration: 'none' }}>\r\n                <img className='menu-icon' src={icon} />\r\n                <strong className='menu-icon-text'>Climate</strong>\r\n            </Link>\r\n            <Link to=\"/history\" className='menu-icon-box' style={{ textDecoration: 'none' }}>\r\n                <img className='menu-icon' src={icon} />\r\n                <strong className='menu-icon-text'>History</strong>\r\n            </Link>\r\n            <div className='menu-icon-box' style={{ textDecoration: 'none' }} onClick={()=>{\r\n                if(routeLocation.pathname == '/settings') routeHistory.push('/log');\r\n                else routeHistory.push('/settings');\r\n            }}>\r\n                    <img className='menu-icon' src={icon} />\r\n                <strong className='menu-icon-text'>Settings</strong>\r\n            </div>\r\n        </div>\r\n    </div>);\r\n});\r\n\r\nexport default Menu;","\r\nconst DURATION_LIST = [ //return in millisecond and interpret slider\r\n    {name: '1m', value: 1 * 60 * 1000},\r\n    {name: '2m', value: 2 * 60 * 1000},\r\n    {name: '3m', value: 3 * 60 * 1000},\r\n    {name: '4m', value: 4 * 60 * 1000},\r\n    {name: '5m', value: 5 * 60 * 1000},\r\n    {name: '6m', value: 6 * 60 * 1000},\r\n    {name: '7m', value: 7 * 60 * 1000},\r\n    {name: '8m', value: 8 * 60 * 1000},\r\n    {name: '9m', value: 9 * 60 * 1000},\r\n    {name: '10m', value: 10 * 60 * 1000},\r\n    {name: '15m', value: 15 * 60 * 1000},\r\n    {name: '30m', value: 30 * 60 * 1000},\r\n    {name: '45m', value: 45 * 60 * 1000},\r\n    {name: '1h', value: 60 * 60 * 1000},\r\n    {name: '2h', value: 2 * 60 * 60 * 1000},\r\n    {name: '3h', value: 3 * 60 * 60 * 1000},\r\n    {name: '4h', value: 4 * 60 * 60 * 1000},\r\n    {name: '5h', value: 5 * 60 * 60 * 1000},\r\n    {name: '6h', value: 6 * 60 * 60 * 1000},\r\n    {name: '12h', value: 12 * 60 * 60 * 1000},\r\n    {name: '1d', value: 24 * 60 * 60 * 1000},\r\n    {name: '3d', value: 3 * 24 * 60 * 60 * 1000},\r\n    {name: '1w', value: 7 * 24 * 60 * 60 * 1000},\r\n    {name: '2w', value: 14 * 24 * 60 * 60 * 1000},\r\n    {name: '1M', value: 30 * 24 * 60 * 60 * 1000},\r\n];\r\n\r\nexport default DURATION_LIST;\r\n\r\nexport const getDurationName = (v, places = 1) => {\r\n    try{const value = parseInt(v);\r\n            if((value / (30 * 24 * 60 * 60 * 1000)) >= 1) return `${Math.floor(value / (30 * 24 * 60 * 60 * 1000) * (places * 10))/(places * 10)}M`;\r\n            else if((value / (7 * 24 * 60 * 60 * 1000)) >= 1) return `${Math.floor(value / (7 * 24 * 60 * 60 * 1000) * (places * 10))/(places * 10)}w`;\r\n            else if((value / (24 * 60 * 60 * 1000)) >= 1) return `${Math.floor(value / (24 * 60 * 60 * 1000) * (places * 10))/(places * 10)}d`;\r\n            else if((value / (60 * 60 * 1000)) >= 1) return `${Math.floor(value / (60 * 60 * 1000) * (places * 10))/(places * 10)}h`;\r\n            else if((value / (60 * 1000)) >= 1) return `${Math.floor(value / (60 * 1000))}m`;\r\n            else return 'ZERO';\r\n    } catch(error){return 'INVALID';}\r\n}\r\n\r\nexport const getDurationValue = (name) => {\r\n    try{ const cleanedValue = /\\d+/.exec(name)[0];\r\n        const value = parseInt(cleanedValue);\r\n        const label = /[a-zA-Z]+/.exec(name)[0];\r\n\r\n        if(label == 'm') return value * 60 * 1000;\r\n        else if(label == 'h')  return value * 60 * 60 * 1000;\r\n        else if(label == 'd')  return value * 24 * 60 * 60 * 1000;\r\n        else if(label == 'w')  return value * 7 * 24 * 60 * 60 * 1000;\r\n        else if(label == 'M')  return value * 30 * 24 * 60 * 60 * 1000;\r\n        else return value;\r\n    } catch(error){return 0;}\r\n}","import React, {useState, useEffect} from 'react';\r\nimport { useSelector} from 'react-redux';\r\nimport axios from 'axios';\r\nimport useInterval from '../useInterval';\r\nimport DURATION_LIST from './Duration';\r\nimport SettingsButton, {HoldButton} from '../Settings/SettingsButton';\r\nimport {fetchData} from '../index';\r\n\r\nimport '../index.css';\r\nimport './Control.css';\r\n\r\nconst ACTIVE_COLOR = 'rgba(0, 102, 0, 0.6)';\r\nconst DEACTIVE_COLOR = 'rgba(0, 0, 0, 0.5)';\r\nconst EXCLUDE_CONTROL_TYPES = ['On', 'Off'];\r\n\r\n//auto generate type button\r\n\r\nconst MakeToggle = (props) => {\r\n    const [timer, setTimer] = useState(1);\r\n    const interval = useInterval(()=>{setTimer((props.until - new Date().getTime()) * (((props.until - new Date().getTime()) < 0) ? -1 : 1)); }, 1000);\r\n    const overridden = /(severe|schedule|toggle|immediate)/i.test(props.topReason);\r\n    const severe = /(severe|extreme)/i.test(props.topReason);\r\n\r\n    return (\r\n    <div className='none control-toggle-outer' style={{}} onClick={props.onClick}> \r\n        <div className='none control-toggle-inner' style={{borderColor: props.isSelected ? 'whitesmoke' : props.select ? 'transparent' : overridden ? 'var(--accent-color)' : 'transparent',\r\n                backgroundColor: severe ? 'darkred' : props.active ? ACTIVE_COLOR : DEACTIVE_COLOR, }}>\r\n            <strong className='none control-toggle-text'>{props.title}</strong>\r\n            <p className='none control-toggle-timer' style={{}} >{props.topReason}</p>\r\n            <p className='none control-toggle-timer' style={{fontSize: '0.75rem', color: ((props.until - new Date().getTime()) < 0) ? 'gold' : null}} >{(props.until <= 0) ? `${props.active ? 'ON' : 'OFF'} : INDEFINITELY` : `${(timer>3600000)?`${Math.floor(timer/3600000)}:`:''}${(timer>60000)?`${Math.floor((timer%3600000)/60000)}:`:''}${((timer>60000) && (timer%60000<10000))?'0':''}${Math.floor((timer%60000)/1000)}` }</p>\r\n        </div>\r\n    </div>\r\n    );\r\n}\r\n\r\n\r\nexport default function Control(props) {\r\n    const SERVER_URL = useSelector(root => root.serverURL);\r\n    const DATA = useSelector(root => root.data);\r\n    const [durationIndex, setDurationIndex] = useState(10)\r\n    const [selectMode, setSelectMode] = useState(false);\r\n    const [selectedList, setSelectedList] = useState([]);\r\n    const [controlTypes, setControlTypes] = useState([]);\r\n    useEffect(()=>{if(DATA.controlTypes != undefined) setControlTypes(DATA.controlTypes);\r\n                const smartIndex = DURATION_LIST.findIndex(d=>(d.value > (DATA.timeNextEvaluation - new Date().getTime())))-1;  \r\n                if(smartIndex > 4) setDurationIndex(smartIndex); },[DATA]);\r\n\r\n    const shortedNameList = (names) => {  \r\n        for(var i=0; i<DATA.controlTypes.length; i++) {let match = true;\r\n            for(var y=0; y<DATA.CONTROLS.length; y++) {\r\n                if((names.includes(DATA.CONTROLS[y].name) && !DATA.CONTROLS[y].types.includes(DATA.controlTypes[i]))\r\n                    || !names.includes(DATA.CONTROLS[y].name) && DATA.CONTROLS[y].types.includes(DATA.controlTypes[i])) { match = false; break;}\r\n            } if(match) return `[${DATA.controlTypes[i]}]`;\r\n        } let result = '';\r\n         names.forEach(name =>  result += ('-'+(name.match(/\\b(\\w)/g).join('.'))));\r\n        return `(${result.substring(1).toUpperCase()})`;//removes first dash :)\r\n    }\r\n\r\n    const scheduleNow = async(password, names, set = true, reason = `Immediate ${shortedNameList(names)}`) =>  await axios.post(`${SERVER_URL}/schedule-add/`, {\r\n                                PASSWORD: password, time: new Date().getTime(), title: reason, names: JSON.stringify(names), duration: DURATION_LIST[durationIndex].value, set: (set || set == 'true'), repeat: 0\r\n                            }).then((response) => {setTimeout(()=>fetchData(),10000); return 'EXECUTING';}).catch((error) => error.response ? error.response.status : false);\r\n\r\n    //Filter Control Types List\r\n    const getControlTypes = () => { const typesMap = new Map();\r\n        //Populate Map    \r\n        DATA.CONTROLS.forEach((c,i)=>c.types.forEach(t=>typesMap.set(t, [...(typesMap.get(t) || []), c.id])));\r\n        //Filter            \r\n        return [...typesMap].filter(([type, controlList], index, mapList) => \r\n                (controlList.length > 1) \r\n                && (selectMode || !EXCLUDE_CONTROL_TYPES.includes(type)) \r\n                && (mapList.findIndex(([k, v], i) => (v.toString() == controlList.toString())) === index) //Remove Duplicates\r\n            ).map(([type, controlList])=>type);\r\n    }\r\n\r\n\r\n    return(\r\n        <div id='control-container'>\r\n            <div id='duration-box' >\r\n                <label id='duration-label' style={{color:'white'}} onClick={()=>setDurationIndex(10)}>{DURATION_LIST[durationIndex].name}</label>\r\n                <input id='duration-slider' type='range' min={0} max ={DURATION_LIST.length-1} value={durationIndex} onChange={(event) => setDurationIndex(event.target.value)} />\r\n            </div>\r\n            <div id='control-box'>\r\n                {DATA.CONTROLS === undefined ? <div></div> :\r\n                DATA.CONTROLS.map((c) => <SettingsButton key={c.name} \r\n                    title={\r\n                        <MakeToggle \r\n                            title={c.name} \r\n                            active= {(c.settings[0].set || c.settings[0].set == 'true')}\r\n                            topReason= {c.settings[0].reason}\r\n                            until= {c.settings[0].until}\r\n                            select={selectMode}\r\n                            isSelected = {selectedList.includes(c.name)}\r\n                            onClick={()=>{}}\r\n        \r\n                        />}\r\n                    pendingText='SCHEDULING'\r\n                    condense={true}\r\n                    buttonColor={'transparent'}\r\n                    buttonStyle={{border: 'none', margin: '1.0rem', padding: '0', width: '15.0rem'}}\r\n                    verifyLevel={1}\r\n                    onUpdate = {(password) =>  {if(selectMode) {(selectedList.includes(c.name) ? setSelectedList((list) => [...list.filter(name => name !== c.name)]) : setSelectedList((list) => [...list, c.name])); return null;}\r\n                            else return scheduleNow(password, [c.name], !(c.settings[0].set || (c.settings[0].set == 'true')), `Toggle ${shortedNameList([c.name])}`)}}/>)\r\n                    }\r\n            </div>\r\n                <div id='control-select-box'>\r\n                    <SettingsButton title={selectMode ? 'ALL' : 'ON'}\r\n                        pendingText='ACTIVATING'\r\n                        condense={true}\r\n                        buttonColor={'rgba(0, 0, 0, 0.95)'}\r\n                        buttonStyle={{border: 'none', padding: '0.70rem 2rem', fontSize: '0.9rem', width: 'auto', minWidth: '6.0rem', borderRadius: '0.5rem'}}\r\n                        verifyLevel={1}\r\n                        onUpdate={(password)=>selectMode ? setSelectedList([...DATA.CONTROLS.map(c=>c.name)]) : scheduleNow(password, [...DATA.CONTROLS.map(c=>c.name)], true, 'ALL ON')} />\r\n                    <SettingsButton title='ACTIVE'\r\n                        pendingText='SCHEDULING'\r\n                        condense={true}\r\n                        buttonColor={'rgba(0, 0, 0, 0.95)'}\r\n                        buttonStyle={{display: !selectMode ? 'none' : null, border: 'none', padding: '0.70rem 2rem', fontSize: '0.9rem', width: 'auto', minWidth: '6.0rem', borderRadius: '0.5rem'}}\r\n                        verifyLevel={1}\r\n                        onUpdate={(password)=>selectMode ? setSelectedList([...DATA.CONTROLS.filter((c)=>c.settings[0].set).map(c=>c.name)]) : scheduleNow(password, [...DATA.CONTROLS.filter((c)=>c.settings[0].set).map(c=>c.name)], false, 'DEACTIVATING')} />\r\n                    <SettingsButton title='INACTIVE'\r\n                        pendingText='SCHEDULING'\r\n                        condense={true}\r\n                        buttonColor={'rgba(0, 0, 0, 0.95)'}\r\n                        buttonStyle={{display: !selectMode ? 'none' : null, border: 'none', padding: '0.70rem 2rem', fontSize: '0.9rem', width: 'auto', minWidth: '6.0rem', borderRadius: '0.5rem'}}\r\n                        verifyLevel={1}\r\n                        onUpdate={(password)=>selectMode ? setSelectedList([...DATA.CONTROLS.filter((c)=>!c.settings[0].set).map(c=>c.name)]) : scheduleNow(password, [...DATA.CONTROLS.filter((c)=>!c.settings[0].set).map(c=>c.name)], true, 'ACTIVATING')} />\r\n                    {getControlTypes().map((t,i)=><SettingsButton key={t} title={t}\r\n                        pendingText='SCHEDULING'\r\n                        condense={true}\r\n                        buttonColor={'rgba(0, 0, 0, 0.95)'}\r\n                        buttonStyle={{border: 'none', padding: '0.70rem 2rem', fontSize: '0.9rem', width: 'auto',  minWidth: '6.0rem', borderRadius: '0.5rem'}}\r\n                        verifyLevel={1}\r\n                        onUpdate={(password)=>selectMode ? setSelectedList(original => [...DATA.CONTROLS.filter((c)=>c.types.includes(t)).map(c=>c.name)].every((val, i, arr) => selectedList.includes(val)) \r\n                                    ? [...DATA.CONTROLS.filter((c)=>(!c.types.includes(t) && original.includes(t))).map(c=>c.name)] \r\n                                    : [...DATA.CONTROLS.filter((c)=>c.types.includes(t)).map(c=>c.name)]) \r\n                                    : scheduleNow(password, [...DATA.CONTROLS.filter((c)=>c.types.includes(t)).map(c=>c.name)], \r\n                                        ([...DATA.CONTROLS.filter((c)=>c.types.includes(t))].every((val, i, arr) => val.settings[0].set == arr[0].settings[0].set) && [...DATA.CONTROLS.filter((c)=>c.types.includes(t))].length)\r\n                                        ? ![...DATA.CONTROLS.filter((c)=>c.types.includes(t))][0].settings[0].set : true, `Immediate ${t}`)} />)}\r\n                     <SettingsButton title={selectMode ? 'NONE' : 'OFF'}\r\n                        pendingText='DEACTIVATING'\r\n                        condense={true}\r\n                        buttonColor={'rgba(0, 0, 0, 0.95)'}\r\n                        buttonStyle={{border: 'none', padding: '0.70rem 2rem', fontSize: '0.9rem', width: 'auto', minWidth: '6.0rem', borderRadius: '0.5rem'}}\r\n                        verifyLevel={1}\r\n                        onUpdate={(password)=>selectMode ? setSelectedList([]) : scheduleNow(password, [...DATA.CONTROLS.map(c=>c.name)], false, 'ALL OFF')} />\r\n                </div>\r\n            {selectMode ? \r\n                <div id='control-select-box'>\r\n                    <SettingsButton title='ON'\r\n                        pendingText='ACTIVATING'\r\n                        condense={true}\r\n                        // buttonColor={'rgba(255, 255, 255, 0.5)'}\r\n                        buttonStyle={{border: 'none', padding: '0.45rem 2rem', width: 'auto',  minWidth: '6.0rem', borderRadius: '0.5rem', color: 'black'}}\r\n                        verifyLevel={1}\r\n                        onUpdate={(password)=>scheduleNow(password, selectedList, true)} />\r\n                    <SettingsButton title='OFF'\r\n                        pendingText='DEACTIVATING'\r\n                        condense={true}\r\n                        // buttonColor={'rgba(255, 255, 255, 0.5)'}\r\n                        buttonStyle={{border: 'none', padding: '0.45rem 2rem', width: 'auto', minWidth: '6.0rem', borderRadius: '0.5rem', color: 'black'}}\r\n                        verifyLevel={1}\r\n                        onUpdate={(password)=>scheduleNow(password, selectedList, false)} />\r\n                    <button className='none control-button control-button-exit' onClick={()=>{setSelectMode(false); setSelectedList([]);}}>Exit</button>\r\n                    {/* <button className='none control-button' onClick={()=>{}}>Schedule</button> */}\r\n                </div>\r\n                : <div id='control-select-box'>\r\n                    <button className='none control-button' onClick={()=>setSelectMode(true)}>Select</button>\r\n                </div>\r\n            }\r\n            <HoldButton duration={DURATION_LIST[durationIndex].value} verifyLevel={(DURATION_LIST[durationIndex].value < (24*60*60*1000)) ? 1 : 2} buttonStyle={{padding: '0.4rem'}}/>\r\n        </div>\r\n    );\r\n}\r\n\r\n\r\n\r\n","import React, {useState,  useEffect} from 'react';\r\nimport { useSelector, useDispatch} from 'react-redux';\r\nimport axios from 'axios';\r\nimport dateFormat from 'dateformat';\r\nimport DURATION_LIST, {getDurationName, getDurationValue} from '../Duration';\r\nimport SettingsButton, {HoldButton} from '../../Settings/SettingsButton';\r\nimport Verify from '../../Verify';\r\n\r\nimport '../../index.css';\r\nimport './Schedule.css';\r\n\r\nconst getButtonColor=(buttonText)=> (buttonText=='UPDATE' || buttonText=='') ? 'var(--main-color)' : (buttonText=='PASS' || buttonText=='INVALID' || buttonText=='FAILED') ? '#e8000d' : (buttonText=='PENDING' || buttonText=='BLANK') ? 'orange' : '#cc5500';\r\n\r\nconst DropMenu = (props) => {\r\n    const [custom, setCustom] = useState(props.customDefault);\r\n    const [multipleList, setMultipleList] = useState(props.multipleList);\r\n    const openList = useSelector(root => root.dropListOpen);\r\n    const dispatch = useDispatch();\r\n\r\n    useEffect(()=>{setMultipleList(props.multipleList);},[props.multipleList]); //Syncing single selection with custom\r\n    useEffect(()=>{setCustom(props.customDefault);},[props.customDefault]); //Syncing single selection with custom\r\n\r\n\r\n    //Guidelines Abstracted\r\n    const buttonColor = (props.buttonColor != undefined) ? props.buttonColor : '';\r\n    const customName = (props.customName != undefined) ? props.customName : false;\r\n    const inputType = (props.inputType != undefined) ? props.inputType : 'text';\r\n    const selectMultiple = (multipleList != undefined);\r\n\r\n    return(<div className='schedule-drop-menu-container' style={props.outerStyle} onFocus={()=>{}} onBlur={()=>{}} >\r\n        <button className={`schedule-input schedule-drop-menu-button ${props.buttonStyleClass || ''}`} style={{color: (isNaN(props.value)) ? 'white' : buttonColor, backgroundColor: (isNaN(props.value)) ? buttonColor : null}} onClick={()=>dispatch({type: 'setDropList', payload: props.dropListId})}>{(props.value != undefined) ? props.value : (props.multipleList != undefined) ? props.multipleList.toString() : ''}{props.subValue ? <span><label style={{color: 'grey', margin: '0 0.5rem'}}>|</label><label style={{color: 'orange'}}>{props.subValue || ''}</label></span> : null}</button>\r\n        {(openList == props.dropListId) ? <div className='schedule-drop-menu-list' style={{top: props.options.length <= 5 ? null : '5vh'}}>\r\n                    <button key='cancel-button' className='schedule-drop-menu-item' style={{borderBottom: '1px solid whitesmoke', color: 'var(--main-color)'}} onClick={()=>{\r\n                                dispatch({type: 'setDropList'});\r\n                            }}>Cancel</button>\r\n            {selectMultiple ? <button key='save-button-1' className='schedule-drop-menu-item schedule-save-button' style={{borderBottom: '1px solid whitesmoke', marginTop: 0}} onClick={()=>{\r\n                        props.onSelect(multipleList);\r\n                        dispatch({type: 'setDropList'});\r\n                    }}>SAVE</button>:<div className='none no-size'></div>}\r\n                {props.options.map((option, i) => \r\n                    <button key={`${option}-${JSON.stringify(multipleList)}`} className='schedule-drop-menu-item' style={{ border: (selectMultiple ? multipleList.includes(option) : props.value == option) ? '1px solid var(--main-color)' : 'none', backgroundColor: (option == 'UPDATE') ? 'var(--main-color)' : (option == 'DELETE') ? 'red' : '',  color: (option == 'UPDATE') ? 'white' : (option == 'DELETE') ? 'black' : ''}} onClick={()=>{\r\n                        if(selectMultiple && multipleList.includes(option)) setMultipleList(multipleList.filter(m => m != option));\r\n                        else if(selectMultiple) setMultipleList([...multipleList, option]);\r\n                        else { props.onSelect(option);\r\n                        dispatch({type: 'setDropList'});\r\n                    }}}>{option}</button>\r\n                )}\r\n                {(props.extraList && selectMultiple) ? <button key='save-button-2' className='schedule-drop-menu-item schedule-save-button' style={{borderTop: '1px solid whitesmoke', borderBottom: '1px solid whitesmoke'}} onClick={()=>{\r\n                        props.onSelect(multipleList);\r\n                        dispatch({type: 'setDropList'});\r\n                    }}>{props.extraName || 'SAVE'}</button>:<div className='none no-size'></div>}\r\n                {props.extraList ? props.extraList.map((option, i) => \r\n                    <button key={`${option}-${JSON.stringify(multipleList)}`} className='schedule-drop-menu-item' style={{border: (selectMultiple ? multipleList.includes(option) : props.value == option) ? '1px solid var(--main-color)' : 'none', backgroundColor: (option == 'UPDATE') ? 'var(--main-color)' : (option == 'DELETE') ? 'red' : '',  color: (option == 'UPDATE') ? 'white' : (option == 'DELETE') ? 'black' : ''}} onClick={()=>{\r\n                        props.onExtra(option);\r\n                        dispatch({type: 'setDropList'});\r\n                    }}>{option}</button>\r\n                ) : null}\r\n                {customName ? <div className='none' style={{display:'inline-grid', gridColumn: 1}}>\r\n                        <input key='settings-add-input' type={inputType} className='schedule-drop-menu-item' style={{gridColumn: 1, width: '10.0rem', border: 'none', borderRadius: 0, border: '1px solid whitesmoke', backgroundColor: 'black', color: 'white'}} \r\n                            value={custom}\r\n                            onChange={(c)=>setCustom(c.target.value)}\r\n                            onKeyPress={(e)=>{ if (e.charCode == 13) {\r\n                                props.onSelect(selectMultiple ? [...multipleList, custom] : custom);\r\n                                dispatch({type: 'setDropList'});\r\n                            }}}/>\r\n                        <button key='settings-add-button' className='schedule-drop-menu-item' style={{gridColumn: 2, border: 'none', borderRadius: 0, borderBottom: '1px solid whitesmoke', backgroundColor: 'whitesmoke', color: 'black'}} onClick={()=>{\r\n                                props.onSelect(selectMultiple ? [...multipleList, custom] : custom);\r\n                                dispatch({type: 'setDropList'});\r\n                            }}>{customName}</button>\r\n                </div> : <div className='none no-size'></div>}\r\n                {selectMultiple ? <button key='save-button-3' className='schedule-save-button schedule-drop-menu-item ' style={{borderTop: '1px solid whitesmoke', marginBottom: 0}} onClick={()=>{\r\n                        props.onSelect(multipleList);\r\n                        dispatch({type: 'setDropList'});\r\n                    }}>SAVE</button>:<div className='none no-size'></div>}\r\n            </div>\r\n        : <div ></div>}\r\n    </div>);\r\n}\r\nconst getDateAbbreviation = (t) => {const time = parseInt(t) || 0;\r\n    const day = new Date(time).getDate(); \r\n    if(day == 1 || day == 21 || day == 31) return `${dateFormat(time, 'mmm')}, ${day}st`;\r\n    else if(day == 2 || day == 22) return `${dateFormat(time, 'mmm')}, ${day}nd`;\r\n    else if(day == 3 || day == 23) return `${dateFormat(time, 'mmm')}, ${day}rd`;\r\n    else return `${dateFormat(time, 'mmm')}, ${day}th`;\r\n}\r\n//labels yesterday, today, tomorrow, within week (sunday); otherwise date with abbreviation\r\nconst getDay = (t) => { const time = parseInt(t) || 0; let today = new Date(); today.setHours(0,0,0,0); const tomorrow = new Date(today.getTime()+(24*60*60*1000)); const yesterday = new Date(today.getTime()-(24*60*60*1000)); \r\n    if(time >= today.getTime() && time < tomorrow.getTime()) return `Today`;\r\n    if(time >= tomorrow.getTime() && time < (new Date(tomorrow.getTime()+(24*60*60*1000)).getTime())) return `Tomorrow`;\r\n    if(time >= (new Date(yesterday.getTime()-(24*60*60*1000)).getTime()) && time < today.getTime()) return `Yesterday`;\r\n    if(time >= (new Date(today.getTime()-(6*24*60*60*1000)).getTime()) && time <= (new Date(today.getTime()+(7*24*60*60*1000)).getTime())) {\r\n        const day = new Date(time).getDay();    \r\n        return day == 0 ? 'Sunday' : day == 1 ? 'Monday' : day == 2 ? 'Tuesday' : day == 3 ? 'Wednesday' : day == 4 ? 'Thursday' : day == 5 ? 'Friday' : day == 6 ? 'Saturday' : 'New Day';\r\n    } else return getDateAbbreviation(time);\r\n}\r\nconst getDateList = () => { const list = [];\r\n        let time = new Date(); time = time.setHours(7,0,0,0); \r\n        for(var i=(0); i<(30); i++){  list.push(time); time += (24*60*60*1000);  }\r\n        return list;\r\n    }\r\nconst DropDateMenu = (props) => {\r\n    const openList = useSelector(root => root.dropListOpen);\r\n    const [customDate, setCustomDate] = useState(props.time);\r\n    // const [customTime, setCustomTime] = useState((props.time % (24*60*60*1000))/(60000)); //Handle Time Locally below in <input/>\r\n    // useEffect(()=>{setCustomDate(props.time); setCustomTime(props.time % (24*60*60*1000));}, [props.time])\r\n    const dispatch = useDispatch();\r\n    return(<div className='schedule-drop-menu-container' style={props.outerStyle} onFocus={()=>{}} onBlur={()=>{}} >\r\n        <button className={`schedule-input schedule-drop-menu-button ${props.buttonStyleClass || ''}`} onClick={()=>dispatch({type: 'setDropList', payload: props.dropListId})}>{`${getDay(props.time)} ${dateFormat(parseInt(props.time) || 0, 'H:MM')}`}</button>\r\n        {(openList == props.dropListId) ? <div className='schedule-drop-date-menu' style={{}} >\r\n                <div className='schedule-drop-menu-list' style={{top: '5vh', gridRow: 1, gridColumn: 1, left: '2.0rem'}}>         \r\n                    <label key='cancel-button' className='schedule-drop-menu-item' style={{gridRow: (1), borderBottom: '1px solid whitesmoke', color: 'var(--main-color)'}} onClick={()=>{\r\n                               dispatch({type: 'setDropList'});\r\n                            }}>Cancel</label>  \r\n                    {getDateList().map((t, i) => \r\n                        <label key={t} className='schedule-drop-menu-item' style={{gridRow: (i+2), border: ((new Date(props.time).getMonth() == (new Date(t).getMonth())) && (new Date(props.time).getDate() == (new Date(t).getDate()))) ? '1px solid var(--main-color)' : 'none'}} onClick={()=>{\r\n                            props.onSelect(t);\r\n                            // dispatch({type: 'setDropList'});\r\n                        }}>{getDay(t)}</label>)}\r\n                    <div className='none' style={{display:'inline-grid', gridColumn: 1}}>\r\n                        <input key='settings-add-input' type='number' step={24*60*60*1000} className='schedule-drop-menu-item' style={{gridColumn: 1, width: '10.0rem', border: 'none', borderRadius: 0, border: '1px solid whitesmoke', backgroundColor: 'black', color: 'white'}} \r\n                            value={customDate}\r\n                            onChange={(c)=>setCustomDate(c.target.value)}\r\n                            onKeyPress={(e)=>{ if (e.charCode == 13) {\r\n                                props.onSelect(customDate);\r\n                                dispatch({type: 'setDropList'});\r\n                            }}}/>\r\n                        <button key='settings-add-button' className='schedule-drop-menu-item' style={{gridColumn: 2, border: 'none', borderRadius: 0, borderBottom: '1px solid whitesmoke', backgroundColor: 'whitesmoke', color: 'black'}} onClick={()=>{\r\n                                props.onSelect(customDate);\r\n                                dispatch({type: 'setDropList'});\r\n                            }}>EPOCH</button>\r\n                    </div>\r\n                </div>\r\n                <div className='schedule-drop-menu-list' style={{top: '5vh', gridRow: 1, gridColumn: 1, right: '2.0rem'}}>  \r\n                        <label key='cancel-button' className='schedule-drop-menu-item' style={{gridRow: (1), borderBottom: '1px solid whitesmoke', color: 'var(--main-color)'}} onClick={()=>{\r\n                                dispatch({type: 'setDropList'});\r\n                            }}>Cancel</label>               \r\n                    {[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24].map((h, i) => \r\n                        <label key={h} className='schedule-drop-menu-item' style={{gridRow: (i+2), border: (new Date(props.time).getHours() == (h)) ? '1px solid var(--main-color)' : 'none'}} onClick={()=>{\r\n                            props.onSelect(new Date(props.time).setHours(h,0,0,0)); setCustomDate(new Date(props.time).setHours(h,0,0,0));\r\n                            dispatch({type: 'setDropList'});\r\n                        }}>{h} : 00</label>)}\r\n                        <div className='none' style={{display:'inline-grid', gridColumn: 1}}>\r\n                        <input key='settings-add-input' type='number' step={60} className='schedule-drop-menu-item' style={{gridColumn: 1, width: '10.0rem', border: 'none', borderRadius: 0, border: '1px solid whitesmoke', backgroundColor: 'black', color: 'white'}} \r\n                            value={(new Date(customDate).getHours()*60) + (new Date(customDate).getMinutes())}\r\n                            onChange={(c)=>setCustomDate(new Date(props.time).setHours(0,(c.target.value),0,0))}\r\n                            onKeyPress={(e)=>{ if (e.charCode == 13) {\r\n                                props.onSelect(customDate);\r\n                                dispatch({type: 'setDropList'});\r\n                            }}}/>\r\n                        <button key='settings-add-button' className='schedule-drop-menu-item' style={{gridColumn: 2, border: 'none', borderRadius: 0, borderBottom: '1px solid whitesmoke', backgroundColor: 'whitesmoke', color: 'black'}} onClick={()=>{\r\n                                props.onSelect(customDate);\r\n                                dispatch({type: 'setDropList'});\r\n                            }}>Time (m)</button>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        : <div ></div>}\r\n    </div>);\r\n}\r\n\r\nconst ScheduleRow = (props) => {\r\n    const DATA = useSelector(root => root.data);   \r\n    const dispatch = useDispatch(); \r\n    const [pendingAction, setPendingAction] = useState(undefined);\r\n    const [verification, setVerification] = useState(undefined);\r\n    const [buttonText, setButtonText] = useState('');\r\n\r\n    const [priority, setPriority] = useState(props.priority || null);\r\n    const [time, setTime] = useState(props.time || new Date().setMinutes(0,0,0));\r\n    const [title, setTitle] = useState(props.title || '');\r\n    const [titleEdited, setTitleEdited] = useState(false); //Detect Auto Populate Name\r\n    const [names, setNames] = useState(props.names || []);\r\n    const [duration, setDuration] = useState(props.duration || (15*60*1000));\r\n    const [set, setSet] = useState(props.set || true);\r\n    const [repeat, setRepeat] = useState(props.repeat || 0);\r\n\r\n    const resetVariables = (clear = false) => { \r\n        setPriority(props.priority || null);\r\n        setTime((clear || props.time == undefined) ? new Date().setMinutes(0,0,0) : props.time);\r\n        setTitle((clear || props.title == undefined) ? '' : props.title);\r\n        setNames((clear || props.names == undefined) ? [] : props.names);\r\n        setDuration((clear || props.duration == undefined) ? (15*60*1000) : props.duration);\r\n        setSet((clear || props.set == undefined) ? true : props.set);\r\n        setRepeat((clear || props.repeat == undefined) ? 0 : props.repeat);\r\n        if(clear) setButtonText('NEW');\r\n    }\r\n    useEffect(()=>resetVariables(),[props]);    \r\n    useEffect(()=>resetVariables(),[props]); \r\n\r\n    //Guidelines Abstracted\r\n    const verifyLevel = (props.verifyLevel != undefined) ? props.verifyLevel : 1;\r\n    const insertNew = (props.insertNew != undefined);\r\n\r\n    const isControlsChanged = () => {if(!props.names) return true;\r\n        if(Array.isArray(props.names))\r\n        for(var i=0; i<props.names.length; i++) {\r\n                if(!names.includes(props.names[i])) return true;\r\n        } if(Array.isArray(names))\r\n        for(var y=0; y<names.length; y++) {\r\n            if(!props.names.includes(names[y])) return true;\r\n        } return false;\r\n    }\r\n    const isTimeChanged = () =>(!props.time || props.time != time);\r\n    const isTitleChanged = () =>(!props.title || props.title != title);\r\n    const isDurationChanged = () =>(!props.duration || props.duration != duration);\r\n    const isSetChanged = () =>(props.set != set);\r\n    const isRepeatChanged = () => (props.repeat == undefined || props.repeat != repeat);\r\n    const isChanged=()=>{\r\n        if(isTimeChanged()) return true;\r\n        if(isTitleChanged()) return true;\r\n        if(!props.names || isControlsChanged()) return true;\r\n        if(isDurationChanged()) return true;\r\n        if(isSetChanged()) return true;\r\n        if(isRepeatChanged()) return true;\r\n        return false;\r\n    }\r\n    const isControlsValid = () => {\r\n        if(Array.isArray(names)) {\r\n            if(names.length == 0) return false;\r\n            for(var i=0; i<names.length; i++) {\r\n                if(names[i] == undefined) return false;\r\n        }} else if(!names || !names.length) return false;\r\n        return true;\r\n    }\r\n    const isTimeValid = () =>(time && !isNaN(time));\r\n    const isTitleValid = () =>(title && title != '');\r\n    const isDurationValid = () =>(duration && !isNaN(duration));\r\n    const isSetValid = () =>(set == false || set == true);\r\n    const isRepeatValid = () => (repeat != null && repeat != undefined && !isNaN(repeat));\r\n    useEffect(()=>{ let text = isChanged() ? 'UPDATE' : ''; \r\n        if(!isTimeValid()) text='TIME';\r\n        if(!isTitleValid()) text='TITLE';\r\n        if(!isControlsValid()) text='CONTROLS';\r\n        if(!isDurationValid()) text='DURATION';\r\n        if(!isSetValid()) text='SET';\r\n        if(!isRepeatValid()) text='REPEAT';\r\n        setButtonText(text);\r\n    \r\n    if(!titleEdited && insertNew && names.length) \r\n        setTitle(`${shortedNameList()} ${set ? 'On' : 'Off'} for ${(duration>3600000)?`${Math.floor(duration/3600000)}:`:''}${(duration>60000)?`${Math.floor((duration%3600000)/60000)}:`:''}${((duration>60000) && (duration%60000<10000))?'0':''}${Math.floor((duration%60000)/1000)}`);\r\n    }, [priority, time, title, names, duration, set, repeat]);\r\n        \r\n    //*********************************\r\n    //   API REQUEST & VERIFICATION\r\n    //*********************************\r\n    const makeRequest=async(password, action)=>{ setVerification(undefined); //saving local until fetch up stream is called to replace data \r\n        if(verifyLevel == 1 && !localStorage.getItem(\"password\")) await localStorage.setItem(\"password\", password.toString());\r\n        const success = await props.onUpdate(action || pendingAction, password, priority, time, title, names, duration, set, repeat);\r\n        if(success == true || isNaN(success)) {setButtonText((success != true) ? success : 'SAVED'); setTimeout(()=>{if(insertNew) resetVariables(true);}, 5000);}\r\n        else if(success == 401) { setButtonText('PASS');  localStorage.clear(); setTimeout(()=>setButtonText('UPDATE'), 5000);}\r\n        else if(success == 404) { setButtonText('INVALID');  setTimeout(()=>resetVariables(), 5000);}\r\n        else {setButtonText('FAILED');  setTimeout(()=>resetVariables(), 5000);}\r\n        setPendingAction(undefined);\r\n        return buttonText;\r\n    }\r\n\r\n    const processUpdate=async(action)=>{ setButtonText('PENDING'); if(action) setPendingAction(action); \r\n        if(verifyLevel == 0) makeRequest(undefined, action); //No Security\r\n        else if(verifyLevel == 1 && !localStorage.getItem(\"password\")) setVerification('Enter Control Password to Continue:'); //Only Request if not stored\r\n        else if(verifyLevel == 1) makeRequest(localStorage.getItem(\"password\"), action); //Use Saved Password\r\n        else setVerification('Enter Advanced Passphrase to Proceed:'); //undefined || >1\r\n    }\r\n\r\n    //*********************************\r\n    //   HTML DISPLAY\r\n    //*********************************\r\n    const shortedNameList = (space = window.innerWidth) => { \r\n        if(!DATA.CONTROLS || !names || names.length == 0) return '-'; \r\n        if(DATA.CONTROLS != undefined && names.length == DATA.CONTROLS.length) return '[ALL]'; \r\n        if(names.length > 1) //Identify Common Type\r\n            for(var i=0; i<DATA.controlTypes.length; i++) {let match = true;\r\n                for(var y=0; y<DATA.CONTROLS.length; y++) {\r\n                    if((names.includes(DATA.CONTROLS[y].name) && !DATA.CONTROLS[y].types.includes(DATA.controlTypes[i]))\r\n                        || !names.includes(DATA.CONTROLS[y].name) && DATA.CONTROLS[y].types.includes(DATA.controlTypes[i])) { match = false; break;}\r\n                } if(match) return `[${DATA.controlTypes[i]}]`;\r\n            } \r\n        //Abbreviated List Names\r\n        let result = '';\r\n        names.forEach(name =>  result += (' - '+(space > 900 ? name : name.match(/\\b(\\w)/g).join('.'))));\r\n        return result.substring(3).toUpperCase();//removes first dash :)\r\n    }\r\n\r\n    const getUpdateOptions = () => {const list = ['DELETE', 'INCREASE', 'DECREASE'];\r\n        if(isChanged()) list.unshift('RESET');\r\n        if(buttonText == 'UPDATE') list.unshift('UPDATE'); return list;}\r\n\r\n    return <div className='none schedule-row'>\r\n            {(insertNew) ? <SettingsButton title={(buttonText != 'UPDATE') ? buttonText : 'SAVE'} buttonColor={(buttonText != 'UPDATE') ? 'orange' : 'var(--main-color)'} buttonStyle={{gridRow: 1, gridColumn: 1, height: '85%', width: 'auto', maxWidth: '100%', overflowX: 'auto'}}\r\n                    pendingText='SCHEDULING'\r\n                    condense={true}\r\n                    verifyLevel={1}\r\n                    onUpdate={async(password)=>(buttonText == 'UPDATE') ? await makeRequest(password, 'INSERT') : false}\r\n                />\r\n            : <section className='none schedule-value-box' style={{gridRow: (1), gridColumn: 1, backgroundColor: (buttonText != '') ? 'transparent' : (time < DATA.timeNextEvaluation) ? 'black' : null}}>\r\n                <DropMenu value={buttonText == '' ? priority : buttonText} dropListId={`${JSON.stringify(props)}-update`}   subValue={(props.overriddenList && props.overriddenList.length) ? `${props.overriddenList.join(', ')}` : undefined}      buttonColor={getButtonColor(buttonText)} customName='PRIORITY' inputType='number' \r\n                    customDefault={priority}\r\n                    options={getUpdateOptions()}\r\n                    onSelect={(action)=>{if(action == 'RESET') resetVariables(insertNew); else  processUpdate(action);}}\r\n                />\r\n            </section>                \r\n            }\r\n            <section className='none schedule-value-box' style={{gridRow: (1), gridColumn: 2, backgroundColor: (time < DATA.timeNextEvaluation) ? 'black' : null, border: (!isTimeValid()) ? '1px solid darkred' : (isTimeChanged()) ? '1px solid var(--main-color)' : null}}>\r\n                <DropDateMenu  dropListId={`${JSON.stringify(props)}-time`}\r\n                    time={time}\r\n                    onSelect={(t)=>setTime(parseInt(t) || time)}\r\n                />\r\n            </section>\r\n            <section className='none schedule-value-box' style={{gridRow: (1), gridColumn: 3, backgroundColor: (time < DATA.timeNextEvaluation) ? 'black' : null, border: (!isTitleValid()) ? '1px solid darkred' : (isTitleChanged()) ? '1px solid var(--main-color)' : null}}>\r\n                <input type='text' className={'schedule-input schedule-drop-menu-button'} onClick={()=>{setTitleEdited(true); dispatch({type: 'setDropList'});}} value={title} onChange={(event)=>setTitle(event.target.value)} />\r\n            </section>\r\n            <section className='none schedule-value-box' style={{gridRow: (1), gridColumn: 4, backgroundColor: (time < DATA.timeNextEvaluation) ? 'black' : null, border: (!isControlsValid()) ? '1px solid darkred' : (isControlsChanged()) ? '1px solid var(--main-color)' : null}} >\r\n                <DropMenu value={shortedNameList()}   dropListId={`${JSON.stringify(props)}-names`}\r\n                    multipleList={[...names]}\r\n                    options={DATA.CONTROLS ? [...DATA.CONTROLS.map(c=>c.name)] : []}\r\n                    onSelect={(list)=>setNames(Array.isArray(list) ? [...list] : [list])}\r\n                    extraName='TYPES'\r\n                    extraList={DATA.controlTypes ? ['[ALL]', '[NONE]', ...DATA.controlTypes.map(t=>`[${t}]`)] : []}\r\n                    onExtra={(type)=>setNames((type == '[ALL]') ? [...DATA.CONTROLS.map(c=>c.name)] : (type == '[NONE]') ? [] : [...DATA.CONTROLS.filter(c=>c.types.includes(type.replace(/\\[|\\]/g, ''))).map(c=>c.name)])}\r\n                />             \r\n            </section>\r\n            <section className='none schedule-value-box' style={{gridRow: (1), gridColumn: 5, backgroundColor: (time < DATA.timeNextEvaluation) ? 'black' : null, border: (!isDurationValid()) ? '1px solid darkred' : (isDurationChanged()) ? '1px solid var(--main-color)' : null}}>\r\n                <DropMenu value={getDurationName(duration)}   dropListId={`${JSON.stringify(props)}-duration`}\r\n                    options={DURATION_LIST.map(e => e.name)}\r\n                    customName='Minutes'\r\n                    inputType='number'\r\n                    customDefault={duration / 60000}\r\n                    onSelect={(d)=>setDuration(isNaN(d) ? getDurationValue(d) : (d * 60000))}\r\n                />\r\n            </section>\r\n            <section className='none schedule-value-box' style={{gridRow: (1), gridColumn: 6, backgroundColor: (time < DATA.timeNextEvaluation) ? 'black' : null, border: (!isSetValid()) ? '1px solid darkred' : (isSetChanged()) ? '1px solid var(--main-color)' : null}}>\r\n                <DropMenu value={set ? 'ON' : 'OFF'}   dropListId={`${JSON.stringify(props)}-set`}\r\n                    options={['ON', 'OFF']} \r\n                    onSelect={(s)=>{setSet(s == 'ON')}}\r\n                />\r\n            </section>\r\n            <section className='none schedule-value-box' style={{gridRow: (1), gridColumn: 7, backgroundColor: (time < DATA.timeNextEvaluation) ? 'black' : null, border: (!isRepeatValid()) ? '1px solid darkred' : (isRepeatChanged()) ? '1px solid var(--main-color)' : null}}>\r\n                <DropMenu value={repeat ? getDurationName(repeat) : 'ONCE'}   dropListId={`${JSON.stringify(props)}-repeat`}\r\n                    options={['ONCE', ...DURATION_LIST.map(e => e.name)]}\r\n                    customName='Minutes'\r\n                    inputType='number'\r\n                    customDefault={repeat / 60000}\r\n                    onSelect={(r)=>setRepeat((r == 'ONCE') ? 0 : isNaN(r) ? getDurationValue(r) : (r * 60000))}\r\n                />\r\n            </section>\r\n        {verification ?\r\n            <Verify\r\n                prompt={verification}\r\n                onSubmit={(password)=>makeRequest(password, pendingAction)}\r\n                onCancel={()=>{setVerification(undefined); setButtonText('UPDATE');}}\r\n            />  : <div className='none no-size' style={{position:'absolute'}}></div>}\r\n    </div>;\r\n}\r\n\r\n\r\nconst Schedule = (props) => {\r\n    const SERVER_URL = useSelector(root => root.serverURL);\r\n    const [SCHEDULES, setSCHEDULES] = useState([]);\r\n    const [sortByTime, setSortByTime] = useState(true);\r\n    const [calculatedList, setCalculatedList] = useState([]);\r\n\r\n    //Search Schedules for overlapping\r\n    const calculateOccurrenceList = (schedules = SCHEDULES, days=3) =>{ if(!schedules || !schedules.length) return; \r\n        let minimum = 0; let bottom = 0; const end = (new Date().getTime()+(days*24*60*60*1000)); let count=0;\r\n        const occurrences = [...schedules.map(s => ({time: s.time, duration: s.duration, repeat: s.repeat, priority: s.priority, names: s.names || [], overrides: []}))];\r\n        do { minimum = occurrences.reduce((min,s)=>(s.time < min && s.time > bottom) ? s.time : min, end); count++;\r\n            const least = occurrences.find(s=>(minimum == s.time)); \r\n            if(least == undefined) break; \r\n            occurrences.forEach(s => { if((!least.overrides.includes(s.priority)) && (least.priority > s.priority) && ((s.time) < (least.time + least.duration)) && ((s.time + s.duration) > (least.time)) && (least.names.some(e=>s.names.includes(e)))) least.overrides.push(s.priority);});\r\n            bottom  = least.time;\r\n            least.time += least.repeat;\r\n            if(count > 1000) {console.log('Schedule.calculateOccurrenceList() Maxed Search: ', count, occurrences); break;}\r\n        } while(minimum < end);\r\n        setCalculatedList([...occurrences.map(s=>({priority: s.priority, overrides: [...s.overrides.sort((a,b)=>(b-a))]}))]);\r\n    }\r\n\r\n    //API Referencing\r\n    const fetchSchedules = () => axios.get(`${SERVER_URL}/data-schedules/`).then((response) => { console.log('SCHEDULES', response.data.schedules);\r\n            setSCHEDULES(response.data.schedules);  calculateOccurrenceList(response.data.schedules);\r\n        }).catch((error) => {console.log('Failed to Fetch Schedule Information', error); return error.response ? error.response.status : false;});\r\n    useEffect(()=>fetchSchedules(),[]);\r\n\r\n    const getOverriddenList=(priority)=>{if(!calculatedList || (SCHEDULES.length != calculatedList.length) || priority == undefined) return [];\r\n        const list = calculatedList.find(s=>(s.priority == priority));\r\n        return list ? list.overrides : []; };\r\n\r\n    return( <div id='schedule-list' className='none border-box'>\r\n            <div className='none schedule-row'>\r\n                <label className='schedule-header' style={{gridColumn: 1}}>Edit</label>\r\n                <label className='schedule-header' style={{gridColumn: 2}}>Occurrence</label>\r\n                <label className='schedule-header' style={{gridColumn: 3}}>Title</label>\r\n                <label className='schedule-header' style={{gridColumn: 4}}>Control</label>\r\n                <label className='schedule-header' style={{gridColumn: 5}}>Duration</label>\r\n                <label className='schedule-header' style={{gridColumn: 6}}>Set</label>\r\n                <label className='schedule-header' style={{gridColumn: 7}}>Repeat</label>\r\n            </div>\r\n{/* LIST NEW SCHEDULE Fields */}\r\n          <ScheduleRow insertNew={true} \r\n            onUpdate={async(action, password, priority, time, title, names, duration, set, repeat)=>{\r\n                if(action == 'INSERT') return await axios.post(`${SERVER_URL}/schedule-add/`, {\r\n                    PASSWORD: password, time: time, title: title, names: JSON.stringify(names), duration: duration, set: set, repeat: repeat\r\n                }).then((response) => {fetchSchedules(); return true;}).catch((error) => error.response ? error.response.status : false);\r\n            }} />\r\n{/* LIST EXISTING props.SCHEDULES : onTap Editable */}\r\n            <div className='schedule-button-row'>\r\n                <SettingsButton title={sortByTime ? 'Sort Priority' : 'Sort Time'} buttonStyle={{padding: '0.40rem'}}\r\n                    condense={true}\r\n                    buttonColor='orange'\r\n                    verifyLevel={0}\r\n                    onUpdate={async(password)=>{setSortByTime(!sortByTime); return 'Sorting';}}\r\n                />\r\n                <HoldButton buttonColor='black' buttonStyle={{padding: '0.45rem'}}/>\r\n                <SettingsButton title='UPDATE' buttonStyle={{padding: '0.40rem'}} pendingText='RETRIEVING'\r\n                    condense={true}\r\n                    verifyLevel={1}\r\n                    onUpdate={async(password)=>{const response = await fetchSchedules(); return (response == true) ? 'UPDATED' : response; }}\r\n                />\r\n            </div>\r\n            {[...SCHEDULES.sort((a,b) => sortByTime ? (a.time - b.time) : (b.priority - a.priority))].map((schedule,index) => <ScheduleRow key={`Schedule-${index}`} verifyLevel={1}\r\n                priority={schedule.priority} time={schedule.time} title={schedule.title} names={schedule.names} duration={schedule.duration} set={(schedule.set == true || schedule.set == 1)} repeat={schedule.repeat} overriddenList={getOverriddenList(schedule.priority)}\r\n            onUpdate={async (action, password, priority, time, title, names, duration, set, repeat)=>{\r\n                if(action == 'DELETE') return await axios.post(`${SERVER_URL}/schedule-delete/`, {\r\n                    PASSWORD: password, priority: schedule.priority\r\n                }).then((response) => {fetchSchedules(); return true;}).catch((error) => error.response ? error.response.status : false);\r\n                else if(action == 'UPDATE')  return await axios.post(`${SERVER_URL}/schedule-replace/`, {\r\n                    PASSWORD: password, currentPriority: schedule.priority, priority: priority, time: time, title: title, names: JSON.stringify(names), duration: duration, set: set, repeat: repeat\r\n                }).then((response) => {fetchSchedules(); return true;}).catch((error) => error.response ? error.response.status : false);\r\n                else if(action == 'INCREASE' || action == 'DECREASE') return await axios.post(`${SERVER_URL}/schedule-priority-increase/`, {\r\n                    PASSWORD: password, priority: schedule.priority, increase: (action == 'INCREASE')\r\n                }).then((response) => {fetchSchedules(); return true;}).catch((error) => error.response ? error.response.status : false);\r\n                else if(!isNaN(parseInt(action))) return await axios.post(`${SERVER_URL}/schedule-update/`, {\r\n                    PASSWORD: password, priority: schedule.priority, attributeName: 'priority', value: parseInt(action) || 0\r\n                }).then((response) => {fetchSchedules(); return true;}).catch((error) => error.response ? error.response.status : false);\r\n\r\n            }} />)}\r\n    </div>);\r\n}\r\n\r\nexport default Schedule;","import React, {useState, useEffect} from 'react';\r\nimport { useSelector} from 'react-redux';\r\nimport axios from 'axios';\r\nimport Verify from '../Verify';\r\n\r\nimport '../index.css';\r\nimport './Climate.css';\r\n\r\nconst getButtonColor=(buttonText)=>(buttonText=='') ? 'transparent' : (buttonText=='UPDATE') ? 'var(--main-color)' : (buttonText=='PASS' || buttonText=='INVALID' || buttonText=='FAILED') ? '#e8000d' : (buttonText=='PENDING' || buttonText=='BLANK') ? 'orange' : '#cc5500';\r\n\r\nconst Climate = (props) => {\r\n    const convertToFahrenheit = useSelector(root => root.convertToFahrenheit);\r\n    const SERVER_URL = useSelector(root => root.serverURL);\r\n    const [CLIMATE, setCLIMATE] = useState([]);\r\n    const [range, setRange] = useState({maximumTemperature: 24, maximumHumidity: 75, minimumTemperature: 24, minimumHumidity: 75})\r\n    const [temperatureMode, setTemperatureMode] = useState(true);\r\n    const [saveButtonText, setSaveButtonText] = useState('Pending');\r\n    const [verification, setVerification] = useState(undefined);\r\n\r\n//API Referencing\r\n    const fetchClimate = () => axios.get(`${SERVER_URL}/data-climate/`).then((response) => { console.log('CLIMATE', response.data);\r\n        setCLIMATE(response.data.climate);  setSaveButtonText('');\r\n        setRange({maximumTemperature: response.data.maximumTemperature, maximumHumidity: response.data.maximumHumidity, minimumTemperature: response.data.minimumTemperature, minimumHumidity: response.data.minimumHumidity});\r\n    }).catch((error) => console.log('Failed to Fetch Climate Information', error));\r\n    useEffect(()=>fetchClimate(),[temperatureMode]);\r\n\r\n    const sendChanges = (password) => {setVerification(undefined); \r\n    // if(saveButtonText == 'Save Changes')\r\n        axios.post(`${SERVER_URL}/set-settings/`, {ADVANCED_PASSPHRASE: password,\r\n            tag: temperatureMode ? 'climate-temperature' : 'climate-humidity',\r\n            climate: JSON.stringify(CLIMATE),\r\n        }).then((response) => { setSaveButtonText('Saved'); console.log(response);\r\n            setTimeout(()=>{fetchClimate();}, 5000);\r\n        }).catch((error) => console.log('Failed to Fetch Climate Information', error));\r\n    // else setSaveButtonText('45');\r\n}\r\n\r\n//UI Utilities\r\n    const formatTemperature = (temp) => convertToFahrenheit ? (Math.round((temp*(9/5)+32)*10)/10) : temp;\r\n    const getMaxValue = (format=false, ghost=false, round = true) => {const value = (temperatureMode != ghost) ? format ? formatTemperature(range.maximumTemperature) : range.maximumTemperature  : range.maximumHumidity; return round ? Math.ceil(value) : value; }\r\n    const getMinValue = (format=false, ghost=false, round = true) => {const value = (temperatureMode != ghost) ? format ? formatTemperature(range.minimumTemperature) : range.minimumTemperature :  range.minimumHumidity; return round ? Math.floor(value) : value; }\r\n\r\n    const getWidthOffset = () => 5.0 * parseFloat(getComputedStyle(document.documentElement).fontSize); //rem unit = column 1 & margin/padding\r\n\r\n    const getRange = (format=false) => {let values = [];\r\n        const cellRatio = ((window.innerWidth-(getWidthOffset()))/((getMaxValue(format)-getMinValue(format))*(2.0*parseFloat(getComputedStyle(document.documentElement).fontSize))));\r\n        for(var i=(getMinValue(format)); i<(getMaxValue(format)); i += Math.ceil(1/cellRatio)) { values.push(i); }\r\n                values.push(getMaxValue(format)); return values; }\r\n\r\n    const calculatedWidth = (3.5 * getRange(true).length * (1.0*parseFloat(getComputedStyle(document.documentElement).fontSize)))+getWidthOffset(); //Designed to Allow twice space for getRange() list\r\n\r\n\r\n    return(<div id='climate-container'  >\r\n        <div id='climate-header-box'>\r\n            <button className='climate-header-button' style={{backgroundColor: temperatureMode ? 'rgba(0, 102, 0, 0.6)' : 'rgba(255, 255, 255, 0.4)', color: temperatureMode ? 'white' : 'black'}} onClick={()=>setTemperatureMode(true)}>Temperature</button>\r\n            <button className='climate-header-button' style={{backgroundColor: temperatureMode ? 'rgba(255, 255, 255, 0.4)' : 'rgba(0, 102, 0, 0.6)',  color: temperatureMode ? 'black' : 'white'}} onClick={()=>setTemperatureMode(false)}>Humidity</button>\r\n            {saveButtonText != '' ? <button className='climate-header-button' style={{backgroundColor: (saveButtonText == 'Saved' || saveButtonText == 'Save Changes') ? '#cc5500' : (saveButtonText == 'Pending') ? 'orange' : '#e8000d',  color: 'black'}} onClick={()=>{setSaveButtonText('Pending'); setVerification('Enter Advanced Passphrase to Proceed:');}}>{saveButtonText}</button> : <section className='none no-size'></section>}\r\n        </div>\r\n        <div id='climate-slider-box' className='none ' style={{maxWidth: `${calculatedWidth}px`}}>\r\n                <div className='none climate-slider-value-box' style={{gridRow: 1, gridColumn: 1, paddingLeft: '4.0rem', paddingRight: '2.0rem', width: `${(calculatedWidth*1)-(1*getWidthOffset())-0}px`,}}>\r\n                    {getRange(false).map((v,j) => <label key={`climate-slider-range-value-$first-${j}`} className='climate-slider-range-value' style={{gridColumn: (j+1), textAlign: j==0 ? 'left' : (j == (getRange(false).length-1)) ? 'right' : 'center'}}>{v}</label>)}\r\n                </div>\r\n            {CLIMATE.map( (item, i) => <div key={`slider-${i}`} className='none climate-slider-outer-box' style={{gridRow: (i+2)}} >              \r\n                <strong className='climate-hour-value' style={{}}>{item.hour}:00</strong>\r\n                <strong className='climate-hour-value' style={{gridRow: 2, color: 'var(--main-color)', fontSize: '0.8rem'}}>{temperatureMode ? parseFloat(item.temperature).toFixed(1) : parseFloat(item.humidity).toFixed(1)} {temperatureMode ? <span className='none' style={{fontSize: '0.65rem', verticalAlign: 'top'}}>&#8457;</span> : '%'}</strong>\r\n\r\n                <input readOnly className='none climate-slider-range-bar climate-slider-range-bar-ghost' style={{width: `${(calculatedWidth*1)-(1*getWidthOffset())-0}px`, }} type='range' step='0.01' min={getMinValue(false, true, false)} max ={getMaxValue(false, true, false)} value={!temperatureMode ? CLIMATE[i].temperature : CLIMATE[i].humidity} />\r\n                <input readOnly className='none climate-slider-range-bar climate-slider-range-bar-ghost-dot' style={{width: `${(calculatedWidth*1)-(1*getWidthOffset())-0}px`, }} type='range' step='0.01' min={getMinValue(false, false, false)} max ={getMaxValue(false, false, false)} value={temperatureMode ? CLIMATE[i].temperatureAverage : CLIMATE[i].humidityAverage} />\r\n                <input className='none climate-slider-range-bar' style={{width: `${(calculatedWidth*1)-(1*getWidthOffset())-0}px`, }} type='range' step='0.01' min={getMinValue(false, false, false)} max ={getMaxValue(false, false, false)} value={temperatureMode ? CLIMATE[i].temperature : CLIMATE[i].humidity} onChange={(event)=>{temperatureMode ? CLIMATE[i].temperature=event.target.value : CLIMATE[i].humidity=event.target.value;  setCLIMATE([...CLIMATE]); setSaveButtonText('Save Changes');}} />\r\n                {/* <input className='none climate-slider-range-bar' style={{width: `${(calculatedWidth*1)-(1*getWidthOffset())-0}px`, }}  type='range' step='0.01'  min={getMinValue(false)} max ={getMaxValue(false)} value={sample} onChange={(event)=>{console.log(event.target.value, formatTemperature(event.target.value)); setSample(event.target.value);}} /> */}\r\n\r\n                <div id={`data-${i}`} className='none climate-slider-value-box' style={{width: `${(calculatedWidth*1)-(1*getWidthOffset())-0}px`, }}>\r\n                    {getRange((i % 2) == 0).map((v,j) => <label key={`climate-slider-range-value-${i}-${j}`} className='climate-slider-range-value' style={{gridColumn: (j+1), textAlign: j==0 ? 'left' : (j == (getRange((i % 2) == 0).length-1)) ? 'right' : 'center'}}>{v}</label>)}\r\n                </div>\r\n                </div>)}\r\n        </div>\r\n        {verification ?\r\n            <Verify\r\n                prompt={verification}\r\n                onSubmit={sendChanges}\r\n                onCancel={()=>{setVerification(undefined); setSaveButtonText(''); fetchClimate();}}\r\n            />  : <div className='none no-size' style={{position:'absolute'}}></div>}\r\n    </div>);\r\n}\r\nexport default Climate;","\r\nimport React, {useState, useEffect} from 'react';\r\nimport { useSelector} from 'react-redux';\r\nimport { Link, useHistory, useLocation} from \"react-router-dom\";\r\nimport '../index.css';\r\nimport './ErrorBar.css';\r\n\r\nconst ErrorBar = (props) => {\r\n    const DATA = useSelector(root => root.data);\r\n    const [ERROR_LIST, setERROR_LIST] = useState([]);\r\n    const routeHistory = useHistory();\r\n    const routeLocation = useLocation();\r\n\r\n    useEffect(()=>{ const list = [];\r\n        if(DATA.sensorErrorCode == undefined) list.push('SERVER DISCONNECTED');\r\n        if(DATA.sensorErrorCode) list.push('SENSOR ERROR');\r\n        if(DATA.maximumTemperatureErrorCode) list.push('MAXIMUM TEMPERATURE');\r\n        if(DATA.minimumTemperatureErrorCode) list.push('MINIMUM TEMPERATURE');\r\n        if(DATA.maximumHumidityErrorCode) list.push('MAXIMUM HUMIDITY');\r\n        if(DATA.minimumHumidityErrorCode) list.push('MINIMUM HUMIDITY');\r\n        if(DATA.accessDatabase != undefined && !DATA.accessDatabase) list.push('DATABASE DISCONNECTED');\r\n    setERROR_LIST(list); },[DATA]);\r\n\r\n    return(\r\n        <div id='error-bar-container'  style={{display: ERROR_LIST.length ? 'block': 'none'}} onClick={()=>{\r\n            if(routeLocation.pathname == '/settings') routeHistory.push('/log');\r\n                else routeHistory.push('/settings');\r\n        }}>\r\n            <div id='error-bar-wrap' >\r\n                {ERROR_LIST.map(e=><strong key={e} className='error-bar-text'>{e}</strong>)}\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default ErrorBar;","import React, {useState, useEffect} from 'react';\r\nimport { useSelector, useDispatch} from 'react-redux';\r\nimport Verify from '../Verify';\r\n\r\nimport '../index.css';\r\nimport './Settings.css';\r\n\r\nconst getButtonColor=(buttonText)=>(buttonText=='') ? 'transparent' : (buttonText=='UPDATE') ? 'var(--main-color)' : (buttonText=='PASS' || buttonText=='INVALID') ? '#e8000d' : (buttonText=='PENDING' || buttonText=='BLANK') ? 'orange' : '#cc5500';\r\n\r\nconst SettingsList = (props) => { \r\n    const [verification, setVerification] = useState(undefined);\r\n    const openList = useSelector(root => root.dropListOpen);\r\n    const dispatch = useDispatch();\r\n    const [current, setCurrent] = useState(props.current == undefined ? [] : Array.isArray(props.current) ? props.current : [props.current]);\r\n    const [options, setOptions] = useState(props.options == undefined ? current : Array.isArray(props.options) ? props.options : [props.options]);\r\n    const [list, setList] = useState(props.current == undefined ? [] : Array.isArray(props.current) ? props.current : [props.current]);\r\n    const [custom, setCustom] = useState('');\r\n    const [buttonText, setButtonText] = useState('');\r\n\r\n    useEffect(()=>{//Syncing Props b/c initial render redux.data == {} -> fetchData() //Not proper solution, but others didn't work :: https://tkdodo.eu/blog/putting-props-to-use-state\r\n        const newCurrent = props.current == undefined ? [] : Array.isArray(props.current) ? props.current : [props.current];\r\n        const newOptions = props.options == undefined ? newCurrent : Array.isArray(props.options) ? props.options : [props.options];\r\n        setCurrent(newCurrent);\r\n        setOptions(newOptions); \r\n        setList(newCurrent);\r\n    },[props]);\r\n\r\n    //Guidelines Abstracted\r\n    const verifyLevel = (props.verifyLevel != undefined) ? props.verifyLevel : 2;\r\n    const selectMultiple = (props.selectMultiple != undefined) ? props.selectMultiple : (Array.isArray(props.current));\r\n    const inputType = (props.inputType != undefined) ? props.inputType : (isNaN(props.current) ? 'text' : 'number' );\r\n    const addCustom = (props.addCustom != undefined) ? props.addCustom : false;\r\n    const condense = (props.condense != undefined) ? props.condense : false;\r\n\r\n    const isChanged=(latestList)=>{\r\n        const l = latestList || list;\r\n        if(Array.isArray(l))\r\n            for(var i=0; i<l.length; i++) {\r\n                    if(!current.includes(l[i])) return true;\r\n            } \r\n        if(Array.isArray(current))\r\n            for(var y=0; y<current.length; y++) {\r\n                if(!l.includes(current[y])) return true;\r\n        }return false;\r\n    }\r\n\r\n    const updateButton = async(latestList) => { const l = latestList || list;\r\n        let text = isChanged(l) ? 'UPDATE' : ''; \r\n        if(Array.isArray(l)){\r\n        l.forEach(v=>{if(!options.includes(v)) text='INVALID';});\r\n        if(!selectMultiple && l.length > 1) text='INVALID';\r\n        if(l.length == 0) text='BLANK';\r\n        for(var i=0; i<l.length; i++) {\r\n            if(l[i] == undefined) text='BLANK';\r\n        } \r\n    } setButtonText(text);\r\n        return text; }\r\n    useEffect(()=>updateButton(), [list]);\r\n\r\n    //*********************************\r\n    //   API REQUEST & VERIFICATION\r\n    //*********************************\r\n    const makeRequest=async(password, latestList)=>{ setVerification(undefined); //saving local until fetch up stream is called to replace data\r\n        if(verifyLevel == 1 && !localStorage.getItem(\"password\")) await localStorage.setItem(\"password\", password.toString());\r\n\r\n        const success = await props.onUpdate(selectMultiple ? JSON.stringify(latestList || list) : list[0], password);\r\n        if(success == true || isNaN(success)) { setButtonText((success != true) ? success : 'SAVED'); setCurrent(list); setTimeout(()=>setButtonText(''), 5000); }\r\n        else if(success == 401) { setButtonText('PASS'); setTimeout(()=>setList(current), 5000); localStorage.clear();}\r\n        else if(success == 404) { setButtonText('INVALID'); setTimeout(()=>setList(current), 5000); localStorage.clear();}\r\n        else {setButtonText('FAILED'); setTimeout(()=>setList(current), 5000); }\r\n    }\r\n\r\n    const processUpdate=async(latestList)=>{ if(await updateButton(latestList) == 'UPDATE') { setButtonText('PENDING'); dispatch({type: 'setDropList'});\r\n        if(verifyLevel == 0) makeRequest(undefined, latestList); //No Security\r\n        else if(verifyLevel == 1 && !localStorage.getItem(\"password\")) setVerification('Enter Control Password to Continue:'); //Only Request if not stored\r\n        else if(verifyLevel == 1) makeRequest(localStorage.getItem(\"password\"), latestList); //Use Saved Password\r\n        else setVerification('Enter Advanced Passphrase to Proceed:'); //undefined || >1\r\n    }}\r\n\r\n    const toggleOption=async(option)=>{ let latest = [...list]; let allowed = [...options];\r\n    //Special Email Verification\r\n        if(props.inputType == 'email' && !(/^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/).test(option)) {setButtonText('Email'); return 'Email';}\r\n    //Add Custom to Options\r\n        if(addCustom && !allowed.includes(option)) allowed = [...options, option];\r\n        //Add to Select List\r\n            if(!selectMultiple && (addCustom || allowed.includes(option))) latest=[option]; //Single set as list\r\n            else if(list.includes(option)) latest= [...list.filter((o) => (o != option && allowed.includes(o)))]; //remove list\r\n            else latest =  [...list.filter((o) => allowed.includes(o)), option]; //add list\r\n\r\n            setOptions([...allowed]); setList([...latest]);\r\n            if(!selectMultiple) processUpdate(latest);\r\n        return await updateButton(latest);\r\n    }\r\n    \r\n    //*********************************\r\n    //   HTML DISPLAY\r\n    //*********************************\r\n    const getOldOptions = () => [...list.filter(c=>!options.includes(c))]; //old/changed control names\r\n\r\n    return(<div id={props.title} className='settings-value-box'  style={{ gridTemplateColumns: (condense) ? 'auto 40%' : null}} onFocus={()=>{}} onBlur={()=>{}} >\r\n        {(props.title==undefined) ?  <div className='none no-size' style={{position:'absolute'}}></div> : <strong className='settings-value-title' >{props.title}</strong>}\r\n            {(openList == props.dropListId) ? <div ><button className='settings-value-input ' onClick={()=>dispatch({type: 'setDropList', payload: props.dropListId})} >{list ? list.toString() : ''}</button>\r\n                        <div className='drop-menu-list' style={{top: options.length <= 5 ? null : '5vh', position: options.length <= 5 ? 'absolute' : 'fixed'}}>\r\n                            <button key='settings-close-button' className='drop-menu-item' style={{border: 'none', borderRadius: 0, borderBottom: '1px solid whitesmoke', backgroundColor: 'whitesmoke', color: 'black'}} onClick={()=>{\r\n                                        dispatch({type: 'setDropList'});\r\n                                    }}>Close</button>\r\n                        {getOldOptions().map((option, i) => \r\n                            <label key={option+i+'old'} className='drop-menu-item' style={{gridRow: (i+2), color: 'gold'}} onClick={()=>{ \r\n                                setList(old => [...old.filter((o) => (o != option && options.includes(o)))])\r\n                                if(!selectMultiple) dispatch({type: 'setDropList'});\r\n                                if(!selectMultiple) processUpdate();\r\n                            }}>{option.toString()}</label>\r\n                        )}\r\n                        {options.map((option, i) => \r\n                            <label key={option+i} className='drop-menu-item' style={{gridRow: (i+2+getOldOptions().length), border: list.includes(option) ? '1px solid var(--main-color)' : 'none', color: list.includes(option) ? 'var(--main-color)' : 'white'}} onClick={async()=>{\r\n                                await toggleOption(option);\r\n                                if(!selectMultiple) dispatch({type: 'setDropList'});\r\n                                if(!selectMultiple) processUpdate();\r\n                            }}>{option.toString()}</label>\r\n                        )}\r\n                         {addCustom ? <div className='none' style={{display:'inline-grid', gridRow: (getOldOptions().length + options.length+3), gridColumn: 1}}>\r\n                                <input key='settings-add-input' type={inputType} className='drop-menu-item' style={{gridRow: (1), gridColumn: 1, width: '10.0rem', borderRadius: 0, border: '1px solid whitesmoke', backgroundColor: 'black', color: 'white'}} \r\n                                    value={custom}\r\n                                    onChange={(c)=>setCustom(c.target.value)}\r\n                                    onKeyPress={async(e)=>{ if (e.charCode == 13) {\r\n                                        if(await toggleOption(custom) == 'UPDATE') setCustom('');\r\n                                        if(!selectMultiple) dispatch({type: 'setDropList'});\r\n                                        if(!selectMultiple) processUpdate();\r\n                                    }}}/>\r\n                                <button key='settings-add-button' className='drop-menu-item' style={{gridRow: (1), gridColumn: 2, border: 'none', borderRadius: 0, borderBottom: '1px solid whitesmoke', backgroundColor: 'whitesmoke', color: 'black'}} onClick={async()=>{\r\n                                        if(await toggleOption(custom) == 'UPDATE') setCustom('');\r\n                                        if(!selectMultiple) dispatch({type: 'setDropList'});\r\n                                    }}>ADD</button>\r\n                        </div> : <div className='none no-size'></div>}\r\n                        {(condense || buttonText == 'UPDATE') ? <button key='settings-save-button' className='drop-menu-item' style={{border: 'none', borderRadius: 0, border: 'none', backgroundColor: getButtonColor(buttonText), color: 'white'}} onClick={()=>{\r\n                                        processUpdate();\r\n                                    }}>{buttonText}</button> : <div className='none no-size'></div>}\r\n                </div></div> \r\n            : <button className='settings-value-input ' onClick={()=>dispatch({type: 'setDropList', payload: props.dropListId})} >{list ? list.toString() : ''}</button>}\r\n        {(condense && !selectMultiple) ?  <div className='none no-size' style={{position:'absolute'}}></div> : <button className='settings-value-button' onClick={processUpdate}  style={{backgroundColor: getButtonColor(buttonText)}}>{buttonText}</button> }\r\n        {verification ?\r\n            <Verify\r\n                prompt={verification}\r\n                onSubmit={makeRequest}\r\n                onCancel={()=>{setVerification(undefined); setButtonText('UPDATE'); if(condense) setList([...current]); }}\r\n            />  : <div className='none no-size' style={{position:'absolute'}}></div>}\r\n    </div>);\r\n}\r\n\r\nexport default SettingsList;\r\n","import React, {useState, useEffect} from 'react';\r\nimport Verify from '../Verify';\r\n\r\nimport '../index.css';\r\nimport './Settings.css';\r\n\r\nconst getButtonColor=(buttonText)=>(buttonText=='') ? 'transparent' : (buttonText=='UPDATE') ? 'var(--main-color)' : (buttonText=='PASS' || buttonText=='INVALID' || buttonText=='FAILED') ? '#e8000d' : (buttonText=='PENDING' || buttonText=='BLANK') ? 'orange' : '#cc5500';\r\n\r\nconst SettingsBlank = (props) => {\r\n    const [verification, setVerification] = useState(undefined);\r\n    const [current, setCurrent] = useState(props.current);\r\n    const [value, setValue] = useState(current);\r\n    const [buttonText, setButtonText] = useState('');\r\n\r\n    //Guidelines Abstracted\r\n        const verifyLevel = (props.verifyLevel != undefined) ? props.verifyLevel : 2;\r\n        const inputType = (props.inputType != undefined && props.condense == undefined) ? props.inputType : (isNaN(props.current) ? 'text' : 'number' );\r\n        const numberStep = (props.numberStep != undefined) ? props.numberStep : 1;\r\n        const condense = (props.condense != undefined) ? props.condense : false;\r\n\r\n        const updateButton = async()=>{const text = (value == current && props.current == undefined) ? 'BLANK' : (inputType == 'number' && isNaN(value)) ? 'NUMBER' : (value != current) ? 'UPDATE' : '';\r\n                                        setButtonText(text); return text;}\r\n        useEffect(()=>updateButton(), [value]);\r\n\r\n    //*********************************\r\n    //   API REQUEST & VERIFICATION\r\n    //*********************************\r\n    const makeRequest=async(password)=>{ setVerification(undefined); //saving local until fetch up stream is called to replace data\r\n        if(verifyLevel == 1 && !localStorage.getItem(\"password\")) await localStorage.setItem(\"password\", password.toString());\r\n        const success = await props.onUpdate(value, password);\r\n        if(success == true || isNaN(success)) {setButtonText((success != true) ? success : 'SAVED'); setCurrent(inputType == 'textarea' ? '' : value); if(inputType == 'textarea') setValue(''); setTimeout(()=>setButtonText(''), 5000); }\r\n        else if(success == 401) { setButtonText('PASS'); setTimeout(()=>setValue(current), 5000);  localStorage.clear();}\r\n        else if(success == 404) { setButtonText('INVALID');setTimeout(()=>setValue(current), 5000); }\r\n        else {setButtonText('FAILED'); setTimeout(()=>setValue(current), 5000); }\r\n\r\n    }\r\n\r\n    const processUpdate=async()=>{ if(await updateButton() == 'UPDATE') { setButtonText('PENDING');\r\n        if(verifyLevel == 0) makeRequest(undefined); //No Security\r\n        else if(verifyLevel == 1 && !localStorage.getItem(\"password\")) setVerification('Enter Control Password to Continue:'); //Only Request if not stored\r\n        else if(verifyLevel == 1) makeRequest(localStorage.getItem(\"password\")); //Use Saved Password\r\n        else setVerification('Enter Advanced Passphrase to Proceed:'); //undefined || >1\r\n    }}\r\n\r\n    //*********************************\r\n    //   HTML DISPLAY\r\n    //*********************************\r\n\r\n    return(<div className='settings-value-box' style={{gridTemplateColumns: (condense) ? '1fr 1fr' : null}}>\r\n        {(props.title==undefined) ?  <div className='none no-size' style={{position:'absolute'}}></div> : <strong className='settings-value-title' >{props.title}</strong>}\r\n        {inputType == 'textarea' ? <textarea name=\"textarea\" value={value} onChange={(v)=>setValue(v.target.value)} />\r\n        : <input className='settings-value-input' style={{color: (condense && buttonText != '') ? getButtonColor(buttonText) : null}} type={inputType} step={inputType == 'number' ? numberStep : null} value={value} onChange={(v)=>setValue(v.target.value)} onKeyPress={(e)=>{if(e.charCode == 13) {processUpdate();}}}/>}\r\n        {condense ?  <div className='none no-size' style={{position:'absolute'}}></div> : <button className='settings-value-button' onClick={processUpdate}  style={{backgroundColor:  getButtonColor(buttonText)}}>{(inputType == 'textarea' && value != '') ? 'SAVE' : buttonText}</button>}\r\n        {verification ?\r\n            <Verify\r\n                prompt={verification}\r\n                onSubmit={makeRequest}\r\n                onCancel={()=>{setVerification(undefined); setButtonText('UPDATE');}}\r\n            />  : <div className='none no-size' style={{position:'absolute'}}></div>}\r\n    </div>);\r\n}\r\nexport default SettingsBlank;\r\n","import React from 'react';\r\nimport { useHistory} from \"react-router-dom\";\r\nimport { useSelector, useDispatch} from 'react-redux';\r\nimport axios from 'axios';\r\nimport SettingsList from './SettingsList';\r\nimport SettingsBlank from './SettingsBlank';\r\nimport SettingsButton from './SettingsButton';\r\nimport {fetchData} from '../index';\r\nimport useInterval from '../useInterval';\r\n\r\nimport '../index.css';\r\nimport './Settings.css';\r\n\r\n/*SETTINGS Props Key : 9-26-2021\r\nSettingsList.jsx\r\n    + dropListId\r\n    + title\r\n    + current\r\n    + options\r\n    + onUpdate\r\n    ? verifyLevel = 2\r\n    ? selectMultiple = current type\r\n    ? addCustom = false\r\nSettingsBlank.jsx\r\n    + title\r\n    + current\r\n    + onUpdate\r\n    ? verifyLevel = 2\r\n    ? inputType = current type: text/number\r\n    ? numberStep = 1\r\nSettingsButton.jsx\r\n    + title\r\n    + onUpdate\r\n    ? verifyLevel = 1\r\n*/\r\n\r\nconst Settings = (props) => {\r\n// console.log(props);\r\nconst SERVER_URL = useSelector(root => root.serverURL);\r\nconst DATA = useSelector(root => root.data);\r\nconst SCREENSAVER_BRIGHTNESS = useSelector(root => root.screenSaverBrightness);\r\nconst convertToFahrenheit = useSelector(root => root.convertToFahrenheit);\r\nconst dispatch = useDispatch();\r\nconst routeHistory = useHistory();\r\n\r\n    const post = async(route, body, onSuccess) => axios.post(`${SERVER_URL}${route}/`, body).then((response)=>onSuccess == 'response' ? response : onSuccess || true).catch((error)=>error.response ? error.response.status : false);\r\n    const put = async(route, body, onSuccess) => axios.put(`${SERVER_URL}${route}/`, body).then((response)=>onSuccess == 'response' ? response : onSuccess || true).catch((error)=>error.response ? error.response.status : false);\r\n\r\n    const LOCAL_SETTINGS = [\r\n        <SettingsList title='Temperature:'\r\n            dropListId='temperature-conversion'\r\n            current={convertToFahrenheit ? 'Fahrenheit' : 'Celsius'}\r\n            options={['Celsius', 'Fahrenheit']}\r\n            verifyLevel={0}\r\n            onUpdate={(value, password)=>{dispatch({type: 'toggleConvertToFahrenheit', payload: (value == 'Fahrenheit')}); return true;}}/>, \r\n        <SettingsButton title='Deactivate Screen Saver' pendingText='Deactivating'\r\n            onUpdate={async()=>{props.deactivateScreenSaver(300000); return '5 Minutes';}} />,\r\n        <SettingsList title='ScreenSaver Brightness:'\r\n            dropListId='screensaver-brightness'\r\n            current={SCREENSAVER_BRIGHTNESS.setting}\r\n            options={SCREENSAVER_BRIGHTNESS.settingOptions}\r\n            verifyLevel={0}\r\n            onUpdate={(value, password)=>{\r\n                if(SCREENSAVER_BRIGHTNESS.settingOptions.includes(value)) {dispatch({type: 'setting', payload: value}); return true;}\r\n                else return false;}}/>, \r\n        <div style={{borderBottom: '1px solid var(--main-color)', margin: '0.5rem 0', width: '100%'}}></div>,\r\n        <SettingsBlank title='Server URL:'\r\n                current={SERVER_URL}\r\n                verifyLevel={0}\r\n                onUpdate={async(value, password)=>{dispatch({type: 'setServerURL', payload: value}); const response = await fetchData(); if(response == true) routeHistory.push('/'); return (response == true) ? 'UPDATING' : response;}}/>,\r\n        <SettingsButton title='Update Data' pendingText='RETRIEVING'\r\n        onUpdate={async()=>{const response = await fetchData(); return (response == true) ? 'UPDATED' : response;}} />\r\n    ];\r\n    if(SCREENSAVER_BRIGHTNESS.setting == 'Scheduled') \r\n        LOCAL_SETTINGS.splice(2,0,\r\n            <SettingsBlank title='ScreenSaver Day Hour Start: (0-23/24)'\r\n                current={SCREENSAVER_BRIGHTNESS.dayHourStart}\r\n                verifyLevel={0}\r\n                onUpdate={(value, password)=>{const hour = parseInt(value);\r\n                    if(hour >=0 && hour <= 24) {dispatch({type: 'dayHourStart', payload: hour}); return true;} //24 is disabled\r\n                    else return false;}}/>,\r\n            <SettingsBlank title='ScreenSaver Day Opacity: (%)'\r\n                current={SCREENSAVER_BRIGHTNESS.dayOpacity*100}\r\n                verifyLevel={0}\r\n                onUpdate={(value, password)=>{const opacity = (parseInt(value)/100);\r\n                    if(opacity >=0 && opacity <= 1) {dispatch({type: 'dayOpacity', payload: opacity}); return true;}\r\n                    else return false;}}/>,  \r\n            <SettingsBlank title='ScreenSaver Night Hour Start: (0-23/24)'\r\n                current={SCREENSAVER_BRIGHTNESS.nightHourStart}\r\n                verifyLevel={0}\r\n                onUpdate={(value, password)=>{const hour = parseInt(value);\r\n                    if(hour >=0 && hour <= 24) {dispatch({type: 'nightHourStart', payload: hour}); return true;}\r\n                    else return false;}}/>,\r\n            <SettingsBlank title='ScreenSaver Night Opacity: (%)'\r\n                current={SCREENSAVER_BRIGHTNESS.nightOpacity*100}\r\n                verifyLevel={0}\r\n                onUpdate={(value, password)=>{const opacity = (parseInt(value)/100);\r\n                    if(opacity >=0 && opacity <= 1) {dispatch({type: 'nightOpacity', payload: opacity}); return true;}\r\n                    else return false;}}/>,  \r\n            <SettingsBlank title='ScreenSaver Black Hour Start: (0-23/24)'\r\n                current={SCREENSAVER_BRIGHTNESS.blackHourStart}\r\n                verifyLevel={0}\r\n                onUpdate={(value, password)=>{const hour = parseInt(value);\r\n                    if(hour >=0 && hour <= 24) {dispatch({type: 'blackHourStart', payload: hour}); return true;}\r\n                    else return false;}}/>            \r\n            );\r\n    \r\n    return((DATA == {} || DATA.CONTROLS == undefined) ? <div id='settings-container'>{LOCAL_SETTINGS}</div>\r\n    : <div id='settings-container'>\r\n        {LOCAL_SETTINGS}\r\n        <SettingsButton title='Evaluate Conditions' pendingText='EXECUTING'\r\n            onUpdate={async(password)=>{setTimeout(()=>fetchData(), 60000); return await put('/evaluate', {PASSWORD: password}, 'COMPLETE');}} />  \r\n        <SettingsBlank title='Postpone Next Evaluation: (ms)'\r\n            current={0}\r\n            numberStep={60000}\r\n            verifyLevel={1}\r\n            onUpdate={(value, password)=>post('/postpone-evaluation', {PASSWORD: password,\r\n                duration: value,\r\n            })}/>  \r\n        <SettingsList title='Status Email Recipients:'\r\n            dropListId='status-email'\r\n            current={DATA.emailStatusRecipients}\r\n            verifyLevel={1}\r\n            addCustom={true}\r\n            inputType='email'\r\n            onUpdate={(value, password)=>post('/set-settings', {PASSWORD: password,\r\n                tag: 'emailStatusRecipients',\r\n                emailStatusRecipients: value,\r\n            })}/> \r\n        <SettingsButton title='Send Update Email' pendingText='SENDING'\r\n            onUpdate={(password)=>put('/send-update-email', {PASSWORD: password}, 'SENT')}/>\r\n        <SettingsList title='Issue Email Recipients:'\r\n            dropListId='issue-email'\r\n            current={DATA.emailIssueRecipients}\r\n            addCustom={true}\r\n            inputType='email'\r\n            onUpdate={(value, password)=>post('/set-settings', {ADVANCED_PASSPHRASE: password,\r\n                tag: 'emailIssueRecipients',\r\n                emailIssueRecipients: value,\r\n            })}/> \r\n        <SettingsBlank title='Email Report:'\r\n            current={''}\r\n            inputType='textarea'\r\n            verifyLevel={1}\r\n            onUpdate={(value, password)=>post('/save-log', {PASSWORD: password, email: true,\r\n                message: value,\r\n            })}/> \r\n        <SettingsList title='Email Update Regularity:'\r\n            dropListId='email-update-regularity'\r\n            current={DATA.updateRegularity}\r\n            options={DATA.updateRegularityOptions}\r\n            onUpdate={(value, password)=>post('/set-settings', {ADVANCED_PASSPHRASE: password,\r\n                tag: 'updateRegularity',\r\n                updateRegularity: value,\r\n            })}/> \r\n        <SettingsList title='Allow Database Access:'\r\n            dropListId='allow-database'\r\n            current={DATA.accessDatabase}\r\n            options={[true, false]}\r\n            onUpdate={(value, password)=>post('/set-settings', {ADVANCED_PASSPHRASE: password,\r\n                tag: 'accessDatabase',\r\n                accessDatabase: value,\r\n            })}/>  \r\n        <SettingsBlank title='Evaluation Frequency: (m)'\r\n            current={DATA.evaluationFrequency/(60000)}\r\n            numberStep={1}\r\n            onUpdate={(value, password)=>post('/set-settings', {ADVANCED_PASSPHRASE: password,\r\n                tag: 'evaluationFrequency',\r\n                evaluationFrequency: (value*60000),\r\n            })}/> \r\n        <SettingsBlank title='Maximum Temperature: (c)'\r\n            current={DATA.maximumTemperature}\r\n            numberStep={0.5}\r\n            onUpdate={(value, password)=>post('/set-settings', {ADVANCED_PASSPHRASE: password,\r\n                tag: 'maximumTemperature',\r\n                maximumTemperature: value,\r\n            })}/> \r\n        <SettingsBlank title='Minimum Temperature: (c)'\r\n            current={DATA.minimumTemperature}\r\n            numberStep={0.5}\r\n            onUpdate={(value, password)=>post('/set-settings', {ADVANCED_PASSPHRASE: password,\r\n                tag: 'minimumTemperature',\r\n                minimumTemperature: value,\r\n            })}/> \r\n        <SettingsBlank title='Maximum Humidity: (%)'\r\n            current={DATA.maximumHumidity}\r\n            onUpdate={(value, password)=>post('/set-settings', {ADVANCED_PASSPHRASE: password,\r\n                tag: 'maximumHumidity',\r\n                maximumHumidity: value,\r\n            })}/> \r\n        <SettingsBlank title='Minimum Humidity: (%)'\r\n            current={DATA.minimumHumidity}\r\n            onUpdate={(value, password)=>post('/set-settings', {ADVANCED_PASSPHRASE: password,\r\n                tag: 'minimumHumidity',\r\n                minimumHumidity: value,\r\n            })}/> \r\n        <SettingsBlank title='Hour Day Starts: (h)'\r\n            current={DATA.dayHourStart}\r\n            onUpdate={(value, password)=>post('/set-settings', {ADVANCED_PASSPHRASE: password,\r\n                tag: 'dayHourStart',\r\n                dayHourStart: value,\r\n            })}/> \r\n        <SettingsBlank title='Hour Night Starts: (h)'\r\n            current={DATA.nightHourStart}\r\n            onUpdate={(value, password)=>post('/set-settings', {ADVANCED_PASSPHRASE: password,\r\n                tag: 'nightHourStart',\r\n                nightHourStart: value,\r\n            })}/> \r\n        <SettingsList title='Sensor Type:'\r\n            dropListId='sensor-type'\r\n            current={DATA.sensorType}\r\n            options={DATA.sensorTypes}\r\n            onUpdate={(value, password)=>post('/set-settings', {ADVANCED_PASSPHRASE: password,\r\n                tag: 'sensorType',\r\n                sensorType: value,\r\n            })}/>  \r\n        <SettingsList title='Sensor Mode:'\r\n            dropListId='sensor-mode'\r\n            current={DATA.sensorMode}\r\n            options={DATA.sensorModes}\r\n            onUpdate={(value, password)=>post('/set-settings', {ADVANCED_PASSPHRASE: password,\r\n                tag: 'sensorMode',\r\n                sensorMode: value,\r\n            })}/>\r\n        <SettingsButton title='Test Sensor' pendingText='Redirecting'\r\n            verifyLevel={0}\r\n            onUpdate={(password)=>routeHistory.push('/sensor-testing')} />\r\n        {DATA.CONTROLS.map((c,i)=><div key={`${c.id}-${i}`} ><SettingsBlank key={`name-${c.id}`} title={`[${c.id}] Control Name:`}\r\n                current={c.name}\r\n                onUpdate={(value, password)=>post('/set-settings', {ADVANCED_PASSPHRASE: password,\r\n                    tag: 'controls-name',\r\n                    id: c.id,\r\n                    name: value,\r\n                })}/> \r\n            <SettingsList key={`types-${c.id}`} title={`[${c.id}] Control Types:`}\r\n                dropListId={`control-types-${c}-${i}`}\r\n                current={c.types}\r\n                options={DATA.controlTypes}\r\n                selectMultiple={true}\r\n                addCustom={true}\r\n                onUpdate={(value, password)=>post('/set-settings', {ADVANCED_PASSPHRASE: password,\r\n                    tag: 'controls-types',\r\n                    id: c.id,\r\n                    types: value,\r\n                })}/></div>)}\r\n\r\n        <SettingsButton title='Reset Settings' pendingText='CONFIGURING'\r\n            verifyLevel={3}\r\n            onUpdate={async(password)=>{const result = await post('/reset-settings', {ADVANCED_PASSPHRASE: password}, 'RESETTING'); fetchData(); return result;}} />\r\n        <SettingsButton title='Reset File System' pendingText='CONFIGURING'\r\n            verifyLevel={3}\r\n            onUpdate={async(password)=>{const result = await post('/reset-file-system', {ADVANCED_PASSPHRASE: password}, 'RESETTING'); fetchData(); return result;}} />\r\n        <SettingsButton title='Terminate Server' pendingText='CONFIGURING'\r\n            verifyLevel={3}\r\n            onUpdate={(password)=>post('/terminate', {ADVANCED_PASSPHRASE: password}, 'TERMINATING')} />\r\n        <SettingsButton title='Restart PI' pendingText='CONFIGURING'\r\n            verifyLevel={3}\r\n            onUpdate={(password)=>post('/restart-pi', {ADVANCED_PASSPHRASE: password}, 'RESTARTING')} />\r\n        <SettingsList dropListId={`Error_Lights_Override`}\r\n                title='Error Lights:'\r\n                current={'Select Mode'}\r\n                options={['on', 'off', 'flash', 'bounce', 'max', 'min', 'humid', 'lock', 'unlock', 'reset']}\r\n                selectMultiple={false}\r\n                addCustom={true}\r\n                verifyLevel={1}\r\n                onUpdate={(value, password)=>post('/execute-error-lights', {PASSWORD: password,\r\n                    tag: 'error-lights',\r\n                    mode: new Array(value).pop(),\r\n                })}/>\r\n        <SettingsButton title='Server Log' pendingText='Redirecting'\r\n            verifyLevel={0}\r\n            onUpdate={(password)=>routeHistory.push('/log')} />\r\n        <SettingsBlank title='Save to Log:'\r\n            current={''}\r\n            inputType='textarea'\r\n            verifyLevel={1}\r\n            onUpdate={(value, password)=>post('/save-log', {PASSWORD: password,\r\n                message: value,\r\n            })}/> \r\n        <SettingsButton title='Log Out' pendingText='CLEARING'\r\n            verifyLevel={0}\r\n            onUpdate={()=>{localStorage.clear(); return 'CLEARED PASSWORD'}} />\r\n\r\n    </div>);\r\n}\r\nexport default Settings;","import React, {useEffect, useState} from 'react';\r\nimport { useSelector} from 'react-redux';\r\nimport axios from 'axios';\r\nimport SettingsList from '../SettingsList';\r\nimport SettingsBlank from '../SettingsBlank';\r\nimport SettingsButton from '../SettingsButton';\r\n\r\n\r\nimport '../../index.css';\r\nimport '../Settings.css';\r\n\r\n\r\nconst SensorTest = (props) => {\r\n    const SERVER_URL = useSelector(root => root.serverURL);\r\n    const DATA = useSelector(root => root.data);\r\n    const [current, setCurrent] = useState('');\r\n    const [testingDuration, setTestingDuration] = useState(60000);\r\n    const [testingInterval, setTestingInterval] = useState(5000);\r\n    const [fetchingError, setFetchingError] = useState('');\r\n\r\n    let interval = null;\r\n    let timer = null;\r\n    const startTesting = () => { clearInterval(interval); clearTimeout(timer); setFetchingError('');\r\n        interval = setInterval(async()=>await axios.get(`${SERVER_URL}/sensor-test/`)\r\n                .then((response)=>{setCurrent(response.data); setFetchingError('');})\r\n                .catch((error)=>{console.log('Failed to Get Sensor Testing Data', error); setFetchingError(error);}), 500);\r\n        timer = setTimeout(()=>{clearInterval(interval); setFetchingError('');}, testingDuration+30000);\r\n        }\r\n    \r\n    return(<div id='sensor-test-container' >\r\n    <div className='sensor-test-first-header' >\r\n        {/* <section style={{gridColumn: 1, gridRow:1, width: '100%'}}> */}\r\n        <SettingsList title='Sensor Type:' \r\n            dropListId='sensor-testing-sensor-type'\r\n            current={DATA.sensorType}\r\n            options={DATA.sensorTypes}\r\n            condense={true}\r\n            onUpdate={async(value, password)=>await axios.get(`${SERVER_URL}/settings/`, {ADVANCED_PASSPHRASE: password,\r\n                tag: 'sensorType',\r\n                sensorType: value,\r\n            }).then((response)=>true)\r\n            .catch((error)=>error.response ? error.response.status : false)}/> \r\n        {/* </section><section style={{gridColumn: 3, gridRow:1, width: '100%'}}> */}\r\n        <SettingsBlank title='Test Duration: (m)'\r\n            current={testingDuration/60000}\r\n            condense={true}\r\n            verifyLevel={0}\r\n            onUpdate={(value, password)=>{const minutes = parseInt(value); if(!isNaN(minutes) && value == minutes && minutes > 0) {setTestingDuration(minutes*60000); return true;} else return false;}}/> \r\n        {/* </section><section style={{gridColumn: 4, gridRow:1, width: '100%'}}> */}\r\n        <SettingsBlank title='Test Interval: (s)'\r\n            current={testingInterval/1000}\r\n            condense={true}\r\n            verifyLevel={0}\r\n            onUpdate={(value, password)=>{const seconds = parseInt(value); if(!isNaN(seconds) && value == seconds && seconds > 0) {setTestingInterval(seconds*1000); return true;} else return false;}}/>\r\n            {/* </section> */}\r\n    </div><div className='sensor-test-second-header' >\r\n        <SettingsButton title={fetchingError == '' ? 'RESTART' : 'fetchingError'} pendingText='QUEUING'\r\n            buttonColor={fetchingError != '' ? 'darkred' : ''}\r\n            condense={true}\r\n            verifyLevel={2}\r\n            onUpdate={async(password)=>await axios.post(`${SERVER_URL}/sensor-test-restart/`, {ADVANCED_PASSPHRASE: password,\r\n                duration: testingDuration, interval: testingInterval,\r\n            }).then((response)=>{startTesting(); return 'INITIATING';})\r\n            .catch((error)=>error.response ? error.response.status : false)}\r\n            />\r\n        <SettingsButton title='UPDATE' pendingText='LOADING'\r\n            condense={true}\r\n            verifyLevel={0}\r\n            onUpdate={async(password)=>await axios.get(`${SERVER_URL}/sensor-test/`)\r\n                .then((response)=>{setCurrent(response.data); return 'CURRENT';})\r\n                .catch((error)=>error.response ? error.response.status : false)}\r\n            />\r\n    </div><div className='sensor-test-results'>\r\n        <table style={{margin: 0, width: '100%', border: 'none', borderSpacing: '4px'}}>\r\n            <tr>\r\n                <th style={{padding: '3px', textAlign: 'center'}} >Time</th>\r\n                <th style={{padding: '3px', textAlign: 'center'}} >Temperature</th>\r\n                <th style={{padding: '3px', textAlign: 'center'}} >Humidity</th>\r\n                <th style={{padding: '3px', textAlign: 'center'}} >Message</th>\r\n            </tr>\r\n            {current.split('\\n').map((p,i) => (p=='') ? <br key={`${p}-${current.length}`}/> : <tr key={`${p}-${current.length}`}> \r\n                {p.split('|').map((r, i) => <td key={`${r}-${p}-${current.length}`} style={{padding: '3px', textAlign: (i == 0) ? 'left' : 'center'}} colspan={((4 / p.split('|').length) > 1) ? Math.floor((4 / p.split('|').length)) : 1}>{r}</td>)}\r\n            </tr>)}\r\n\r\n        </table>\r\n    </div>\r\n    </div>);\r\n}\r\nexport default SensorTest;\r\n","import React, {useState,  useEffect, useRef} from 'react';\r\nimport { useSelector} from 'react-redux';\r\nimport { useHistory, useLocation } from 'react-router-dom'\r\nimport axios from 'axios';\r\nimport SettingsButton from '../SettingsButton';\r\n\r\n\r\nimport '../../index.css';\r\nimport '../Settings.css';\r\n\r\n\r\nconst LogView = (props) => {\r\n    const SERVER_URL = useSelector(root => root.serverURL);\r\n    const [current, setCurrent] = useState('');\r\n    const [fileName, setFileName] = useState('');\r\n    const topRef = useRef();\r\n    const location = useLocation();\r\n    const routeHistory = useHistory();\r\n\r\n    //USAGE: http://localhost:3000/log/5 => Loads the 5th log file ago\r\n    const getFileNumber = () => { console.log(SERVER_URL);\r\n        const result = /^\\/log\\/([0-9]+)*/.exec(location.pathname) || [0,0];\r\n        return result[1];\r\n    }\r\n\r\n    const updateLog = async (latest = false) => await axios.put(`${SERVER_URL}/log/`, latest ? {} : {fileName: fileName, fileNumber: `${getFileNumber()}`})\r\n        .then((response)=>{\r\n            setCurrent(response.data); \r\n            setFileName(response.headers['content-name']); \r\n            if(response.headers['content-name'] == 'log.txt') routeHistory.replace('/log');\r\n        return 'LOADING';})\r\n        .catch((error)=>error.response ? error.response.status : false);\r\n    useEffect(()=>updateLog(),[SERVER_URL]);\r\n\r\n    //Text Log Message Type Per Line\r\n    const isError = (line) => (/error|fail/i.test(line));\r\n    const isHeader = (line) => (/\\[\\d{1,2}-\\d{1,2}-\\d{4} \\d{1,2}:\\d{1,2}:\\d{1,2}]/.test(line));\r\n    const isClimate = (line) => (/severe|high|low/i.test(line));\r\n    const isTrace = (line) => (/^\\s*\\>{1}/.test(line));\r\n    const isSystem = (line) => (/restart|server/i.test(line));\r\n\r\n    \r\n    return(<div id='sensor-test-container' >\r\n        <SettingsButton title='UPDATE' pendingText='RETRIEVING'\r\n            condense={true}\r\n            verifyLevel={0}\r\n            onUpdate={async(password)=>await updateLog(true)}\r\n            />\r\n        <strong id='title' ref={topRef} className='settings-value-title' style={{marginTop: '1.5rem'}}>File: {fileName}</strong>\r\n    <div className='sensor-test-results'>\r\n    {current.split(/(?=\\[\\d{1,2}-\\d{1,2}-\\d{4} \\d{1,2}:\\d{1,2}:\\d{1,2}])/g).reverse()\r\n        .map(entry=>entry.split(/\\n/g)\r\n            .map((line, k) => !line.length ? <span key={k} className='no-size'></span>\r\n                : <p key={k} style={{\r\n                    color: (isHeader(line) && isError(line)) ? 'red' \r\n                        : isSystem(line) ? 'goldenrod' \r\n                        : isClimate(line) ? 'orangered' \r\n                        : isHeader(line) ? 'white'\r\n                        : isTrace(line) ? 'var(--main-color)'\r\n                        : '#848884',\r\n                    fontSize: isHeader(line) ? '14px'\r\n                        : isTrace(line) ? '12px'\r\n                        : '12px',\r\n                    fontWeight: isHeader(line) ? '500'\r\n                        : isTrace(line) ? '300'\r\n                        : '400',\r\n                    fontStyle: isTrace(line) ? 'italic' : 'normal',\r\n                    margin: isTrace(line) ? '0.1rem' : '0.2rem',\r\n                    marginLeft: isHeader(line) ? '0' \r\n                        : isTrace(line) ? '3.0rem' : '2.0rem',\r\n                    marginTop: isHeader(line) ? '1.0rem' \r\n                        : isTrace(line) ? '0.05rem' : '0.2rem'\r\n                    }}\r\n            >{line}</p>))}    </div>\r\n    {(fileName == undefined) ?  <div className='none no-size' style={{position:'absolute'}}></div> \r\n    : <SettingsButton title='PREVIOUS LOG' pendingText='SEARCHING'\r\n            condense={true}\r\n            verifyLevel={0}\r\n            onUpdate={async(password)=>await updateLog()\r\n                .then((response)=>{\r\n                    topRef.current.scrollIntoView({block: 'nearest', inline: 'start' });\r\n                    routeHistory.replace(`/log/${getFileNumber()+1}`);\r\n                    return 'LOADING';})\r\n                .catch((error)=>error.response ? error.response.status : false)}\r\n            />}\r\n    </div>);\r\n}\r\nexport default LogView;","import React, {useState, useEffect} from 'react';\r\nimport { useSelector} from 'react-redux';\r\nimport axios from 'axios';\r\nimport dateFormat from 'dateformat';\r\nimport SettingsButton from '../Settings/SettingsButton';\r\n\r\n\r\nimport '../index.css';\r\nimport './History.css';\r\n\r\n\r\nconst History = (props) => {\r\n    const SERVER_URL = useSelector(root => root.serverURL);\r\n    const DATA = useSelector(root => root.data);\r\n    const convertToFahrenheit = useSelector(root => root.convertToFahrenheit);\r\n    const [dayList, setDayList] = useState([]);\r\n    const [climate, setClimate] = useState([]);\r\n\r\n    const formatTemperature = (temp) => convertToFahrenheit ? (Math.round(((temp*(9/5)+32)) * 100) / 100) : temp;\r\n\r\n    const getTemperatureOff = (current = DATA.operatingTemperature, goal = DATA.goalTemperature) => (Math.abs(current - goal) < 1) ? <span></span> : <span>[<small>{current > goal ? '+' : '-'}</small>{Math.floor(Math.abs(current - goal))}<span>&#176;</span>]</span>;\r\n\r\n    const getHumidityOff = (current = DATA.operatingHumidity, goal = DATA.goalHumidity) => (Math.abs(current - goal) < 1) ? <span></span> : <span>[<small>{current > goal ? '+' : '-'}</small>{Math.floor(Math.abs(current - goal))}<small>%</small>]</span>;\r\n\r\n    const getEfficiency = (value, time, temperature = true) => {if(climate == undefined) return '-';\r\n        const hour = new Date(time).getHours(); \r\n        let current = undefined;  for(var i=0; i<climate.length; i++) { if(hour == climate[i].hour) { current = climate[i]; break;}}\r\n      return !current ? 0 : Math.floor((value/(temperature ? current.temperature : current.humidity)) * 100);\r\n    }\r\n    \r\n    const getDuration = (ms) => `${Math.floor(ms/60000)}:${Math.abs(ms)%60000<10000?'0':''}${Math.floor((Math.abs(ms)%60000)/1000)}`;\r\n    \r\n    const updateHistory = async() => {\r\n        axios.get(`${SERVER_URL}/data-climate/`).then((response) => { setClimate(response.data.climate);  console.log('CLIMATE', response.data);\r\n                    }).catch((error) => console.log('Failed to Fetch Climate Information', error));\r\n        return await axios.get(`${SERVER_URL}/data-history/`)\r\n                    .then((response)=>{setDayList(response.data);  console.log('HISTORY', response.data); return 'LOADING'})\r\n                    .catch((error)=>error.response ? error.response.status : false);;\r\n    }\r\n    useEffect(()=>updateHistory(),[]);\r\n    \r\n    return(<div id='history-container' >\r\n        <SettingsButton title='UPDATE' pendingText='RETRIEVING'\r\n            condense={true}\r\n            verifyLevel={0}\r\n            onUpdate={()=>updateHistory()}\r\n            />\r\n        <table style={{margin: 0, width: '100%', border: '2px solid #013214', color: 'white', borderSpacing: '4px'}}>\r\n            <thead>\r\n                <tr>\r\n                    <th style={{padding: '3px', fontWeight: 700,  fontFamily: `'New Tegomin', serif`, textAlign: 'center',}} >Time</th>\r\n                    <th style={{padding: '3px', fontWeight: 700,  fontFamily: `'New Tegomin', serif`, textAlign: 'center',}} >Temperature</th>\r\n                    <th style={{padding: '3px', fontWeight: 700,  fontFamily: `'New Tegomin', serif`, textAlign: 'center',}} >Humidity</th>\r\n                    <th style={{padding: '3px', fontWeight: 700,  fontFamily: `'New Tegomin', serif`, textAlign: 'center',}} >Active</th>\r\n                    <th style={{padding: '3px', fontWeight: 700,  fontFamily: `'New Tegomin', serif`, textAlign: 'center',}} >Inactive</th>\r\n                </tr>\r\n            </thead>\r\n            <tbody>\r\n            {!(dayList && dayList.length) ? <tr><td style={{padding: '3px', textAlign: 'center' }} >No History Available</td></tr>\r\n                : dayList.map(r=><tr>\r\n                    <td style={{padding: '3px', border: '0.05rem solid #013214', textAlign: 'center' }} >{dateFormat(r.time, ((new Date().getTime() - r.time)<(6*24*60*60*1000)) ? 'DDDD, H:MM' : 'mmm-d H:MM')}</td>\r\n                    <td style={{padding: '3px', border: '0.05rem solid #013214', textAlign: 'center' }} >{formatTemperature(r.temperature)}{convertToFahrenheit ? <small>&#8457;</small> : <small>&#8451;</small>} {getTemperatureOff(formatTemperature(r.temperature), formatTemperature(r.goalTemperature))}</td>\r\n                    <td style={{padding: '3px', border: '0.05rem solid #013214', textAlign: 'center' }} >{r.humidity}% {getHumidityOff(r.humidity, r.goalHumidity)}</td>\r\n                    <td style={{padding: '3px', border: '0.05rem solid #013214', textAlign: 'center', fontSize: '0.7em' }} >{\r\n                        !r.active.length ? null : <table style={{margin: 0, width: '100%', borderSpacing: '2px' }}><tbody>\r\n                        {r.active.map(c=><tr>\r\n                                <td style={{textAlign: 'center' }} >{`${c.name}  [${c.settings[0].reason}]`}</td>\r\n                            </tr>)}\r\n                            </tbody>\r\n                        </table>\r\n                    }</td>\r\n                    <td style={{padding: '3px', border: '0.05rem solid #013214', textAlign: 'center', fontSize: '0.7em' }} >{\r\n                        !r.active.length ? null : <table style={{margin: 0, width: '100%', borderSpacing: '2px' }}><tbody>\r\n                        {r.inactive.map(c=><tr>\r\n                                <td style={{textAlign: 'center' }} >{`${c.name}  [${c.settings[0].reason}]`}</td>\r\n                            </tr>)}\r\n                            </tbody>\r\n                        </table>\r\n                    }</td>\r\n                </tr>)}             \r\n            </tbody> \r\n        </table>\r\n    </div>);\r\n}\r\nexport default History;","import React, {useRef, useEffect} from 'react';\nimport { BrowserRouter as Router, Switch, Route, } from \"react-router-dom\";\nimport Readings from './Readings/Readings';\nimport Background from './Background/Background';\nimport ScreenSaver from './Background/ScreenSaver/ScreenSaver';\nimport Menu from './Menu/Menu';\nimport Control from './Control/Control';\nimport Schedule from './Control/Schedule/Schedule';\nimport Climate from './Climate/Climate';\nimport ErrorBar from './Readings/ErrorBar';\nimport Settings from './Settings/Settings';\nimport SensorTest from './Settings/Details/SensorTest';\nimport LogView from './Settings/Details/LogView';\n\n\nimport './App.css';\nimport History from './History/History';\n\n\n\nconst App = () => {\n\n  //ScreenSaver Detection\n  //https://stackoverflow.com/questions/37949981/call-child-method-from-parent\n  const screenSaverRef = useRef();\n  \n  const deactivateScreenSaver = () => { if(screenSaverRef.current) screenSaverRef.current.deactivateScreenSaver(); }\n  useEffect(() => window.addEventListener('scroll', deactivateScreenSaver, false), []); //https://stackoverflow.com/questions/5657292/why-is-false-used-after-this-simple-addeventlistener-function   \n\n  return (\n    <Router>\n      <div id=\"App\" className=' border-box' \n      onClick={()=>screenSaverRef.current.deactivateScreenSaver()}\n      onMouseMove={()=>screenSaverRef.current.deactivateScreenSaver()}\n      onWheel={()=>screenSaverRef.current.deactivateScreenSaver()}\n      >\n        <Background /> \n        {/* Screen saver toggle to not render and diable timer is reduct screenSaverBrightness.setting == 'Disabled' */}\n        <ScreenSaver ref={screenSaverRef}/>\n            \n        {/* <div id='page-box' className=' border-box' style={{ top: 0, padding: '1.0rem', height: `${menuRef.current ?  (window.innerHeight - (menuRef.current.offsetHeight) - 75) : window.innerHeight}px` }}>  */}\n        \n          <Switch>\n            <Route exact path=\"/\">\n            <div id='page-box' className=' border-box' style={{boxSizing: 'border-box'}}>\n              <Readings hideDetails={false}/>\n              <Menu />\n            </div>\n            </Route>\n            <Route path=\"/controls\">\n              <ErrorBar />\n              <div id='page-box' className=' border-box' style={{boxSizing: 'border-box'}}>\n                <Control/>\n                <Menu />\n              </div>\n            </Route>\n            <Route path=\"/schedules\">\n              <ErrorBar />\n              <div id='page-box' className=' border-box' style={{boxSizing: 'border-box'}}>\n                <Schedule/>\n                <Menu />\n              </div>\n            </Route>\n            <Route path=\"/climate\">\n              <ErrorBar />\n              <div id='page-box' className=' border-box' style={{boxSizing: 'border-box'}}>\n                <Climate/>\n                <Menu />\n              </div>\n            </Route>\n            <Route path=\"/history\">\n              <ErrorBar />\n              <div id='page-box' className=' border-box' style={{boxSizing: 'border-box'}}>\n                <History/>\n                <Menu />\n              </div>\n            </Route>\n            <Route path=\"/settings\">\n              <ErrorBar />\n              <div id='page-box' className=' border-box' style={{boxSizing: 'border-box'}}>\n                <Settings deactivateScreenSaver={(d)=>screenSaverRef.current.deactivateScreenSaver(d)}/>\n                <Menu />\n              </div>\n            </Route>\n            <Route path=\"/log\">\n              <ErrorBar />\n              <div id='page-box' className=' border-box' style={{boxSizing: 'border-box'}}>\n                <LogView/>\n                <Menu />\n              </div>\n            </Route>\n            <Route path=\"/sensor-testing\">\n              <ErrorBar />\n              <div id='page-box' className=' border-box' style={{boxSizing: 'border-box'}}>\n                <SensorTest/>\n                <Menu />\n              </div>\n            </Route>\n          </Switch>       \n        </div>\n    </Router>); //top layer last\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter } from \"react-router-dom\";\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\nimport axios from 'axios';\nimport{Provider} from 'react-redux';\nimport {createStore, combineReducers} from 'redux';\n\nimport defaultImage from './Background/terrarium-buddies.jpg';\n\n\n\n//Action Creators (manipulate State) => Doing in Component | Traditional Method is to predefine here and import into component, just to send back to reducer\n\n//Single State with one Reducer | Could all be separate with separate reducers and combine with: 'combineReducers'\n\n//Reducers : Perform state Update\nconst setServerURLReducer = (state = process.env.REACT_APP_SERVER_URL || '', action) => {\n  if(action.type == 'setServerURL')  return action.payload;\n  else return state;\n}\n\nconst initialImage = {\n  IMAGE_INTERVAL: 6000,\n  TRANSITION_INTERVAL: 1000,\n  SCREENSAVER_INACTIVE_TIME: 60000,\n  location: defaultImage,\n  isVisible: false,  // https://stackoverflow.com/questions/40064249/react-animate-mount-and-unmount-of-a-single-component\n}\nconst setImageReducer = (state = initialImage, action) => {\n  if(action.type == 'setImage') { return {...state, location: action.payload, isVisible: true};}\n  else if(action.type == 'setImageVisible') return {...state, isVisible: true};\n  else if(action.type == 'setImageInvisible') return {...state, isVisible: false};\n  else return state;\n}\nconst screenSaverActiveReducer = (state = true, action) => { //Image Opacity on/off -> transition css\n  if(action.type == 'activateScreenSaver')  return true; \n  else if(action.type == 'deactivateScreenSaver')  return false;\n  else return state;\n}\nconst initialScreenSaverBrightness = {\n  settingOptions: ['Default', 'Scheduled', 'Black', 'Disabled'],\n  setting: 'Default',\n  dayOpacity: 1.00,\n  dayHourStart: 7,\n  nightOpacity: 0.35,\n  nightHourStart: 19,\n  blackHourStart: 21,\n}\nconst ScreenSaverBrightnessReducer = (state = initialScreenSaverBrightness, action) => {\n  switch(action.type) {\n    case 'setting':\n      if(state.settingOptions.includes(action.payload)) return {...state, setting: action.payload};\n      else return state;\n    case 'dayOpacity':\n      return {...state, setting: 'Scheduled', dayOpacity: action.payload};\n    case 'dayHourStart':\n      return {...state, setting: 'Scheduled', dayHourStart: action.payload};\n    case 'nightOpacity':\n      return {...state, setting: 'Scheduled', nightOpacity: action.payload};\n    case 'nightHourStart':\n      return {...state, setting: 'Scheduled', nightHourStart: action.payload};\n    case 'blackHourStart':\n      return {...state, setting: 'Scheduled', blackHourStart: action.payload};\n    default: return state;\n  }\n}\nconst setDataReducer = (state = {}, action) => {\n  if(action.type == 'setData') return {...action.payload};\n  else return state;\n}\n\nconst toggleConvertToFahrenheitReducer = (state = true, action) => { \n  if(action.type == 'toggleConvertToFahrenheit') return !state; \n  else return state;\n}\n\nconst setDropListReducer = (state = 'OFF', action) => { \n  if(action.type == 'setDropList' && state == action.payload) return 'OFF';\n  else if(action.type == 'setDropList' && action.payload == undefined) return 'OFF';  \n  else if(action.type == 'setDropList') return action.payload; \n  else return state;\n}\n\n//Setup Store\nconst allStateDomains = combineReducers({\n  serverURL: setServerURLReducer,\n  image: setImageReducer,\n  isScreenSaverActive: screenSaverActiveReducer, \n  screenSaverBrightness: ScreenSaverBrightnessReducer,\n  data: setDataReducer,\n  convertToFahrenheit: toggleConvertToFahrenheitReducer,\n  dropListOpen: setDropListReducer\n});\n\nconst store = createStore(allStateDomains,{});\n\n\n//Fetch Image\nsetInterval(()=>{//console.log('fetching Image', store.getState().image.image);\n  axios.get(`${store.getState().serverURL}/${(window.innerHeight > window.innerWidth) ? 'image-portrait' : 'image-landscape'}/`, { responseType: \"blob\" })\n  .then((response) => {\n    store.dispatch({type: 'setImageInvisible'});\n    setTimeout(() => {\n      store.dispatch({type: 'setImage', payload: URL.createObjectURL(response.data)});//also sets image viable // CSS transitions\n    \n    }, store.getState().image.TRANSITION_INTERVAL/2);\n  })\n  .catch((error) => {\n      console.error(error);\n      // setImage(defaultImage);\n    });\n}, store.getState().image.IMAGE_INTERVAL+store.getState().image.TRANSITION_INTERVAL || 5000);\n\n//Fetch Data\nexport const fetchData = async()=> { console.log(store.getState().serverURL);\n  return await axios.get(`${store.getState().serverURL}/data/`, { responseType: \"json\" })\n.then((res) => {const response = res.data;\n  store.dispatch({type: 'setData', payload: response});\n  localStorage.setItem(\"server\", store.getState().serverURL.toString());\n  console.log('fetching Data', response);\n  setTimeout(()=>fetchData(), response ? (((response.timeNextEvaluation) - new Date().getTime())+30000) : (60*1000));\n  return true;\n})\n.catch((error) => {\n    console.error(error);\n    store.dispatch({type: 'setData'});\n  setTimeout(()=>fetchData(), (60*1000));\n  return error.response ? error.response.status : false\n});}\n\nconst start = async() => {\n  store.dispatch({type: 'setServerURL', payload: window.location.origin});\n  if(await fetchData() !== true) { store.dispatch({type: 'setServerURL', payload: localStorage.getItem(\"server\")}); \n    if(await fetchData() !== true) store.dispatch({type: 'setServerURL', payload: window.location.origin}); \n  }}\nstart();\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store} >\n          <App />\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n\n\n\n"],"sourceRoot":""}