{"version":3,"sources":["useInterval.jsx","Verify.jsx","Settings/SettingsButton.jsx","Settings/SettingsBlank.jsx","Readings/Readings.jsx","Background/terrarium-buddies.jpg","Background/Background.jsx","Background/ScreenSaver/ScreenSaver.jsx","Menu/frog-logo.png","Menu/Menu.jsx","Control/Duration.jsx","Control/Control.jsx","Control/Schedule/Schedule.jsx","Climate/Climate.jsx","Readings/ErrorBar.jsx","Settings/SettingsList.jsx","Settings/Settings.jsx","Settings/Details/SensorTest.jsx","Settings/Details/LogView.jsx","History/History.jsx","App.js","reportWebVitals.js","index.js"],"names":["useInterval","callback","delay","limit","savedCallback","useRef","useEffect","current","id","setInterval","setTimeout","clearInterval","Verify","props","useState","input","setInput","seeText","setSeeText","isAdvanced","prompt","toLowerCase","includes","style","position","zIndex","width","height","top","left","backgroundColor","display","flexDirection","justifyContent","alignItems","textAlign","padding","borderRadius","margin","color","autoFocus","gridColumn","border","type","onChange","e","target","value","onKeyPress","charCode","undefined","onSubmit","onClick","marginLeft","onCancel","SettingsButton","verification","setVerification","buttonText","setButtonText","verifyLevel","condense","pendingText","buttonColor","getButtonColor","makeRequest","password","localStorage","getItem","setItem","toString","onUpdate","success","isNaN","clear","processUpdate","event","stopPropagation","overflow","className","buttonStyle","title","HoldButton","SERVER_URL","useSelector","root","serverURL","DATA","data","time","setTime","timeNextEvaluation","timer","setTimer","Date","getTime","frequencyActive","Math","floor","fetchData","axios","post","PASSWORD","duration","evaluationFrequency","then","response","catch","error","status","SettingsBlank","setCurrent","setValue","inputType","numberStep","updateButton","text","overrideValidation","cache","gridTemplateColumns","name","v","step","ERRORBACKGROUNDCOLOR","Readings","forwardRef","ref","nextCountDown","setNextCountDown","previousCountUp","setPreviousCountUp","sensorColor","setSensorColor","maxError","setMaxError","ERROR_LIST","setERROR_LIST","convertToFahrenheit","dispatch","useDispatch","routeHistory","useHistory","sensorRef","showDetails","hideDetails","getDefaultBackgroundColor","getSensorFontColor","getTemperaturePercent","operatingTemperature","goal","goalTemperature","min","minimumTemperature","max","maximumTemperature","getHumidityPercent","operatingHumidity","goalHumidity","minimumHumidity","maximumHumidity","list","sensorErrorCode","push","maximumTemperatureErrorCode","minimumTemperatureErrorCode","maximumHumidityErrorCode","minimumHumidityErrorCode","accessDatabase","timeLastReading","previous","formatTemperature","temp","round","window","innerWidth","align","setAlign","temperatureSectionTop","document","getElementById","getBoundingClientRect","humiditySectionTop","HumidityOnClick","TemperatureOnClick","sensorOnClick","ReadingsArrangement","mobile","desktop","getWidget","length","slice","map","i","gridRow","overflowX","fontSize","fontFamily","borderColor","statusMessage","match","reverse","m","operatingSchedules","join","dateFormat","payload","getUpdate","columnGap","verticalAlign","marginRight","sort","a","b","widget","Background","IMAGE","image","src","location","defaultImage","alt","objectFit","opacity","visible","transition","TRANSITION_INTERVAL","TimeBar","countUp","setCountUp","bottom","whiteSpace","right","ScreenSaver","React","serverError","setServerError","isScreenSaverActive","showScreenSaver","setShowScreenSaver","screenSaverOpacity","setScreenSaverOpacity","screenSaverBrightness","calculateBrightness","setting","hour","options","blackHourStart","dayHourStart","dayOpacity","nightHourStart","nightOpacity","console","log","screensaverTimer","resetTimer","deactivateScreenSaver","useCallback","clearTimeout","SCREENSAVER_INACTIVE_TIME","useImperativeHandle","isVisible","Menu","routeLocation","useLocation","textDecoration","pathname","icon","to","DURATION_LIST","getDurationName","places","parseInt","getDurationValue","cleanedValue","exec","label","EXCLUDE_CONTROL_TYPES","MakeToggle","overridden","until","test","topReason","severe","isSelected","select","active","Control","durationIndex","setDurationIndex","selectMode","setSelectMode","selectedList","setSelectedList","setControlTypes","controlTypes","smartIndex","findIndex","d","shortedNameList","names","y","CONTROLS","types","result","forEach","substring","toUpperCase","scheduleNow","set","reason","JSON","stringify","repeat","c","settings","filter","minWidth","typesMap","Map","t","get","index","mapList","controlList","getControlTypes","original","every","val","arr","DropMenu","customDefault","custom","setCustom","multipleList","setMultipleList","openList","dropListOpen","customName","selectMultiple","outerStyle","onFocus","onBlur","buttonStyleClass","dropListId","subValue","borderBottom","marginTop","onSelect","option","extraList","borderTop","extraName","onExtra","marginBottom","getDay","today","setHours","tomorrow","yesterday","day","getDate","getDateAbbreviation","getDateList","DropDateMenu","customDate","setCustomDate","getMonth","h","getHours","getMinutes","ScheduleRow","pendingAction","setPendingAction","priority","setPriority","setMinutes","setTitle","titleEdited","setTitleEdited","setNames","setDuration","setSet","setRepeat","resetVariables","insertNew","isControlsChanged","Array","isArray","isTimeChanged","isTitleChanged","isDurationChanged","isSetChanged","isRepeatChanged","isChanged","isControlsValid","isTimeValid","isTitleValid","isDurationValid","isSetValid","isRepeatValid","action","space","maxWidth","overriddenList","unshift","getUpdateOptions","replace","s","r","Schedule","SCHEDULES","setSCHEDULES","sortByTime","setSortByTime","calculatedList","setCalculatedList","fetchSchedules","schedules","days","minimum","end","count","occurrences","overrides","reduce","least","find","some","calculateOccurrenceList","getOverriddenList","schedule","currentPriority","increase","attributeName","Climate","CLIMATE","setCLIMATE","range","setRange","temperatureMode","setTemperatureMode","saveButtonText","setSaveButtonText","fetchClimate","climate","getMaxValue","format","ghost","ceil","getMinValue","getWidthOffset","parseFloat","getComputedStyle","documentElement","getRange","values","cellRatio","calculatedWidth","paddingLeft","paddingRight","j","item","temperature","toFixed","humidity","readOnly","temperatureAverage","humidityAverage","ADVANCED_PASSPHRASE","tag","ErrorBar","SettingsList","setOptions","setList","newCurrent","newOptions","addCustom","latestList","l","toggleOption","latest","allowed","o","getOldOptions","old","Settings","SCREENSAVER_BRIGHTNESS","route","body","onSuccess","put","LOCAL_SETTINGS","settingOptions","splice","emailStatusRecipients","emailIssueRecipients","email","message","updateRegularity","updateRegularityOptions","sensorType","sensorTypes","sensorMode","sensorModes","mode","pop","SensorTest","testingDuration","setTestingDuration","testingInterval","setTestingInterval","fetchingError","setFetchingError","interval","minutes","seconds","borderSpacing","split","p","colspan","LogView","fileName","setFileName","topRef","getFileNumber","updateLog","fileNumber","headers","isError","line","isHeader","isClimate","isTrace","isSystem","entry","k","fontWeight","fontStyle","scrollIntoView","block","inline","History","dayList","setDayList","setClimate","getTemperatureOff","abs","getHumidityOff","updateHistory","inactive","App","screenSaverRef","addEventListener","basename","onMouseMove","onWheel","exact","path","boxSizing","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","initialImage","IMAGE_INTERVAL","initialScreenSaverBrightness","allStateDomains","combineReducers","state","store","createStore","getState","innerHeight","responseType","URL","createObjectURL","testURL","url","timeout","res","start","serverPramList","search","serverPram","redirectPramList","redirectURL","host","origin","ReactDOM","render","StrictMode"],"mappings":"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","file":"static/js/main.4eecba6f.chunk.js","sourcesContent":["import {useEffect, useRef} from 'react';\r\n\r\n//Custom Hook : Interval for autoplay\r\nexport default function useInterval (callback, delay, limit) {\r\n    const savedCallback = useRef();\r\n    // Remember the latest callback.\r\n    useEffect(() => {\r\n      savedCallback.current = callback;\r\n    }, [callback]);\r\n    // Set up the interval.\r\n    useEffect(() => {\r\n      let id = setInterval(() => {\r\n        savedCallback.current();\r\n      }, delay);\r\n      if(limit) setTimeout(() => {clearInterval(id);}, limit);\r\n      return () => {clearInterval(id);}\r\n    }, [delay]);\r\n  }","import React, {useState} from 'react';\r\n\r\n\r\nconst Verify = (props) => {\r\n    const [input, setInput] = useState();\r\n    const [seeText, setSeeText] = useState(false);\r\n\r\n    const isAdvanced = () => props.prompt.toLowerCase().includes('advance' || 'passphrase');\r\n\r\n    return (<div id='verify-container' style={{position: 'fixed', zIndex: 35, width: '100vw', height: '100vh', top: 0, left:0, backgroundColor: `rgba(0,0,0,${isAdvanced() ? '1.0' : '0.7'})`, \r\n                                                display: 'flex', flexDirection: 'column', justifyContent: 'center', alignItems: 'center'}}>\r\n        <div id='verify-inside' style={{position: 'relative', display: 'grid', textAlign: 'center', padding: '1.0rem 2.0rem', backgroundColor: isAdvanced() ? 'darkred' : 'var(--main-color)', borderRadius: '5px', }}>\r\n            <strong style={{margin: '0.5rem', width: '100%', textAlign: 'left', color: isAdvanced() ? 'whitesmoke' : 'black'}}>{props.prompt}:</strong>\r\n            <div style={{display: 'grid', backgroundColor: 'black', borderRadius: '5px', padding: '0.25rem 0.5rem',}}>\r\n                <input autoFocus style={{gridColumn: 1, border: 'none', backgroundColor: 'black', color: 'whitesmoke'}} type={seeText ? 'text' : 'password'} onChange={(e)=>setInput(e.target.value)} onKeyPress={(e)=>{if(e.charCode == 13 && input != undefined && input != '') props.onSubmit(input);}}/>\r\n                <input type='checkbox'value={seeText} onClick={()=>setSeeText(!seeText)} style={{gridColumn: 2, border: 'none', color: 'var(--main-color)', height: '1.2rem', width: '1.2rem', marginLeft: '1.0rem'}} />\r\n            </div>\r\n            <div>\r\n                <button style={{border: '2px solid white', backgroundColor: 'whitesmoke', color: 'black', padding: '0.25rem', margin: '0.5rem'}} onClick={()=>props.onCancel()}>CANCEL</button>\r\n                <button style={{border: 'none', backgroundColor: 'black', color: 'white', padding: '0.35rem', margin: '0.5rem'}} onClick={()=>{if(input != undefined && input != '') props.onSubmit(input);}}>SUBMIT</button>\r\n            </div>\r\n        </div>\r\n    </div>);\r\n}\r\nexport default Verify;","import React, {useState, useEffect} from 'react';\r\nimport { useSelector} from 'react-redux';\r\nimport axios from 'axios';\r\nimport useInterval from '../useInterval';\r\nimport Verify from '../Verify';\r\nimport {fetchData} from '../index';\r\n\r\nimport '../index.css';\r\nimport './Settings.css';\r\n\r\nconst SettingsButton = (props) => {\r\n    const [verification, setVerification] = useState(undefined);\r\n    const [buttonText, setButtonText] = useState('UPDATE');\r\n\r\n    //Guidelines Abstracted\r\n    const verifyLevel = (props.verifyLevel != undefined) ? props.verifyLevel : 1;\r\n    const condense = (props.condense != undefined) ? props.condense : false;\r\n    const pendingText = (props.pendingText != undefined) ? props.pendingText : 'PENDING';\r\n    const buttonColor = (props.buttonColor != undefined) ? props.buttonColor : 'var(--main-color)';\r\n    const getButtonColor=(buttonText)=>(buttonText=='UPDATE') ? buttonColor : (buttonText=='PASS' || buttonText=='INVALID' || buttonText=='FAILED') ? '#e8000d' : (buttonText=='PENDING' || buttonText=='BLANK') ? 'orange' : '#cc5500';\r\n\r\n    //*********************************\r\n    //   API REQUEST & VERIFICATION\r\n    //*********************************\r\n    const makeRequest=async(password)=>{ setVerification(undefined); //saving local until fetch up stream is called to replace data\r\n        if(verifyLevel == 1 && !localStorage.getItem(\"password\")) await localStorage.setItem(\"password\", password.toString());\r\n        const success = await props.onUpdate(password);\r\n        if(success == null || success == undefined) setButtonText('UPDATE');\r\n        else if(success == true || isNaN(success)) {setButtonText((success != true) ? success : 'SAVED'); setTimeout(()=>setButtonText('UPDATE'), 3000); }\r\n        else if(success == 401) { setButtonText('PASS'); setTimeout(()=>setButtonText('UPDATE'), 5000); localStorage.clear();}\r\n        else if(success == 404) { setButtonText('INVALID'); setTimeout(()=>setButtonText('UPDATE'), 5000); }\r\n        else {setButtonText('FAILED'); setTimeout(()=>setButtonText('UPDATE'), 5000);}\r\n    }\r\n\r\n    const processUpdate=(event)=>{\r\n        event.stopPropagation();\r\n        if(buttonText == 'UPDATE') { setButtonText('PENDING');\r\n        if(verifyLevel == 0) makeRequest(undefined); //No Security\r\n        else if(verifyLevel == 1 && !localStorage.getItem(\"password\")) setVerification('Enter Control Password to Continue:'); //Only Request if not stored\r\n        else if(verifyLevel == 1) makeRequest(localStorage.getItem(\"password\")); //Use Saved Password\r\n        else setVerification('Enter Advanced Passphrase to Proceed:'); //undefined || >1\r\n    }}\r\n    \r\n    //*********************************\r\n    //   HTML DISPLAY\r\n    //*********************************\r\n\r\n    return(<section style={{overflow: 'hidden'}}>\r\n        {(condense) ?   <button className={`settings-single-button`} onClick={processUpdate}  style={{...props.buttonStyle, overflow: 'hidden', backgroundColor: buttonColor}}>{props.title}\r\n                                <label className={`settings-single-button-overlay`} style={{display: buttonText == 'UPDATE' ? 'none' : 'flex', overflow: 'hidden', backgroundColor: getButtonColor(buttonText)}}>{buttonText}</label></button>\r\n        : <div className='settings-value-box' style={{display: (condense) ? 'block' : 'grid'}}>\r\n        <button className={`settings-single-button`} onClick={processUpdate}  style={{...props.buttonStyle, overflow: 'hidden', backgroundColor:  getButtonColor(buttonText)}}>{buttonText == 'UPDATE' ? props.title : buttonText == 'PENDING' ? pendingText : buttonText}</button>\r\n        </div>}\r\n        {verification ?\r\n            <Verify\r\n                prompt={verification}\r\n                onSubmit={makeRequest}\r\n                onCancel={()=>{setVerification(undefined); setButtonText('UPDATE');}}\r\n            />  : <div className='none no-size' style={{position:'absolute'}}></div>}\r\n    </section>);\r\n}\r\nexport default SettingsButton;\r\n\r\nexport const HoldButton = (props) => {\r\n    const SERVER_URL = useSelector(root => root.serverURL);\r\n    const DATA = useSelector(root => root.data);\r\n    const [time, setTime] = useState(0);\r\n    useEffect(()=>setTime(DATA.timeNextEvaluation),[DATA]);\r\n    const [timer, setTimer] = useState(0);\r\n    useInterval(()=>setTimer(time - new Date().getTime()), 1000);\r\n\r\n    return (<SettingsButton title={`${!DATA.frequencyActive ? 'HOLDING' : 'HOLD'}    -  ${(timer <= 0) ? 'evaluating' : `${(timer>3600000)?`${Math.floor(timer/3600000)}:`:''}${(timer>60000)?`${Math.floor((timer%3600000)/60000)}:`:''}${((timer>60000) && (timer%60000<10000))?'0':''}${Math.floor((timer%60000)/1000)}`}`}\r\n    condense={true}\r\n    buttonStyle={props.buttonStyle}\r\n    buttonColor={!DATA.frequencyActive ? '#cc5500' : props.buttonColor}\r\n    verifyLevel={props.verifyLevel || 1}\r\n    onUpdate={(password)=>{setTimeout(()=>fetchData(), 5000); return axios.post(`${SERVER_URL}/postpone-evaluation/`, {PASSWORD: password, duration: props.duration || DATA.evaluationFrequency}).then((response)=>{setTime((props.duration || DATA.evaluationFrequency) + new Date().getTime());  return 'HOLDING';}).catch((error)=>error.response ? error.response.status : false);}} \r\n    />);\r\n}","import React, {useState, useEffect} from 'react';\r\nimport Verify from '../Verify';\r\n\r\nimport '../index.css';\r\nimport './Settings.css';\r\n\r\nconst getButtonColor=(buttonText) =>  (buttonText=='' || buttonText=='SEND') ? 'transparent' : (buttonText=='UPDATE') ? 'var(--main-color)' : (buttonText=='PASS' || buttonText=='INVALID' || buttonText=='FAILED') ? '#e8000d' : (buttonText=='PENDING' || buttonText=='BLANK') ? 'orange' : '#cc5500';\r\n\r\nconst SettingsBlank = (props) => {\r\n    const [verification, setVerification] = useState(undefined);\r\n    const [current, setCurrent] = useState(props.current);\r\n    const [value, setValue] = useState(current);\r\n    const [buttonText, setButtonText] = useState('');\r\n\r\n    //Guidelines Abstracted\r\n        const verifyLevel = (props.verifyLevel != undefined) ? props.verifyLevel : 2;\r\n        const inputType = (props.inputType != undefined && props.condense == undefined) ? props.inputType : (isNaN(props.current) ? 'text' : 'number' );\r\n        const numberStep = (props.numberStep != undefined) ? props.numberStep : 1;\r\n        const condense = (props.condense != undefined) ? props.condense : false;\r\n\r\n        const updateButton = async()=>{const text = (value == current && props.current == undefined) ? 'BLANK' : (inputType == 'number' && isNaN(value)) ? 'NUMBER' : (value != current) ? 'UPDATE' : (props.overrideValidation) ? 'SEND' : '';\r\n                                        setButtonText(text); return text;}\r\n        useEffect(()=>updateButton(), [value]);\r\n\r\n    //*********************************\r\n    //   API REQUEST & VERIFICATION\r\n    //*********************************\r\n    const makeRequest=async(password)=>{ setVerification(undefined); //saving local until fetch up stream is called to replace data\r\n        if(verifyLevel == 1 && !localStorage.getItem(\"password\")) await localStorage.setItem(\"password\", password.toString());\r\n        const success = await props.onUpdate(value, password);\r\n        if(success == true || isNaN(success)) {setButtonText((success != true) ? success : 'SAVED'); setCurrent(inputType == 'textarea' ? '' : value); if(inputType == 'textarea') setValue(''); setTimeout(()=>setButtonText(''), 5000); }\r\n        else if(success == 401) { if(!props.cache) setButtonText('PASS'); setTimeout(()=>setValue(current), 5000);  localStorage.clear();}\r\n        else if(success == 404) { if(!props.cache) setButtonText('INVALID');setTimeout(()=>setValue(current), 5000); }\r\n        else {setButtonText('FAILED'); if(!props.cache) setTimeout(()=>setValue(current), 5000); }\r\n\r\n    }\r\n\r\n    const processUpdate=async(event)=>{\r\n        event.stopPropagation();\r\n        if(props.overrideValidation || await updateButton() == 'UPDATE') { setButtonText('PENDING');\r\n        if(verifyLevel == 0) makeRequest(undefined); //No Security\r\n        else if(verifyLevel == 1 && !localStorage.getItem(\"password\")) setVerification('Enter Control Password to Continue:'); //Only Request if not stored\r\n        else if(verifyLevel == 1) makeRequest(localStorage.getItem(\"password\")); //Use Saved Password\r\n        else setVerification('Enter Advanced Passphrase to Proceed:'); //undefined || >1\r\n    }}\r\n\r\n    //*********************************\r\n    //   HTML DISPLAY\r\n    //*********************************\r\n\r\n    return(<div className='settings-value-box' style={{gridTemplateColumns: (condense) ? '1fr 1fr' : null}}>\r\n        {(props.title==undefined) ?  <div className='none no-size' style={{position:'absolute'}}></div> : <strong className='settings-value-title' >{props.title}</strong>}\r\n        {inputType == 'textarea' ? <textarea name=\"textarea\" value={value} onChange={(v)=>setValue(v.target.value)} />\r\n        : <input className='settings-value-input' style={{color: (condense && buttonText != '') ? getButtonColor(buttonText) : null}} type={inputType} step={inputType == 'number' ? numberStep : null} value={value} onChange={(v)=>setValue(v.target.value)} onKeyPress={(e)=>{if(e.charCode == 13) {processUpdate();}}}/>}\r\n        {condense ?  <div className='none no-size' style={{position:'absolute'}}></div> : <button className='settings-value-button' onClick={processUpdate}  style={{backgroundColor:  getButtonColor(buttonText)}}>{(inputType == 'textarea' && value != '') ? 'SAVE' : buttonText}</button>}\r\n        {verification ?\r\n            <Verify\r\n                prompt={verification}\r\n                onSubmit={makeRequest}\r\n                onCancel={()=>{setVerification(undefined); setButtonText('UPDATE');}}\r\n            />  : <div className='none no-size' style={{position:'absolute'}}></div>}\r\n    </div>);\r\n}\r\nexport default SettingsBlank;\r\n","import React, {useState, useEffect, forwardRef, useRef} from 'react';\r\nimport { useHistory} from \"react-router-dom\";\r\nimport { useSelector, useDispatch} from 'react-redux';\r\nimport dateFormat from 'dateformat';\r\nimport useInterval from '../useInterval';\r\nimport './Readings.css';\r\nimport '../index.css';\r\nimport SettingsButton from '../Settings/SettingsButton';\r\nimport { fetchData } from '..';\r\nimport SettingsBlank from '../Settings/SettingsBlank';\r\n\r\n\r\nconst BACKGROUNDCOLOR = 'rgba(24, 98, 24, 0.5)';\r\nconst ERRORBACKGROUNDCOLOR = 'darkred';\r\nconst HOLDINGBACKGROUNDCOLOR = '#cc5500';\r\n\r\n\r\n const Readings = forwardRef((props, ref) => {\r\n    const [nextCountDown, setNextCountDown] = useState(0);\r\n    const [previousCountUp, setPreviousCountUp] = useState(0);\r\n    const [sensorColor, setSensorColor] = useState(BACKGROUNDCOLOR);\r\n    const [maxError, setMaxError] = useState(2);\r\n    const [ERROR_LIST, setERROR_LIST] = useState(['SERVER DISCONNECTED']);\r\n    const DATA = useSelector(root => root.data);\r\n    const SERVER_URL = useSelector(root => root.serverURL);\r\n    const convertToFahrenheit = useSelector(root => root.convertToFahrenheit);\r\n    const dispatch = useDispatch();\r\n    const routeHistory = useHistory();\r\n    const sensorRef = useRef(); \r\n    \r\n    const showDetails = () => (props.hideDetails && maxError == 0) ? false : true;\r\n\r\n    const getDefaultBackgroundColor = () => showDetails() ? 'rgba(24, 98, 24, 0.85)' : 'rgba(24, 98, 24, 0.3)';\r\n\r\n    const getSensorFontColor = () => (sensorColor == ERRORBACKGROUNDCOLOR || !maxError || !DATA.frequencyActive) ? 'white' : ERRORBACKGROUNDCOLOR;\r\n\r\n    const getTemperaturePercent = (current = DATA.operatingTemperature, goal = DATA.goalTemperature, min = DATA.minimumTemperature, max = DATA.maximumTemperature) => (current >= max) ? 2 + ((current-max) * (1/(max-min))) : (current <= min) ? ((current-min) * (1/(max-min))) : 1 - ((goal-current) * (1/(max-min))); \r\n\r\n    const getHumidityPercent = (current = DATA.operatingHumidity, goal = DATA.goalHumidity, min = DATA.minimumHumidity, max = DATA.maximumHumidity) => (current >= max) ? 2 + ((current-max) * (1/(max-min))) : (current <= min) ? ((current-min) * (1/(max-min))) : 1 - ((goal-current) * (1/(max-min))); \r\n\r\n//Evaluate Current Errors //Error 0, 1, 2\r\n    useEffect(()=>{let max = 0; let list = [];\r\n        if(DATA.sensorErrorCode == undefined) {max = 2; list.push('SERVER DISCONNECTED');}\r\n        else {//Ordered Importance\r\n            if(DATA.sensorErrorCode) {max = Math.max(max, DATA.sensorErrorCode); list.push('SENSOR ERROR');}\r\n            if(DATA.maximumTemperatureErrorCode) {max = Math.max(max, DATA.maximumTemperatureErrorCode); list.push('MAXIMUM TEMPERATURE');}\r\n            if(DATA.minimumTemperatureErrorCode) {max = Math.max(max, DATA.minimumTemperatureErrorCode); list.push('MINIMUM TEMPERATURE');}\r\n            if(DATA.maximumHumidityErrorCode) {max = Math.max(max, DATA.maximumHumidityErrorCode); list.push('MAXIMUM HUMIDITY');}\r\n            if(DATA.minimumHumidityErrorCode) {max = Math.max(max, DATA.minimumHumidityErrorCode); list.push('MINIMUM HUMIDITY');}\r\n            if((DATA.accessDatabase != undefined && !DATA.accessDatabase)) {max = Math.max(max, 1); list.push('DATABASE LOCKED');}\r\n        } setMaxError(max); setERROR_LIST(list);\r\n    },[DATA]);\r\n\r\n    useInterval(()=>{setNextCountDown(DATA.timeNextEvaluation - new Date().getTime()); setPreviousCountUp(new Date().getTime() - DATA.timeLastReading)\r\n                    setSensorColor(previous => (maxError == 1 || previous == 'whitesmoke') ? ERRORBACKGROUNDCOLOR : (maxError > 1) ? 'whitesmoke' : getDefaultBackgroundColor()); \r\n    }, 1000);\r\n\r\n    const formatTemperature = (temp) => (Math.round((convertToFahrenheit ? ((temp*(9/5)+32)) : temp) * 100) / 100);\r\n\r\n    const getSensor = () => (DATA.operatingTemperature && !showDetails()) ? <div className='none no-size'></div>\r\n        : <div ref={sensorRef} id='condition-details' className='none readings-box-outer' style={{color: getSensorFontColor()}}>\r\n            <div className='readings-box-inner' style={{backgroundColor: sensorColor}}>\r\n                <div className=' readings-value-box' >\r\n                    {(ERROR_LIST.length) \r\n                        ? <strong id={'readings-top-error'} style={{color: sensorColor == ERRORBACKGROUNDCOLOR ? 'white' : ERRORBACKGROUNDCOLOR}}>{ERROR_LIST[0]}</strong>\r\n                        : <div className='none no-size'></div>\r\n                     }\r\n                    {(ERROR_LIST.length > 1) ? ERROR_LIST.slice(1).map((e,i)=><strong key={`error-${i}`} className=' ' style={{gridRow: (i+3), gridColumn: 1, overflowX: 'auto', fontSize: '1.2rem', fontFamily: `'New Tegomin', serif`, margin: 0, color: sensorColor == ERRORBACKGROUNDCOLOR ? 'white' : ERRORBACKGROUNDCOLOR}} >{e}</strong>): <div className='none no-size'></div>}\r\n                    {(ERROR_LIST.length > 1) ? <hr style={{borderColor: getSensorFontColor()}}></hr> : <div className='none no-size'></div>}\r\n                    {(DATA.statusMessage && DATA.statusMessage.length) ?  <div style={{display: 'inline-grid', gridRow: 2, gridColumn: 1,}}>\r\n                    {DATA.statusMessage.match(/[^\\r\\n]+/g).reverse().map((m, i)=>\r\n                        <section key={`statusMessage-${i}`} className='readings-status-message' style={{gridRow: (i+2)}} > {m}</section>\r\n                    )} </div> : <div className='none no-size'></div>}\r\n                    {(DATA.operatingSchedules || []).length \r\n                        ? <p className={'readings-schedule-list'}  >{DATA.operatingSchedules.join(' | ')}</p>\r\n                        : <div className='none no-size'></div>}\r\n                </div>\r\n                {(DATA.operatingTemperature) ? <section className='readings-value-box'>\r\n                    <hr style={{borderColor: getSensorFontColor()}}></hr>\r\n                    <p className='none readings-description' style={{gridRow: 2, gridColumn: 1,}} >Last Sensor Reading:</p>\r\n                    <strong className='none readings-value' style={{gridRow: 2, gridColumn: 2, }} >{dateFormat(DATA.timeLastReading, 'm-d-yy HH:MM')}{previousCountUp > DATA.evaluationFrequency ? ` [${`${(previousCountUp>3600000)?`${Math.floor(previousCountUp/3600000)}:`:''}${(previousCountUp>60000)?`${Math.floor((previousCountUp%3600000)/60000)}:`:''}${((previousCountUp>60000) && (previousCountUp%60000<10000))?'0':''}${Math.floor((previousCountUp%60000)/1000)}`}]`: ''}</strong>\r\n                    <p className='none readings-description' style={{gridRow: 3, gridColumn: 1, }} >Sensor Frequency:</p>\r\n                    <strong className='none readings-value' style={{gridRow: 3, gridColumn: 2, }} >{DATA.evaluationFrequency/60000} minutes</strong>\r\n                    <p className='none readings-description' style={{gridRow: 4, gridColumn: 1,  }} >Next Evaluation:</p>\r\n                    <strong className='none readings-value' style={{gridRow: 4, gridColumn: 2, }} >{nextCountDown <= 0 ? 'Reading' : nextCountDown > 60000 ? `${Math.floor(nextCountDown/60000)}:${nextCountDown%60000<10000?'0':''}${Math.floor((nextCountDown%60000)/1000)}` : `${Math.floor(nextCountDown/1000)} seconds`}</strong>\r\n                </section> \r\n                : <div className='none no-size'></div>}\r\n            </div>\r\n            {(DATA.sensorErrorCode == undefined) ? \r\n                <div className='readings-box-inner' style={{backgroundColor: 'rgba(0,0,0,0.75)'}}>\r\n                <SettingsBlank title='Server URL:'\r\n                    current={SERVER_URL}\r\n                    verifyLevel={0}\r\n                    cache={true}\r\n                    overrideValidation={true}\r\n                    onUpdate={async(value, password)=>{\r\n                        dispatch({type: 'setServerURL', payload: value}); \r\n                        const response = await fetchData(); if(response == true) routeHistory.push('/'); \r\n                        return (response == true) ? 'UPDATING' : response;}}\r\n                />\r\n            </div> : <div className='none no-size'></div>}\r\n        </div>;\r\n\r\n    const getTemperature = () => (DATA.operatingTemperature) ? <div id='temperature-section' className='none readings-box-outer' style={{marginLeft: align ? 'auto' : 0}}>\r\n            <div className='readings-box-inner' style={{backgroundColor: maxError ? ERRORBACKGROUNDCOLOR : getDefaultBackgroundColor()}}>\r\n                <section className='none readings-value-box' style={{columnGap: '0'}}>\r\n                        <strong className='none readings-main-value' style={{}} >{formatTemperature(DATA.operatingTemperature)}</strong>\r\n                        <p className='none ' style={{gridRow: 1, gridColumn: 2, verticalAlign: 'top', fontSize: '1.0rem'}} >{convertToFahrenheit ? <span>&#8457;</span> : <span>&#8451;</span>}</p>\r\n                    </section>\r\n                {!showDetails() ? <div className='none no-size'></div> \r\n                : <section className='readings-value-box'>\r\n                        <p className='none readings-title' style={{}} >Temperature</p>\r\n                        <p className='none readings-description' style={{gridRow: 2, gridColumn: 1, }} >Efficiency:</p>\r\n                        <strong className='none readings-value' style={{gridRow: 2, gridColumn: 2, }} >{Math.floor(getTemperaturePercent()*100)}%</strong>\r\n                        <p className='none readings-description' style={{gridRow: 3, gridColumn: 1, }} >Range:</p>\r\n                        <strong className='none readings-value' style={{gridRow: 3, gridColumn: 2, }} >{formatTemperature(DATA.minimumTemperature)} - {formatTemperature(DATA.maximumTemperature)}{convertToFahrenheit ? <span>&#8457;</span> : <span>&#8451;</span>}</strong>\r\n                </section> }     \r\n            </div>     \r\n        </div> : <div id='temperature-section' className='none no-size'></div>;\r\n\r\n\r\n    const getHumidity = () => (DATA.operatingHumidity) ? <div id='humidity-section'  className='none readings-box-outer' style={{marginRight: align ? 'auto' : '0'}}>\r\n            <div className='readings-box-inner' style={{backgroundColor: maxError ? ERRORBACKGROUNDCOLOR : getDefaultBackgroundColor()}}>\r\n                <section className='none readings-value-box' style={{columnGap: '0'}}>\r\n                    <strong className='none readings-main-value' style={{}} >{Math.round(DATA.operatingHumidity * 100) / 100}</strong>\r\n                    <p className='none ' style={{gridRow: 1, gridColumn: 2, verticalAlign: 'top', fontSize: '1.0rem'}} >%</p>\r\n                </section>\r\n                {!showDetails() ? <div className='none no-size'></div> \r\n                : <section className='readings-value-box'>\r\n                    <p className='none readings-title' style={{textAlign: 'center'}} >Humidity</p>\r\n                    <p className='none readings-description' style={{gridRow: 2, gridColumn: 1, }} >Efficiency:</p>\r\n                    <strong className='none readings-value' style={{gridRow: 2, gridColumn: 2, }} >{Math.floor(getHumidityPercent()*100)}%</strong>\r\n                    <p className='none readings-description' style={{gridRow: 3, gridColumn: 1, }} >Range:</p>\r\n                    <strong className='none readings-value' style={{gridRow: 3, gridColumn: 2, }} >{(DATA.minimumHumidity)} - {(DATA.maximumHumidity)}%</strong>\r\n                </section> }\r\n            </div> \r\n        </div> : <div id='humidity-section' className='none no-size'></div>;\r\n\r\n//Detect flew-wrap and center horizontally\r\nconst [align, setAlign] = useState((window.innerWidth < 900));\r\nuseEffect(()=>{setTimeout(()=>{\r\n    const temperatureSectionTop = document.getElementById('temperature-section').getBoundingClientRect().top;\r\n    const humiditySectionTop = document.getElementById('humidity-section').getBoundingClientRect().top;\r\n    if(temperatureSectionTop != undefined && temperatureSectionTop != humiditySectionTop) setAlign(true);\r\n},500);},[]);    \r\n\r\nconst HumidityOnClick = async(password) => {const response = await fetchData(); routeHistory.push('/'); return response == true ? 'UPDATING' : response;}\r\nconst TemperatureOnClick = async(password) => {dispatch({type: 'toggleConvertToFahrenheit'}); return null;}\r\nconst sensorOnClick = async(password) => {if(maxError && DATA.sensorErrorCode != undefined) routeHistory.push('/log'); else routeHistory.push('/settings'); return null;}\r\n\r\nconst ReadingsArrangement = [\r\n    {mobile: 1, desktop: 2, \r\n        getWidget:  getSensor,\r\n        getUpdate: sensorOnClick,\r\n        pendingText: 'DIRECTING'\r\n    },\r\n    {mobile: 2, desktop: 1, \r\n        getWidget:  getTemperature,\r\n        getUpdate: TemperatureOnClick,\r\n        pendingText: 'CONVERTING'\r\n    },\r\n    {mobile: 3, desktop: 3, \r\n        getWidget:  getHumidity,\r\n        getUpdate: HumidityOnClick,\r\n        pendingText: 'RETRIEVING'\r\n    }     \r\n];\r\n    return (\r\n    <div ref={ref} id='readings-container' className={align ? 'readings-align' : 'readings-top' }  >\r\n        {ReadingsArrangement.sort((a,b) => align ? (a.mobile - b.mobile) : (a.desktop - b.desktop))\r\n            .map(widget =>\r\n                <div style={{margin: 'auto', padding: '2.0rem'}}>\r\n                    <SettingsButton title={widget.getWidget()}\r\n                            condense={true}\r\n                            buttonColor={'transparent'}\r\n                            buttonStyle={{border: 'none', margin: '0', padding: '0', borderRadius: '0.75rem'}}\r\n                            verifyLevel={0}\r\n                            pendingText={widget.pendingText}\r\n                            onUpdate = {widget.getUpdate}\r\n                        />\r\n                </div>\r\n            )\r\n        }\r\n    </div>\r\n    );\r\n});\r\n\r\n\r\n/* ------------------------------\r\nDepreciated For Now: 8/10/2022\r\n------------------------------ */\r\nconst ScrollText=(props)=>{\r\n    const boxRef = useRef();\r\n    const textRef = useRef();\r\n    const [scrollLeft, setScrollLeft] = useState(true);\r\n    const [minLeft, setMinLeft] = useState(0);\r\n    const [position, setPosition] = useState(0);\r\n\r\n    useEffect(()=>{\r\n        if(boxRef.current.offsetWidth > (props.parentRef.current.offsetWidth)) \r\n            setMinLeft(-1*(textRef.current.offsetWidth - (props.parentRef.current.offsetWidth)));\r\n    }, [boxRef, textRef]);\r\n\r\n    useInterval(()=>{ if(minLeft<0) {\r\n        if(position < minLeft) {setScrollLeft(false); setPosition(minLeft+1)}\r\n        if(position > 0) {setScrollLeft(true); setPosition(-1)}\r\n        setPosition(previous => scrollLeft ? (previous - 1) : (previous + 1));\r\n        textRef.current.style.transform = `translateX(${position}px)`;\r\n    }}, 20);\r\n\r\n    return (<span ref={boxRef} style={{display: 'grid', gridAutoFlow: 'column'}}><span style={{margin: 'auto'}}\r\n        >{props.leading}</span><p  ref={textRef} id={props.id} className={props.class}  style={{overflowX: 'visible'}}\r\n        >{props.text}</p><span style={{margin: 'auto'}}>{props.trailing}</span></span>);\r\n}\r\n\r\nexport default Readings;","export default __webpack_public_path__ + \"static/media/terrarium-buddies.3158d65c.jpg\";","import { useSelector} from 'react-redux';\r\nimport defaultImage from './terrarium-buddies.jpg';\r\nimport '../index.css';\r\nimport './Background.css';\r\n\r\n\r\nconst Background = (props) => {\r\n\r\n  const IMAGE = useSelector(root => root.image);\r\n\r\nreturn(\r\n    <div key='Background Component'>\r\n      <div key='background-black' style={{\r\n        position: 'absolute', \r\n        zIndex: 0,\r\n        height:'100vh', \r\n        width: '100vw', \r\n        backgroundColor: 'black'\r\n        }}></div>\r\n      <div key='Background Image' style={{position: 'absolute',  }}>\r\n        {/* <div key='background-cover' style={{\r\n        position: 'absolute', \r\n          zIndex: '3',\r\n          height:'100vh', \r\n          width: '100vw', \r\n          backgroundColor: 'black',\r\n          opacity: 0.4,\r\n\r\n          }}></div> */}\r\n        <img  className=\"blur-effect\" src={IMAGE.location || defaultImage} alt={'background-image'}  style={{\r\n          zIndex: '2',\r\n          display: 'block',\r\n          objectFit: 'cover',\r\n          overflow: 'hidden',\r\n          width: '100vw', \r\n          height: '100vh', \r\n          opacity: IMAGE.visible ? 0.9 : 0.3, \r\n          transition: `all ${IMAGE.TRANSITION_INTERVAL*0.6}ms ease`}}/>\r\n        \r\n      </div>\r\n    </div>\r\n);\r\n}\r\nexport default Background;","import React, {useState, useCallback, useEffect, useRef, useImperativeHandle} from 'react';\r\nimport { useHistory} from \"react-router-dom\";\r\nimport { useSelector, useDispatch} from 'react-redux';\r\nimport dateFormat from 'dateformat';\r\nimport useInterval from '../../useInterval';\r\nimport defaultImage from '../terrarium-buddies.jpg';\r\nimport '../../index.css';\r\n\r\nimport Readings from '../../Readings/Readings';\r\n\r\n\r\nconst TimeBar = (props) => {\r\n  const DATA = useSelector(root => root.data);\r\n\r\n  const [countUp, setCountUp] = useState(0);\r\n  useInterval(()=>{setCountUp((new Date().getTime() - DATA.timeLastReading));},1000);\r\n\r\n  return(<div className='none border-box' style={{position: 'fixed', bottom: 0, width: '100%', \r\n    padding: '0.3rem 1.0rem', \r\n    display: 'flex', justifyContent: 'space-between',\r\n    backgroundColor: 'black', color: 'whitesmoke', fontSize: '0.8rem', whiteSpace: 'wrap', overflowX: 'scroll',\r\n  }}>\r\n      <p className='none' style={{whiteSpace: 'nowrap', left: 0}} >{dateFormat(new Date().getTime(), 'dddd, mmmm d, yyyy h:MM')}</p>\r\n      <p className='none' style={{whiteSpace: 'nowrap', right: '100vw'}} >{isNaN(countUp) ? 'Disconnected' : countUp > 60000 ? `${Math.floor(countUp/60000)}:${countUp%60000<10000?'0':''}${Math.floor((countUp%60000)/1000)}` : `${Math.floor(countUp/1000)} seconds`}</p>\r\n  </div>);\r\n}\r\n\r\nconst ScreenSaver = React.forwardRef((props, ref) => {\r\n//  Detection & Timeout: https://codesandbox.io/s/5xrrr09r9k?file=/src/index.js:480-1530\r\n\r\nconst IMAGE = useSelector(root => root.image);\r\nconst DATA = useSelector(root => root.data);\r\nconst [serverError, setServerError] = useState(false);\r\nconst isScreenSaverActive = useSelector(root => root.isScreenSaverActive);\r\nconst [showScreenSaver, setShowScreenSaver] = useState(true);\r\nconst [screenSaverOpacity, setScreenSaverOpacity] = useState('0'); //CSS Inline String\r\nuseEffect(()=>{if(isScreenSaverActive && !serverError) {\r\n    // setScreenSaverOpacity('0');\r\n    setShowScreenSaver(true);\r\n    setTimeout(() => setScreenSaverOpacity('1'), ( 0.6*1000));\r\n  } else {\r\n    // setScreenSaverOpacity('1');\r\n    setTimeout(() => setScreenSaverOpacity('0'), ( 0.6*1000));\r\n    setTimeout(() => setShowScreenSaver(false), (1000));\r\n  }}, [isScreenSaverActive, serverError]);\r\nconst screenSaverBrightness = useSelector(root => root.screenSaverBrightness);\r\nconst dispatch = useDispatch();\r\nconst routeHistory = useHistory();\r\n\r\nconst calculateBrightness = () => { if(screenSaverBrightness.setting == 'Black') return 1.0;\r\n    if(screenSaverBrightness.setting == 'Scheduled') { const hour = 19;\r\n    let options=[{hour: screenSaverBrightness.blackHourStart, opacity: 0}, {hour: screenSaverBrightness.dayHourStart, opacity: screenSaverBrightness.dayOpacity}, {hour: screenSaverBrightness.nightHourStart, opacity:screenSaverBrightness.nightOpacity}];\r\n    options = options.sort((a,b) => (a.hour-b.hour));\r\n    console.log(options);\r\n    if((hour >= options[0].hour) && ((hour < options[1].hour) || (options[0].hour == options[1].hour)) && (options[0].hour >= 0 && options[0].hour <= 23)) return options[0].opacity;\r\n    if((hour >= options[1].hour) && ((hour < options[2].hour) || (options[1].hour == options[2].hour)) && (options[1].hour >= 0 && options[1].hour <= 23)) return options[1].opacity;\r\n    if((hour >= options[2].hour) || (hour < options[0].hour) && (options[2].hour >= 0 && options[2].hour <= 23)) return options[2].opacity;\r\n    }\r\n    return 1.0; //Default\r\n}\r\n\r\n//Evaluate Current Errors\r\n  useEffect(()=>{ const list = [];\r\n    if((DATA.sensorErrorCode == undefined) \r\n        || (DATA.sensorErrorCode) \r\n        || (DATA.maximumTemperatureErrorCode) \r\n        || (DATA.minimumTemperatureErrorCode) \r\n        || (DATA.maximumHumidityErrorCode) \r\n        || (DATA.minimumHumidityErrorCode) \r\n        || (DATA.accessDatabase != undefined && !DATA.accessDatabase)) setServerError(true);\r\n    else setServerError(false);\r\n  },[DATA]);\r\n\r\n//Screen Saver\r\nconst screensaverTimer = useRef();\r\nconst resetTimer = useRef();\r\nconst deactivateScreenSaver = useCallback((duration) => {\r\n  dispatch({type: 'deactivateScreenSaver'});\r\n    //Set Timer\r\n    clearTimeout(screensaverTimer.current);\r\n    screensaverTimer.current = setTimeout(() => dispatch({type: 'activateScreenSaver' }), duration || IMAGE.SCREENSAVER_INACTIVE_TIME);\r\n    clearTimeout(resetTimer.current);\r\n    if(isScreenSaverActive) resetTimer.current = setTimeout(()=>routeHistory.push('/'), (duration || IMAGE.SCREENSAVER_INACTIVE_TIME)*3);\r\n  }, []);\r\n  useEffect(()=>deactivateScreenSaver(),[]); //call initially\r\n\r\n      //Allows Parent: App.js to call on all mouse movements\r\n      useImperativeHandle(ref, () => ({\r\n        deactivateScreenSaver() {\r\n          deactivateScreenSaver();\r\n        }\r\n      }));\r\n    \r\nreturn((!showScreenSaver) ? <div className='none no-size'></div> : \r\n    <div key='ScreenSaver Component' style={{zIndex: 20,\r\n      position: 'absolute',\r\n      width: '100vw',\r\n      height: '100vh',\r\n      opacity: screenSaverOpacity,\r\n      transition: `all ${IMAGE.TRANSITION_INTERVAL*0.5}ms ease`\r\n    }}\r\n    // onClick={()=>deactivateScreenSaver()}\r\n    // onMouseMove={()=>deactivateScreenSaver()}\r\n    // onMouseLeave={()=>dispatch({type: 'activateScreenSaver' })}\r\n    >\r\n      <div key='ScreenSaver-black' style={{\r\n        position: 'absolute', \r\n        // zIndex: '0',\r\n        height:'100vh', \r\n        width: '100vw', \r\n        backgroundColor: 'black'\r\n        }}></div>\r\n      <div key='ScreenSaver Image' style={{position: 'absolute',  }}>\r\n        <img  className=\"\" src={IMAGE.location || defaultImage} alt={'screensaver'}  style={{\r\n          // zIndex: '9',\r\n          display: 'block',\r\n          objectFit: 'cover',\r\n          overflow: 'hidden',\r\n          width: '100vw', \r\n          height: '100vh', \r\n          opacity: IMAGE.isVisible ? calculateBrightness() : (calculateBrightness() > 0.2) ? 0.2 : 0,\r\n          transition: `all ${IMAGE.TRANSITION_INTERVAL*0.6}ms ease`}}/>\r\n      </div>\r\n          <Readings hideDetails={true}/>\r\n          <TimeBar />\r\n    </div>\r\n);\r\n\r\n});\r\n\r\nexport default ScreenSaver;","export default __webpack_public_path__ + \"static/media/frog-logo.61394956.png\";","\r\nimport React, {forwardRef} from 'react';\r\nimport { Link, useHistory, useLocation} from \"react-router-dom\";\r\nimport {useDispatch} from 'react-redux';\r\n\r\nimport '../index.css';\r\nimport './Menu.css';\r\nimport icon from './frog-logo.png';\r\n\r\n\r\nconst Menu = forwardRef((props, ref) => {\r\n    const routeHistory = useHistory();\r\n    const routeLocation = useLocation();\r\n    const dispatch = useDispatch();\r\n\r\n\r\n    return(<div>\r\n        <div id='menu-container-spacer'></div>\r\n        <div ref={ref} id='menu-container' className=' border-box' >\r\n            <div className='menu-icon-box' style={{ textDecoration: 'none' }} onClick={()=>{\r\n                if(routeLocation.pathname == '/') setTimeout(()=>dispatch({type: 'activateScreenSaver' }), 1500);\r\n                else routeHistory.push('/');\r\n            }}>\r\n                    <img className='menu-icon' src={icon} />\r\n                    <strong className='menu-icon-text'>Current</strong>\r\n            </div>\r\n            <Link to=\"/controls\" className='menu-icon-box' style={{ textDecoration: 'none' }}>\r\n                    <img className='menu-icon' src={icon} />\r\n                    <strong className='menu-icon-text'>Controls</strong>\r\n            </Link>\r\n            <Link to=\"/schedules\" className='menu-icon-box' style={{ textDecoration: 'none' }}>\r\n                <img className='menu-icon' src={icon} />\r\n                <strong className='menu-icon-text'>Schedules</strong>\r\n            </Link>\r\n            <Link to=\"/climate\" className='menu-icon-box' style={{ textDecoration: 'none' }}>\r\n                <img className='menu-icon' src={icon} />\r\n                <strong className='menu-icon-text'>Climate</strong>\r\n            </Link>\r\n            <Link to=\"/history\" className='menu-icon-box' style={{ textDecoration: 'none' }}>\r\n                <img className='menu-icon' src={icon} />\r\n                <strong className='menu-icon-text'>History</strong>\r\n            </Link>\r\n            <div className='menu-icon-box' style={{ textDecoration: 'none' }} onClick={()=>{\r\n                if(routeLocation.pathname == '/settings') routeHistory.push('/log');\r\n                else routeHistory.push('/settings');\r\n            }}>\r\n                    <img className='menu-icon' src={icon} />\r\n                <strong className='menu-icon-text'>Settings</strong>\r\n            </div>\r\n        </div>\r\n    </div>);\r\n});\r\n\r\nexport default Menu;","\r\nconst DURATION_LIST = [ //return in millisecond and interpret slider\r\n    {name: '1m', value: 1 * 60 * 1000},\r\n    {name: '2m', value: 2 * 60 * 1000},\r\n    {name: '3m', value: 3 * 60 * 1000},\r\n    {name: '4m', value: 4 * 60 * 1000},\r\n    {name: '5m', value: 5 * 60 * 1000},\r\n    {name: '6m', value: 6 * 60 * 1000},\r\n    {name: '7m', value: 7 * 60 * 1000},\r\n    {name: '8m', value: 8 * 60 * 1000},\r\n    {name: '9m', value: 9 * 60 * 1000},\r\n    {name: '10m', value: 10 * 60 * 1000},\r\n    {name: '15m', value: 15 * 60 * 1000},\r\n    {name: '30m', value: 30 * 60 * 1000},\r\n    {name: '45m', value: 45 * 60 * 1000},\r\n    {name: '1h', value: 60 * 60 * 1000},\r\n    {name: '2h', value: 2 * 60 * 60 * 1000},\r\n    {name: '3h', value: 3 * 60 * 60 * 1000},\r\n    {name: '4h', value: 4 * 60 * 60 * 1000},\r\n    {name: '5h', value: 5 * 60 * 60 * 1000},\r\n    {name: '6h', value: 6 * 60 * 60 * 1000},\r\n    {name: '12h', value: 12 * 60 * 60 * 1000},\r\n    {name: '1d', value: 24 * 60 * 60 * 1000},\r\n    {name: '3d', value: 3 * 24 * 60 * 60 * 1000},\r\n    {name: '1w', value: 7 * 24 * 60 * 60 * 1000},\r\n    {name: '2w', value: 14 * 24 * 60 * 60 * 1000},\r\n    {name: '1M', value: 30 * 24 * 60 * 60 * 1000},\r\n];\r\n\r\nexport default DURATION_LIST;\r\n\r\nexport const getDurationName = (v, places = 1) => {\r\n    try{const value = parseInt(v);\r\n            if((value / (30 * 24 * 60 * 60 * 1000)) >= 1) return `${Math.floor(value / (30 * 24 * 60 * 60 * 1000) * (places * 10))/(places * 10)}M`;\r\n            else if((value / (7 * 24 * 60 * 60 * 1000)) >= 1) return `${Math.floor(value / (7 * 24 * 60 * 60 * 1000) * (places * 10))/(places * 10)}w`;\r\n            else if((value / (24 * 60 * 60 * 1000)) >= 1) return `${Math.floor(value / (24 * 60 * 60 * 1000) * (places * 10))/(places * 10)}d`;\r\n            else if((value / (60 * 60 * 1000)) >= 1) return `${Math.floor(value / (60 * 60 * 1000) * (places * 10))/(places * 10)}h`;\r\n            else if((value / (60 * 1000)) >= 1) return `${Math.floor(value / (60 * 1000))}m`;\r\n            else return 'ZERO';\r\n    } catch(error){return 'INVALID';}\r\n}\r\n\r\nexport const getDurationValue = (name) => {\r\n    try{ const cleanedValue = /\\d+/.exec(name)[0];\r\n        const value = parseInt(cleanedValue);\r\n        const label = /[a-zA-Z]+/.exec(name)[0];\r\n\r\n        if(label == 'm') return value * 60 * 1000;\r\n        else if(label == 'h')  return value * 60 * 60 * 1000;\r\n        else if(label == 'd')  return value * 24 * 60 * 60 * 1000;\r\n        else if(label == 'w')  return value * 7 * 24 * 60 * 60 * 1000;\r\n        else if(label == 'M')  return value * 30 * 24 * 60 * 60 * 1000;\r\n        else return value;\r\n    } catch(error){return 0;}\r\n}","import React, {useState, useEffect} from 'react';\r\nimport { useSelector} from 'react-redux';\r\nimport axios from 'axios';\r\nimport useInterval from '../useInterval';\r\nimport DURATION_LIST from './Duration';\r\nimport SettingsButton, {HoldButton} from '../Settings/SettingsButton';\r\nimport {fetchData} from '../index';\r\n\r\nimport '../index.css';\r\nimport './Control.css';\r\n\r\nconst ACTIVE_COLOR = 'rgba(0, 102, 0, 0.6)';\r\nconst DEACTIVE_COLOR = 'rgba(0, 0, 0, 0.5)';\r\nconst EXCLUDE_CONTROL_TYPES = ['On', 'Off'];\r\n\r\n//auto generate type button\r\n\r\nconst MakeToggle = (props) => {\r\n    const [timer, setTimer] = useState(1);\r\n    const interval = useInterval(()=>{setTimer((props.until - new Date().getTime()) * (((props.until - new Date().getTime()) < 0) ? -1 : 1)); }, 1000);\r\n    const overridden = /(severe|schedule|toggle|immediate)/i.test(props.topReason);\r\n    const severe = /(severe|extreme)/i.test(props.topReason);\r\n\r\n    return (\r\n    <div className='none control-toggle-outer' style={{}} onClick={props.onClick}> \r\n        <div className='none control-toggle-inner' style={{borderColor: props.isSelected ? 'whitesmoke' : props.select ? 'transparent' : overridden ? 'var(--accent-color)' : 'transparent',\r\n                backgroundColor: severe ? 'darkred' : props.active ? ACTIVE_COLOR : DEACTIVE_COLOR, }}>\r\n            <strong className='none control-toggle-text'>{props.title}</strong>\r\n            <p className='none control-toggle-timer' style={{}} >{props.topReason}</p>\r\n            <p className='none control-toggle-timer' style={{fontSize: '0.75rem', color: ((props.until - new Date().getTime()) < 0) ? 'gold' : null}} >{(props.until <= 0) ? `${props.active ? 'ON' : 'OFF'} : INDEFINITELY` : `${(timer>3600000)?`${Math.floor(timer/3600000)}:`:''}${(timer>60000)?`${Math.floor((timer%3600000)/60000)}:`:''}${((timer>60000) && (timer%60000<10000))?'0':''}${Math.floor((timer%60000)/1000)}` }</p>\r\n        </div>\r\n    </div>\r\n    );\r\n}\r\n\r\n\r\nexport default function Control(props) {\r\n    const SERVER_URL = useSelector(root => root.serverURL);\r\n    const DATA = useSelector(root => root.data);\r\n    const [durationIndex, setDurationIndex] = useState(10)\r\n    const [selectMode, setSelectMode] = useState(false);\r\n    const [selectedList, setSelectedList] = useState([]);\r\n    const [controlTypes, setControlTypes] = useState([]);\r\n    useEffect(()=>{if(DATA.controlTypes != undefined) setControlTypes(DATA.controlTypes);\r\n                const smartIndex = DURATION_LIST.findIndex(d=>(d.value > (DATA.timeNextEvaluation - new Date().getTime())))-1;  \r\n                if(smartIndex > 4) setDurationIndex(smartIndex); },[DATA]);\r\n\r\n    const shortedNameList = (names) => {  \r\n        for(var i=0; i<DATA.controlTypes.length; i++) {let match = true;\r\n            for(var y=0; y<DATA.CONTROLS.length; y++) {\r\n                if((names.includes(DATA.CONTROLS[y].name) && !DATA.CONTROLS[y].types.includes(DATA.controlTypes[i]))\r\n                    || !names.includes(DATA.CONTROLS[y].name) && DATA.CONTROLS[y].types.includes(DATA.controlTypes[i])) { match = false; break;}\r\n            } if(match) return `[${DATA.controlTypes[i]}]`;\r\n        } let result = '';\r\n         names.forEach(name =>  result += ('-'+(name.match(/\\b(\\w)/g).join('.'))));\r\n        return `(${result.substring(1).toUpperCase()})`;//removes first dash :)\r\n    }\r\n\r\n    const scheduleNow = async(password, names, set = true, reason = `Immediate ${shortedNameList(names)}`) =>  await axios.post(`${SERVER_URL}/schedule-add/`, {\r\n                                PASSWORD: password, time: new Date().getTime(), title: reason, names: JSON.stringify(names), duration: DURATION_LIST[durationIndex].value, set: (set || set == 'true'), repeat: 0\r\n                            }).then((response) => {setTimeout(()=>fetchData(),10000); return 'EXECUTING';}).catch((error) => error.response ? error.response.status : false);\r\n\r\n    //Filter Control Types List\r\n    const getControlTypes = () => { const typesMap = new Map();\r\n        //Populate Map    \r\n        DATA.CONTROLS.forEach((c,i)=>c.types.forEach(t=>typesMap.set(t, [...(typesMap.get(t) || []), c.id])));\r\n        //Filter            \r\n        return [...typesMap].filter(([type, controlList], index, mapList) => \r\n                (controlList.length > 1) \r\n                && (selectMode || !EXCLUDE_CONTROL_TYPES.includes(type)) \r\n                && (mapList.findIndex(([k, v], i) => (v.toString() == controlList.toString())) === index) //Remove Duplicates\r\n            ).map(([type, controlList])=>type);\r\n    }\r\n\r\n\r\n    return(\r\n        <div id='control-container'>\r\n            <div id='duration-box' >\r\n                <label id='duration-label' style={{color:'white'}} onClick={()=>setDurationIndex(10)}>{DURATION_LIST[durationIndex].name}</label>\r\n                <input id='duration-slider' type='range' min={0} max ={DURATION_LIST.length-1} value={durationIndex} onChange={(event) => setDurationIndex(event.target.value)} />\r\n            </div>\r\n            <div id='control-box'>\r\n                {DATA.CONTROLS === undefined ? <div></div> :\r\n                DATA.CONTROLS.map((c) => <SettingsButton key={c.name} \r\n                    title={\r\n                        <MakeToggle \r\n                            title={c.name} \r\n                            active= {(c.settings[0].set || c.settings[0].set == 'true')}\r\n                            topReason= {c.settings[0].reason}\r\n                            until= {c.settings[0].until}\r\n                            select={selectMode}\r\n                            isSelected = {selectedList.includes(c.name)}\r\n                            onClick={()=>{}}\r\n        \r\n                        />}\r\n                    pendingText='SCHEDULING'\r\n                    condense={true}\r\n                    buttonColor={'transparent'}\r\n                    buttonStyle={{border: 'none', margin: '1.0rem', padding: '0', width: '15.0rem'}}\r\n                    verifyLevel={1}\r\n                    onUpdate = {(password) =>  {if(selectMode) {(selectedList.includes(c.name) ? setSelectedList((list) => [...list.filter(name => name !== c.name)]) : setSelectedList((list) => [...list, c.name])); return null;}\r\n                            else return scheduleNow(password, [c.name], !(c.settings[0].set || (c.settings[0].set == 'true')), `Toggle ${shortedNameList([c.name])}`)}}/>)\r\n                    }\r\n            </div>\r\n                <div id='control-select-box'>\r\n                    <SettingsButton title={selectMode ? 'ALL' : 'ON'}\r\n                        pendingText='ACTIVATING'\r\n                        condense={true}\r\n                        buttonColor={'rgba(0, 0, 0, 0.95)'}\r\n                        buttonStyle={{border: 'none', padding: '0.70rem 2rem', fontSize: '0.9rem', width: 'auto', minWidth: '6.0rem', borderRadius: '0.5rem'}}\r\n                        verifyLevel={1}\r\n                        onUpdate={(password)=>selectMode ? setSelectedList([...DATA.CONTROLS.map(c=>c.name)]) : scheduleNow(password, [...DATA.CONTROLS.map(c=>c.name)], true, 'ALL ON')} />\r\n                    <SettingsButton title='ACTIVE'\r\n                        pendingText='SCHEDULING'\r\n                        condense={true}\r\n                        buttonColor={'rgba(0, 0, 0, 0.95)'}\r\n                        buttonStyle={{display: !selectMode ? 'none' : null, border: 'none', padding: '0.70rem 2rem', fontSize: '0.9rem', width: 'auto', minWidth: '6.0rem', borderRadius: '0.5rem'}}\r\n                        verifyLevel={1}\r\n                        onUpdate={(password)=>selectMode ? setSelectedList([...DATA.CONTROLS.filter((c)=>c.settings[0].set).map(c=>c.name)]) : scheduleNow(password, [...DATA.CONTROLS.filter((c)=>c.settings[0].set).map(c=>c.name)], false, 'DEACTIVATING')} />\r\n                    <SettingsButton title='INACTIVE'\r\n                        pendingText='SCHEDULING'\r\n                        condense={true}\r\n                        buttonColor={'rgba(0, 0, 0, 0.95)'}\r\n                        buttonStyle={{display: !selectMode ? 'none' : null, border: 'none', padding: '0.70rem 2rem', fontSize: '0.9rem', width: 'auto', minWidth: '6.0rem', borderRadius: '0.5rem'}}\r\n                        verifyLevel={1}\r\n                        onUpdate={(password)=>selectMode ? setSelectedList([...DATA.CONTROLS.filter((c)=>!c.settings[0].set).map(c=>c.name)]) : scheduleNow(password, [...DATA.CONTROLS.filter((c)=>!c.settings[0].set).map(c=>c.name)], true, 'ACTIVATING')} />\r\n                    {getControlTypes().map((t,i)=><SettingsButton key={t} title={t}\r\n                        pendingText='SCHEDULING'\r\n                        condense={true}\r\n                        buttonColor={'rgba(0, 0, 0, 0.95)'}\r\n                        buttonStyle={{border: 'none', padding: '0.70rem 2rem', fontSize: '0.9rem', width: 'auto',  minWidth: '6.0rem', borderRadius: '0.5rem'}}\r\n                        verifyLevel={1}\r\n                        onUpdate={(password)=>selectMode ? setSelectedList(original => [...DATA.CONTROLS.filter((c)=>c.types.includes(t)).map(c=>c.name)].every((val, i, arr) => selectedList.includes(val)) \r\n                                    ? [...DATA.CONTROLS.filter((c)=>(!c.types.includes(t) && original.includes(t))).map(c=>c.name)] \r\n                                    : [...DATA.CONTROLS.filter((c)=>c.types.includes(t)).map(c=>c.name)]) \r\n                                    : scheduleNow(password, [...DATA.CONTROLS.filter((c)=>c.types.includes(t)).map(c=>c.name)], \r\n                                        ([...DATA.CONTROLS.filter((c)=>c.types.includes(t))].every((val, i, arr) => val.settings[0].set == arr[0].settings[0].set) && [...DATA.CONTROLS.filter((c)=>c.types.includes(t))].length)\r\n                                        ? ![...DATA.CONTROLS.filter((c)=>c.types.includes(t))][0].settings[0].set : true, `Immediate ${t}`)} />)}\r\n                     <SettingsButton title={selectMode ? 'NONE' : 'OFF'}\r\n                        pendingText='DEACTIVATING'\r\n                        condense={true}\r\n                        buttonColor={'rgba(0, 0, 0, 0.95)'}\r\n                        buttonStyle={{border: 'none', padding: '0.70rem 2rem', fontSize: '0.9rem', width: 'auto', minWidth: '6.0rem', borderRadius: '0.5rem'}}\r\n                        verifyLevel={1}\r\n                        onUpdate={(password)=>selectMode ? setSelectedList([]) : scheduleNow(password, [...DATA.CONTROLS.map(c=>c.name)], false, 'ALL OFF')} />\r\n                </div>\r\n            {selectMode ? \r\n                <div id='control-select-box'>\r\n                    <SettingsButton title='ON'\r\n                        pendingText='ACTIVATING'\r\n                        condense={true}\r\n                        // buttonColor={'rgba(255, 255, 255, 0.5)'}\r\n                        buttonStyle={{border: 'none', padding: '0.45rem 2rem', width: 'auto',  minWidth: '6.0rem', borderRadius: '0.5rem', color: 'black'}}\r\n                        verifyLevel={1}\r\n                        onUpdate={(password)=>scheduleNow(password, selectedList, true)} />\r\n                    <SettingsButton title='OFF'\r\n                        pendingText='DEACTIVATING'\r\n                        condense={true}\r\n                        // buttonColor={'rgba(255, 255, 255, 0.5)'}\r\n                        buttonStyle={{border: 'none', padding: '0.45rem 2rem', width: 'auto', minWidth: '6.0rem', borderRadius: '0.5rem', color: 'black'}}\r\n                        verifyLevel={1}\r\n                        onUpdate={(password)=>scheduleNow(password, selectedList, false)} />\r\n                    <button className='none control-button control-button-exit' onClick={()=>{setSelectMode(false); setSelectedList([]);}}>Exit</button>\r\n                    {/* <button className='none control-button' onClick={()=>{}}>Schedule</button> */}\r\n                </div>\r\n                : <div id='control-select-box'>\r\n                    <button className='none control-button' onClick={()=>setSelectMode(true)}>Select</button>\r\n                </div>\r\n            }\r\n            <HoldButton duration={DURATION_LIST[durationIndex].value} verifyLevel={(DURATION_LIST[durationIndex].value < (24*60*60*1000)) ? 1 : 2} buttonStyle={{padding: '0.4rem'}}/>\r\n        </div>\r\n    );\r\n}\r\n\r\n\r\n\r\n","import React, {useState,  useEffect} from 'react';\r\nimport { useSelector, useDispatch} from 'react-redux';\r\nimport axios from 'axios';\r\nimport dateFormat from 'dateformat';\r\nimport DURATION_LIST, {getDurationName, getDurationValue} from '../Duration';\r\nimport SettingsButton, {HoldButton} from '../../Settings/SettingsButton';\r\nimport Verify from '../../Verify';\r\n\r\nimport '../../index.css';\r\nimport './Schedule.css';\r\n\r\nconst getButtonColor=(buttonText)=> (buttonText=='UPDATE' || buttonText=='') ? 'var(--main-color)' : (buttonText=='PASS' || buttonText=='INVALID' || buttonText=='FAILED') ? '#e8000d' : (buttonText=='PENDING' || buttonText=='BLANK') ? 'orange' : '#cc5500';\r\n\r\nconst DropMenu = (props) => {\r\n    const [custom, setCustom] = useState(props.customDefault);\r\n    const [multipleList, setMultipleList] = useState(props.multipleList);\r\n    const openList = useSelector(root => root.dropListOpen);\r\n    const dispatch = useDispatch();\r\n\r\n    useEffect(()=>{setMultipleList(props.multipleList);},[props.multipleList]); //Syncing single selection with custom\r\n    useEffect(()=>{setCustom(props.customDefault);},[props.customDefault]); //Syncing single selection with custom\r\n\r\n\r\n    //Guidelines Abstracted\r\n    const buttonColor = (props.buttonColor != undefined) ? props.buttonColor : '';\r\n    const customName = (props.customName != undefined) ? props.customName : false;\r\n    const inputType = (props.inputType != undefined) ? props.inputType : 'text';\r\n    const selectMultiple = (multipleList != undefined);\r\n\r\n    return(<div className='schedule-drop-menu-container' style={props.outerStyle} onFocus={()=>{}} onBlur={()=>{}} >\r\n        <button className={`schedule-input schedule-drop-menu-button ${props.buttonStyleClass || ''}`} style={{color: (isNaN(props.value)) ? 'white' : buttonColor, backgroundColor: (isNaN(props.value)) ? buttonColor : null}} onClick={()=>dispatch({type: 'setDropList', payload: props.dropListId})}>{(props.value != undefined) ? props.value : (props.multipleList != undefined) ? props.multipleList.toString() : ''}{props.subValue ? <span><label style={{color: 'grey', margin: '0 0.5rem'}}>|</label><label style={{color: 'orange'}}>{props.subValue || ''}</label></span> : null}</button>\r\n        {(openList == props.dropListId) ? <div className='schedule-drop-menu-list' style={{top: props.options.length <= 5 ? null : '5vh'}}>\r\n                    <button key='cancel-button' className='schedule-drop-menu-item' style={{borderBottom: '1px solid whitesmoke', color: 'var(--main-color)'}} onClick={()=>{\r\n                                dispatch({type: 'setDropList'});\r\n                            }}>Cancel</button>\r\n            {selectMultiple ? <button key='save-button-1' className='schedule-drop-menu-item schedule-save-button' style={{borderBottom: '1px solid whitesmoke', marginTop: 0}} onClick={()=>{\r\n                        props.onSelect(multipleList);\r\n                        dispatch({type: 'setDropList'});\r\n                    }}>SAVE</button>:<div className='none no-size'></div>}\r\n                {props.options.map((option, i) => \r\n                    <button key={`${option}-${JSON.stringify(multipleList)}`} className='schedule-drop-menu-item' style={{ border: (selectMultiple ? multipleList.includes(option) : props.value == option) ? '1px solid var(--main-color)' : 'none', backgroundColor: (option == 'UPDATE') ? 'var(--main-color)' : (option == 'DELETE') ? 'red' : '',  color: (option == 'UPDATE') ? 'white' : (option == 'DELETE') ? 'black' : ''}} onClick={()=>{\r\n                        if(selectMultiple && multipleList.includes(option)) setMultipleList(multipleList.filter(m => m != option));\r\n                        else if(selectMultiple) setMultipleList([...multipleList, option]);\r\n                        else { props.onSelect(option);\r\n                        dispatch({type: 'setDropList'});\r\n                    }}}>{option}</button>\r\n                )}\r\n                {(props.extraList && selectMultiple) ? <button key='save-button-2' className='schedule-drop-menu-item schedule-save-button' style={{borderTop: '1px solid whitesmoke', borderBottom: '1px solid whitesmoke'}} onClick={()=>{\r\n                        props.onSelect(multipleList);\r\n                        dispatch({type: 'setDropList'});\r\n                    }}>{props.extraName || 'SAVE'}</button>:<div className='none no-size'></div>}\r\n                {props.extraList ? props.extraList.map((option, i) => \r\n                    <button key={`${option}-${JSON.stringify(multipleList)}`} className='schedule-drop-menu-item' style={{border: (selectMultiple ? multipleList.includes(option) : props.value == option) ? '1px solid var(--main-color)' : 'none', backgroundColor: (option == 'UPDATE') ? 'var(--main-color)' : (option == 'DELETE') ? 'red' : '',  color: (option == 'UPDATE') ? 'white' : (option == 'DELETE') ? 'black' : ''}} onClick={()=>{\r\n                        props.onExtra(option);\r\n                        dispatch({type: 'setDropList'});\r\n                    }}>{option}</button>\r\n                ) : null}\r\n                {customName ? <div className='none' style={{display:'inline-grid', gridColumn: 1}}>\r\n                        <input key='settings-add-input' type={inputType} className='schedule-drop-menu-item' style={{gridColumn: 1, width: '10.0rem', border: 'none', borderRadius: 0, border: '1px solid whitesmoke', backgroundColor: 'black', color: 'white'}} \r\n                            value={custom}\r\n                            onChange={(c)=>setCustom(c.target.value)}\r\n                            onKeyPress={(e)=>{ if (e.charCode == 13) {\r\n                                props.onSelect(selectMultiple ? [...multipleList, custom] : custom);\r\n                                dispatch({type: 'setDropList'});\r\n                            }}}/>\r\n                        <button key='settings-add-button' className='schedule-drop-menu-item' style={{gridColumn: 2, border: 'none', borderRadius: 0, borderBottom: '1px solid whitesmoke', backgroundColor: 'whitesmoke', color: 'black'}} onClick={()=>{\r\n                                props.onSelect(selectMultiple ? [...multipleList, custom] : custom);\r\n                                dispatch({type: 'setDropList'});\r\n                            }}>{customName}</button>\r\n                </div> : <div className='none no-size'></div>}\r\n                {selectMultiple ? <button key='save-button-3' className='schedule-save-button schedule-drop-menu-item ' style={{borderTop: '1px solid whitesmoke', marginBottom: 0}} onClick={()=>{\r\n                        props.onSelect(multipleList);\r\n                        dispatch({type: 'setDropList'});\r\n                    }}>SAVE</button>:<div className='none no-size'></div>}\r\n            </div>\r\n        : <div ></div>}\r\n    </div>);\r\n}\r\nconst getDateAbbreviation = (t) => {const time = parseInt(t) || 0;\r\n    const day = new Date(time).getDate(); \r\n    if(day == 1 || day == 21 || day == 31) return `${dateFormat(time, 'mmm')}, ${day}st`;\r\n    else if(day == 2 || day == 22) return `${dateFormat(time, 'mmm')}, ${day}nd`;\r\n    else if(day == 3 || day == 23) return `${dateFormat(time, 'mmm')}, ${day}rd`;\r\n    else return `${dateFormat(time, 'mmm')}, ${day}th`;\r\n}\r\n//labels yesterday, today, tomorrow, within week (sunday); otherwise date with abbreviation\r\nconst getDay = (t) => { const time = parseInt(t) || 0; let today = new Date(); today.setHours(0,0,0,0); const tomorrow = new Date(today.getTime()+(24*60*60*1000)); const yesterday = new Date(today.getTime()-(24*60*60*1000)); \r\n    if(time >= today.getTime() && time < tomorrow.getTime()) return `Today`;\r\n    if(time >= tomorrow.getTime() && time < (new Date(tomorrow.getTime()+(24*60*60*1000)).getTime())) return `Tomorrow`;\r\n    if(time >= (new Date(yesterday.getTime()-(24*60*60*1000)).getTime()) && time < today.getTime()) return `Yesterday`;\r\n    if(time >= (new Date(today.getTime()-(6*24*60*60*1000)).getTime()) && time <= (new Date(today.getTime()+(7*24*60*60*1000)).getTime())) {\r\n        const day = new Date(time).getDay();    \r\n        return day == 0 ? 'Sunday' : day == 1 ? 'Monday' : day == 2 ? 'Tuesday' : day == 3 ? 'Wednesday' : day == 4 ? 'Thursday' : day == 5 ? 'Friday' : day == 6 ? 'Saturday' : 'New Day';\r\n    } else return getDateAbbreviation(time);\r\n}\r\nconst getDateList = () => { const list = [];\r\n        let time = new Date(); time = time.setHours(7,0,0,0); \r\n        for(var i=(0); i<(30); i++){  list.push(time); time += (24*60*60*1000);  }\r\n        return list;\r\n    }\r\nconst DropDateMenu = (props) => {\r\n    const openList = useSelector(root => root.dropListOpen);\r\n    const [customDate, setCustomDate] = useState(props.time);\r\n    // const [customTime, setCustomTime] = useState((props.time % (24*60*60*1000))/(60000)); //Handle Time Locally below in <input/>\r\n    // useEffect(()=>{setCustomDate(props.time); setCustomTime(props.time % (24*60*60*1000));}, [props.time])\r\n    const dispatch = useDispatch();\r\n    return(<div className='schedule-drop-menu-container' style={props.outerStyle} onFocus={()=>{}} onBlur={()=>{}} >\r\n        <button className={`schedule-input schedule-drop-menu-button ${props.buttonStyleClass || ''}`} onClick={()=>dispatch({type: 'setDropList', payload: props.dropListId})}>{`${getDay(props.time)} ${dateFormat(parseInt(props.time) || 0, 'H:MM')}`}</button>\r\n        {(openList == props.dropListId) ? <div className='schedule-drop-date-menu' style={{}} >\r\n                <div className='schedule-drop-menu-list' style={{top: '5vh', gridRow: 1, gridColumn: 1, left: '2.0rem'}}>         \r\n                    <label key='cancel-button' className='schedule-drop-menu-item' style={{gridRow: (1), borderBottom: '1px solid whitesmoke', color: 'var(--main-color)'}} onClick={()=>{\r\n                               dispatch({type: 'setDropList'});\r\n                            }}>Cancel</label>  \r\n                    {getDateList().map((t, i) => \r\n                        <label key={t} className='schedule-drop-menu-item' style={{gridRow: (i+2), border: ((new Date(props.time).getMonth() == (new Date(t).getMonth())) && (new Date(props.time).getDate() == (new Date(t).getDate()))) ? '1px solid var(--main-color)' : 'none'}} onClick={()=>{\r\n                            props.onSelect(t);\r\n                            // dispatch({type: 'setDropList'});\r\n                        }}>{getDay(t)}</label>)}\r\n                    <div className='none' style={{display:'inline-grid', gridColumn: 1}}>\r\n                        <input key='settings-add-input' type='number' step={24*60*60*1000} className='schedule-drop-menu-item' style={{gridColumn: 1, width: '10.0rem', border: 'none', borderRadius: 0, border: '1px solid whitesmoke', backgroundColor: 'black', color: 'white'}} \r\n                            value={customDate}\r\n                            onChange={(c)=>setCustomDate(c.target.value)}\r\n                            onKeyPress={(e)=>{ if (e.charCode == 13) {\r\n                                props.onSelect(customDate);\r\n                                dispatch({type: 'setDropList'});\r\n                            }}}/>\r\n                        <button key='settings-add-button' className='schedule-drop-menu-item' style={{gridColumn: 2, border: 'none', borderRadius: 0, borderBottom: '1px solid whitesmoke', backgroundColor: 'whitesmoke', color: 'black'}} onClick={()=>{\r\n                                props.onSelect(customDate);\r\n                                dispatch({type: 'setDropList'});\r\n                            }}>EPOCH</button>\r\n                    </div>\r\n                </div>\r\n                <div className='schedule-drop-menu-list' style={{top: '5vh', gridRow: 1, gridColumn: 1, right: '2.0rem'}}>  \r\n                        <label key='cancel-button' className='schedule-drop-menu-item' style={{gridRow: (1), borderBottom: '1px solid whitesmoke', color: 'var(--main-color)'}} onClick={()=>{\r\n                                dispatch({type: 'setDropList'});\r\n                            }}>Cancel</label>               \r\n                    {[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24].map((h, i) => \r\n                        <label key={h} className='schedule-drop-menu-item' style={{gridRow: (i+2), border: (new Date(props.time).getHours() == (h)) ? '1px solid var(--main-color)' : 'none'}} onClick={()=>{\r\n                            props.onSelect(new Date(props.time).setHours(h,0,0,0)); setCustomDate(new Date(props.time).setHours(h,0,0,0));\r\n                            dispatch({type: 'setDropList'});\r\n                        }}>{h} : 00</label>)}\r\n                        <div className='none' style={{display:'inline-grid', gridColumn: 1}}>\r\n                        <input key='settings-add-input' type='number' step={60} className='schedule-drop-menu-item' style={{gridColumn: 1, width: '10.0rem', border: 'none', borderRadius: 0, border: '1px solid whitesmoke', backgroundColor: 'black', color: 'white'}} \r\n                            value={(new Date(customDate).getHours()*60) + (new Date(customDate).getMinutes())}\r\n                            onChange={(c)=>setCustomDate(new Date(props.time).setHours(0,(c.target.value),0,0))}\r\n                            onKeyPress={(e)=>{ if (e.charCode == 13) {\r\n                                props.onSelect(customDate);\r\n                                dispatch({type: 'setDropList'});\r\n                            }}}/>\r\n                        <button key='settings-add-button' className='schedule-drop-menu-item' style={{gridColumn: 2, border: 'none', borderRadius: 0, borderBottom: '1px solid whitesmoke', backgroundColor: 'whitesmoke', color: 'black'}} onClick={()=>{\r\n                                props.onSelect(customDate);\r\n                                dispatch({type: 'setDropList'});\r\n                            }}>Time (m)</button>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        : <div ></div>}\r\n    </div>);\r\n}\r\n\r\nconst ScheduleRow = (props) => {\r\n    const DATA = useSelector(root => root.data);   \r\n    const dispatch = useDispatch(); \r\n    const [pendingAction, setPendingAction] = useState(undefined);\r\n    const [verification, setVerification] = useState(undefined);\r\n    const [buttonText, setButtonText] = useState('');\r\n\r\n    const [priority, setPriority] = useState(props.priority || null);\r\n    const [time, setTime] = useState(props.time || new Date().setMinutes(0,0,0));\r\n    const [title, setTitle] = useState(props.title || '');\r\n    const [titleEdited, setTitleEdited] = useState(false); //Detect Auto Populate Name\r\n    const [names, setNames] = useState(props.names || []);\r\n    const [duration, setDuration] = useState(props.duration || (15*60*1000));\r\n    const [set, setSet] = useState(props.set || true);\r\n    const [repeat, setRepeat] = useState(props.repeat || 0);\r\n\r\n    const resetVariables = (clear = false) => { \r\n        setPriority(props.priority || null);\r\n        setTime((clear || props.time == undefined) ? new Date().setMinutes(0,0,0) : props.time);\r\n        setTitle((clear || props.title == undefined) ? '' : props.title);\r\n        setNames((clear || props.names == undefined) ? [] : props.names);\r\n        setDuration((clear || props.duration == undefined) ? (15*60*1000) : props.duration);\r\n        setSet((clear || props.set == undefined) ? true : props.set);\r\n        setRepeat((clear || props.repeat == undefined) ? 0 : props.repeat);\r\n        if(clear) setButtonText('NEW');\r\n    }\r\n    useEffect(()=>resetVariables(),[props]);    \r\n    useEffect(()=>resetVariables(),[props]); \r\n\r\n    //Guidelines Abstracted\r\n    const verifyLevel = (props.verifyLevel != undefined) ? props.verifyLevel : 1;\r\n    const insertNew = (props.insertNew != undefined);\r\n\r\n    const isControlsChanged = () => {if(!props.names) return true;\r\n        if(Array.isArray(props.names))\r\n        for(var i=0; i<props.names.length; i++) {\r\n                if(!names.includes(props.names[i])) return true;\r\n        } if(Array.isArray(names))\r\n        for(var y=0; y<names.length; y++) {\r\n            if(!props.names.includes(names[y])) return true;\r\n        } return false;\r\n    }\r\n    const isTimeChanged = () =>(!props.time || props.time != time);\r\n    const isTitleChanged = () =>(!props.title || props.title != title);\r\n    const isDurationChanged = () =>(!props.duration || props.duration != duration);\r\n    const isSetChanged = () =>(props.set != set);\r\n    const isRepeatChanged = () => (props.repeat == undefined || props.repeat != repeat);\r\n    const isChanged=()=>{\r\n        if(isTimeChanged()) return true;\r\n        if(isTitleChanged()) return true;\r\n        if(!props.names || isControlsChanged()) return true;\r\n        if(isDurationChanged()) return true;\r\n        if(isSetChanged()) return true;\r\n        if(isRepeatChanged()) return true;\r\n        return false;\r\n    }\r\n    const isControlsValid = () => {\r\n        if(Array.isArray(names)) {\r\n            if(names.length == 0) return false;\r\n            for(var i=0; i<names.length; i++) {\r\n                if(names[i] == undefined) return false;\r\n        }} else if(!names || !names.length) return false;\r\n        return true;\r\n    }\r\n    const isTimeValid = () =>(time && !isNaN(time));\r\n    const isTitleValid = () =>(title && title != '');\r\n    const isDurationValid = () =>(duration && !isNaN(duration));\r\n    const isSetValid = () =>(set == false || set == true);\r\n    const isRepeatValid = () => (repeat != null && repeat != undefined && !isNaN(repeat));\r\n    useEffect(()=>{ let text = isChanged() ? 'UPDATE' : ''; \r\n        if(!isTimeValid()) text='TIME';\r\n        if(!isTitleValid()) text='TITLE';\r\n        if(!isControlsValid()) text='CONTROLS';\r\n        if(!isDurationValid()) text='DURATION';\r\n        if(!isSetValid()) text='SET';\r\n        if(!isRepeatValid()) text='REPEAT';\r\n        setButtonText(text);\r\n    \r\n    if(!titleEdited && insertNew && names.length) \r\n        setTitle(`${shortedNameList()} ${set ? 'On' : 'Off'} for ${(duration>3600000)?`${Math.floor(duration/3600000)}:`:''}${(duration>60000)?`${Math.floor((duration%3600000)/60000)}:`:''}${((duration>60000) && (duration%60000<10000))?'0':''}${Math.floor((duration%60000)/1000)}`);\r\n    }, [priority, time, title, names, duration, set, repeat]);\r\n        \r\n    //*********************************\r\n    //   API REQUEST & VERIFICATION\r\n    //*********************************\r\n    const makeRequest=async(password, action)=>{ setVerification(undefined); //saving local until fetch up stream is called to replace data \r\n        if(verifyLevel == 1 && !localStorage.getItem(\"password\")) await localStorage.setItem(\"password\", password.toString());\r\n        const success = await props.onUpdate(action || pendingAction, password, priority, time, title, names, duration, set, repeat);\r\n        if(success == true || isNaN(success)) {setButtonText((success != true) ? success : 'SAVED'); setTimeout(()=>{if(insertNew) resetVariables(true);}, 5000);}\r\n        else if(success == 401) { setButtonText('PASS');  localStorage.clear(); setTimeout(()=>setButtonText('UPDATE'), 5000);}\r\n        else if(success == 404) { setButtonText('INVALID');  setTimeout(()=>resetVariables(), 5000);}\r\n        else {setButtonText('FAILED');  setTimeout(()=>resetVariables(), 5000);}\r\n        setPendingAction(undefined);\r\n        return buttonText;\r\n    }\r\n\r\n    const processUpdate=async(action)=>{ setButtonText('PENDING'); if(action) setPendingAction(action); \r\n        if(verifyLevel == 0) makeRequest(undefined, action); //No Security\r\n        else if(verifyLevel == 1 && !localStorage.getItem(\"password\")) setVerification('Enter Control Password to Continue:'); //Only Request if not stored\r\n        else if(verifyLevel == 1) makeRequest(localStorage.getItem(\"password\"), action); //Use Saved Password\r\n        else setVerification('Enter Advanced Passphrase to Proceed:'); //undefined || >1\r\n    }\r\n\r\n    //*********************************\r\n    //   HTML DISPLAY\r\n    //*********************************\r\n    const shortedNameList = (space = window.innerWidth) => { \r\n        if(!DATA.CONTROLS || !names || names.length == 0) return '-'; \r\n        if(DATA.CONTROLS != undefined && names.length == DATA.CONTROLS.length) return '[ALL]'; \r\n        if(names.length > 1) //Identify Common Type\r\n            for(var i=0; i<DATA.controlTypes.length; i++) {let match = true;\r\n                for(var y=0; y<DATA.CONTROLS.length; y++) {\r\n                    if((names.includes(DATA.CONTROLS[y].name) && !DATA.CONTROLS[y].types.includes(DATA.controlTypes[i]))\r\n                        || !names.includes(DATA.CONTROLS[y].name) && DATA.CONTROLS[y].types.includes(DATA.controlTypes[i])) { match = false; break;}\r\n                } if(match) return `[${DATA.controlTypes[i]}]`;\r\n            } \r\n        //Abbreviated List Names\r\n        let result = '';\r\n        names.forEach(name =>  result += (' - '+(space > 900 ? name : name.match(/\\b(\\w)/g).join('.'))));\r\n        return result.substring(3).toUpperCase();//removes first dash :)\r\n    }\r\n\r\n    const getUpdateOptions = () => {const list = ['DELETE', 'INCREASE', 'DECREASE'];\r\n        if(isChanged()) list.unshift('RESET');\r\n        if(buttonText == 'UPDATE') list.unshift('UPDATE'); return list;}\r\n\r\n    return <div className='none schedule-row'>\r\n            {(insertNew) ? <SettingsButton title={(buttonText != 'UPDATE') ? buttonText : 'SAVE'} buttonColor={(buttonText != 'UPDATE') ? 'orange' : 'var(--main-color)'} buttonStyle={{gridRow: 1, gridColumn: 1, height: '85%', width: 'auto', maxWidth: '100%', overflowX: 'auto'}}\r\n                    pendingText='SCHEDULING'\r\n                    condense={true}\r\n                    verifyLevel={1}\r\n                    onUpdate={async(password)=>(buttonText == 'UPDATE') ? await makeRequest(password, 'INSERT') : false}\r\n                />\r\n            : <section className='none schedule-value-box' style={{gridRow: (1), gridColumn: 1, backgroundColor: (buttonText != '') ? 'transparent' : (time < DATA.timeNextEvaluation) ? 'black' : null}}>\r\n                <DropMenu value={buttonText == '' ? priority : buttonText} dropListId={`${JSON.stringify(props)}-update`}   subValue={(props.overriddenList && props.overriddenList.length) ? `${props.overriddenList.join(', ')}` : undefined}      buttonColor={getButtonColor(buttonText)} customName='PRIORITY' inputType='number' \r\n                    customDefault={priority}\r\n                    options={getUpdateOptions()}\r\n                    onSelect={(action)=>{if(action == 'RESET') resetVariables(insertNew); else  processUpdate(action);}}\r\n                />\r\n            </section>                \r\n            }\r\n            <section className='none schedule-value-box' style={{gridRow: (1), gridColumn: 2, backgroundColor: (time < DATA.timeNextEvaluation) ? 'black' : null, border: (!isTimeValid()) ? '1px solid darkred' : (isTimeChanged()) ? '1px solid var(--main-color)' : null}}>\r\n                <DropDateMenu  dropListId={`${JSON.stringify(props)}-time`}\r\n                    time={time}\r\n                    onSelect={(t)=>setTime(parseInt(t) || time)}\r\n                />\r\n            </section>\r\n            <section className='none schedule-value-box' style={{gridRow: (1), gridColumn: 3, backgroundColor: (time < DATA.timeNextEvaluation) ? 'black' : null, border: (!isTitleValid()) ? '1px solid darkred' : (isTitleChanged()) ? '1px solid var(--main-color)' : null}}>\r\n                <input type='text' className={'schedule-input schedule-drop-menu-button'} onClick={()=>{setTitleEdited(true); dispatch({type: 'setDropList'});}} value={title} onChange={(event)=>setTitle(event.target.value)} />\r\n            </section>\r\n            <section className='none schedule-value-box' style={{gridRow: (1), gridColumn: 4, backgroundColor: (time < DATA.timeNextEvaluation) ? 'black' : null, border: (!isControlsValid()) ? '1px solid darkred' : (isControlsChanged()) ? '1px solid var(--main-color)' : null}} >\r\n                <DropMenu value={shortedNameList()}   dropListId={`${JSON.stringify(props)}-names`}\r\n                    multipleList={[...names]}\r\n                    options={DATA.CONTROLS ? [...DATA.CONTROLS.map(c=>c.name)] : []}\r\n                    onSelect={(list)=>setNames(Array.isArray(list) ? [...list] : [list])}\r\n                    extraName='TYPES'\r\n                    extraList={DATA.controlTypes ? ['[ALL]', '[NONE]', ...DATA.controlTypes.map(t=>`[${t}]`)] : []}\r\n                    onExtra={(type)=>setNames((type == '[ALL]') ? [...DATA.CONTROLS.map(c=>c.name)] : (type == '[NONE]') ? [] : [...DATA.CONTROLS.filter(c=>c.types.includes(type.replace(/\\[|\\]/g, ''))).map(c=>c.name)])}\r\n                />             \r\n            </section>\r\n            <section className='none schedule-value-box' style={{gridRow: (1), gridColumn: 5, backgroundColor: (time < DATA.timeNextEvaluation) ? 'black' : null, border: (!isDurationValid()) ? '1px solid darkred' : (isDurationChanged()) ? '1px solid var(--main-color)' : null}}>\r\n                <DropMenu value={getDurationName(duration)}   dropListId={`${JSON.stringify(props)}-duration`}\r\n                    options={DURATION_LIST.map(e => e.name)}\r\n                    customName='Minutes'\r\n                    inputType='number'\r\n                    customDefault={duration / 60000}\r\n                    onSelect={(d)=>setDuration(isNaN(d) ? getDurationValue(d) : (d * 60000))}\r\n                />\r\n            </section>\r\n            <section className='none schedule-value-box' style={{gridRow: (1), gridColumn: 6, backgroundColor: (time < DATA.timeNextEvaluation) ? 'black' : null, border: (!isSetValid()) ? '1px solid darkred' : (isSetChanged()) ? '1px solid var(--main-color)' : null}}>\r\n                <DropMenu value={set ? 'ON' : 'OFF'}   dropListId={`${JSON.stringify(props)}-set`}\r\n                    options={['ON', 'OFF']} \r\n                    onSelect={(s)=>{setSet(s == 'ON')}}\r\n                />\r\n            </section>\r\n            <section className='none schedule-value-box' style={{gridRow: (1), gridColumn: 7, backgroundColor: (time < DATA.timeNextEvaluation) ? 'black' : null, border: (!isRepeatValid()) ? '1px solid darkred' : (isRepeatChanged()) ? '1px solid var(--main-color)' : null}}>\r\n                <DropMenu value={repeat ? getDurationName(repeat) : 'ONCE'}   dropListId={`${JSON.stringify(props)}-repeat`}\r\n                    options={['ONCE', ...DURATION_LIST.map(e => e.name)]}\r\n                    customName='Minutes'\r\n                    inputType='number'\r\n                    customDefault={repeat / 60000}\r\n                    onSelect={(r)=>setRepeat((r == 'ONCE') ? 0 : isNaN(r) ? getDurationValue(r) : (r * 60000))}\r\n                />\r\n            </section>\r\n        {verification ?\r\n            <Verify\r\n                prompt={verification}\r\n                onSubmit={(password)=>makeRequest(password, pendingAction)}\r\n                onCancel={()=>{setVerification(undefined); setButtonText('UPDATE');}}\r\n            />  : <div className='none no-size' style={{position:'absolute'}}></div>}\r\n    </div>;\r\n}\r\n\r\n\r\nconst Schedule = (props) => {\r\n    const SERVER_URL = useSelector(root => root.serverURL);\r\n    const [SCHEDULES, setSCHEDULES] = useState([]);\r\n    const [sortByTime, setSortByTime] = useState(true);\r\n    const [calculatedList, setCalculatedList] = useState([]);\r\n\r\n    //Search Schedules for overlapping\r\n    const calculateOccurrenceList = (schedules = SCHEDULES, days=3) =>{ if(!schedules || !schedules.length) return; \r\n        let minimum = 0; let bottom = 0; const end = (new Date().getTime()+(days*24*60*60*1000)); let count=0;\r\n        const occurrences = [...schedules.map(s => ({time: s.time, duration: s.duration, repeat: s.repeat, priority: s.priority, names: s.names || [], overrides: []}))];\r\n        do { minimum = occurrences.reduce((min,s)=>(s.time < min && s.time > bottom) ? s.time : min, end); count++;\r\n            const least = occurrences.find(s=>(minimum == s.time)); \r\n            if(least == undefined) break; \r\n            occurrences.forEach(s => { if((!least.overrides.includes(s.priority)) && (least.priority > s.priority) && ((s.time) < (least.time + least.duration)) && ((s.time + s.duration) > (least.time)) && (least.names.some(e=>s.names.includes(e)))) least.overrides.push(s.priority);});\r\n            bottom  = least.time;\r\n            least.time += least.repeat;\r\n            if(count > 1000) {console.log('Schedule.calculateOccurrenceList() Maxed Search: ', count, occurrences); break;}\r\n        } while(minimum < end);\r\n        setCalculatedList([...occurrences.map(s=>({priority: s.priority, overrides: [...s.overrides.sort((a,b)=>(b-a))]}))]);\r\n    }\r\n\r\n    //API Referencing\r\n    const fetchSchedules = () => axios.get(`${SERVER_URL}/data-schedules/`).then((response) => { console.log('SCHEDULES', response.data.schedules);\r\n            setSCHEDULES(response.data.schedules);  calculateOccurrenceList(response.data.schedules);\r\n        }).catch((error) => {console.log('Failed to Fetch Schedule Information', error); return error.response ? error.response.status : false;});\r\n    useEffect(()=>fetchSchedules(),[]);\r\n\r\n    const getOverriddenList=(priority)=>{if(!calculatedList || (SCHEDULES.length != calculatedList.length) || priority == undefined) return [];\r\n        const list = calculatedList.find(s=>(s.priority == priority));\r\n        return list ? list.overrides : []; };\r\n\r\n    return( <div id='schedule-list' className='none border-box'>\r\n            <div className='none schedule-row'>\r\n                <label className='schedule-header' style={{gridColumn: 1}}>Edit</label>\r\n                <label className='schedule-header' style={{gridColumn: 2}}>Occurrence</label>\r\n                <label className='schedule-header' style={{gridColumn: 3}}>Title</label>\r\n                <label className='schedule-header' style={{gridColumn: 4}}>Control</label>\r\n                <label className='schedule-header' style={{gridColumn: 5}}>Duration</label>\r\n                <label className='schedule-header' style={{gridColumn: 6}}>Set</label>\r\n                <label className='schedule-header' style={{gridColumn: 7}}>Repeat</label>\r\n            </div>\r\n{/* LIST NEW SCHEDULE Fields */}\r\n          <ScheduleRow insertNew={true} \r\n            onUpdate={async(action, password, priority, time, title, names, duration, set, repeat)=>{\r\n                if(action == 'INSERT') return await axios.post(`${SERVER_URL}/schedule-add/`, {\r\n                    PASSWORD: password, time: time, title: title, names: JSON.stringify(names), duration: duration, set: set, repeat: repeat\r\n                }).then((response) => {fetchSchedules(); return true;}).catch((error) => error.response ? error.response.status : false);\r\n            }} />\r\n{/* LIST EXISTING props.SCHEDULES : onTap Editable */}\r\n            <div className='schedule-button-row'>\r\n                <SettingsButton title={sortByTime ? 'Sort Priority' : 'Sort Time'} buttonStyle={{padding: '0.40rem'}}\r\n                    condense={true}\r\n                    buttonColor='orange'\r\n                    verifyLevel={0}\r\n                    onUpdate={async(password)=>{setSortByTime(!sortByTime); return 'Sorting';}}\r\n                />\r\n                <HoldButton buttonColor='black' buttonStyle={{padding: '0.45rem'}}/>\r\n                <SettingsButton title='UPDATE' buttonStyle={{padding: '0.40rem'}} pendingText='RETRIEVING'\r\n                    condense={true}\r\n                    verifyLevel={1}\r\n                    onUpdate={async(password)=>{const response = await fetchSchedules(); return (response == true) ? 'UPDATED' : response; }}\r\n                />\r\n            </div>\r\n            {[...SCHEDULES.sort((a,b) => sortByTime ? (a.time - b.time) : (b.priority - a.priority))].map((schedule,index) => <ScheduleRow key={`Schedule-${index}`} verifyLevel={1}\r\n                priority={schedule.priority} time={schedule.time} title={schedule.title} names={schedule.names} duration={schedule.duration} set={(schedule.set == true || schedule.set == 1)} repeat={schedule.repeat} overriddenList={getOverriddenList(schedule.priority)}\r\n            onUpdate={async (action, password, priority, time, title, names, duration, set, repeat)=>{\r\n                if(action == 'DELETE') return await axios.post(`${SERVER_URL}/schedule-delete/`, {\r\n                    PASSWORD: password, priority: schedule.priority\r\n                }).then((response) => {fetchSchedules(); return true;}).catch((error) => error.response ? error.response.status : false);\r\n                else if(action == 'UPDATE')  return await axios.post(`${SERVER_URL}/schedule-replace/`, {\r\n                    PASSWORD: password, currentPriority: schedule.priority, priority: priority, time: time, title: title, names: JSON.stringify(names), duration: duration, set: set, repeat: repeat\r\n                }).then((response) => {fetchSchedules(); return true;}).catch((error) => error.response ? error.response.status : false);\r\n                else if(action == 'INCREASE' || action == 'DECREASE') return await axios.post(`${SERVER_URL}/schedule-priority-increase/`, {\r\n                    PASSWORD: password, priority: schedule.priority, increase: (action == 'INCREASE')\r\n                }).then((response) => {fetchSchedules(); return true;}).catch((error) => error.response ? error.response.status : false);\r\n                else if(!isNaN(parseInt(action))) return await axios.post(`${SERVER_URL}/schedule-update/`, {\r\n                    PASSWORD: password, priority: schedule.priority, attributeName: 'priority', value: parseInt(action) || 0\r\n                }).then((response) => {fetchSchedules(); return true;}).catch((error) => error.response ? error.response.status : false);\r\n\r\n            }} />)}\r\n    </div>);\r\n}\r\n\r\nexport default Schedule;","import React, {useState, useEffect} from 'react';\r\nimport { useSelector} from 'react-redux';\r\nimport axios from 'axios';\r\nimport Verify from '../Verify';\r\n\r\nimport '../index.css';\r\nimport './Climate.css';\r\n\r\nconst getButtonColor=(buttonText)=>(buttonText=='') ? 'transparent' : (buttonText=='UPDATE') ? 'var(--main-color)' : (buttonText=='PASS' || buttonText=='INVALID' || buttonText=='FAILED') ? '#e8000d' : (buttonText=='PENDING' || buttonText=='BLANK') ? 'orange' : '#cc5500';\r\n\r\nconst Climate = (props) => {\r\n    const convertToFahrenheit = useSelector(root => root.convertToFahrenheit);\r\n    const SERVER_URL = useSelector(root => root.serverURL);\r\n    const [CLIMATE, setCLIMATE] = useState([]);\r\n    const [range, setRange] = useState({maximumTemperature: 24, maximumHumidity: 75, minimumTemperature: 24, minimumHumidity: 75})\r\n    const [temperatureMode, setTemperatureMode] = useState(true);\r\n    const [saveButtonText, setSaveButtonText] = useState('Pending');\r\n    const [verification, setVerification] = useState(undefined);\r\n\r\n//API Referencing\r\n    const fetchClimate = () => axios.get(`${SERVER_URL}/data-climate/`).then((response) => { console.log('CLIMATE', response.data);\r\n        setCLIMATE(response.data.climate);  setSaveButtonText('');\r\n        setRange({maximumTemperature: response.data.maximumTemperature, maximumHumidity: response.data.maximumHumidity, minimumTemperature: response.data.minimumTemperature, minimumHumidity: response.data.minimumHumidity});\r\n    }).catch((error) => console.log('Failed to Fetch Climate Information', error));\r\n    useEffect(()=>fetchClimate(),[temperatureMode]);\r\n\r\n    const sendChanges = (password) => {setVerification(undefined); \r\n    // if(saveButtonText == 'Save Changes')\r\n        axios.post(`${SERVER_URL}/set-settings/`, {ADVANCED_PASSPHRASE: password,\r\n            tag: temperatureMode ? 'climate-temperature' : 'climate-humidity',\r\n            climate: JSON.stringify(CLIMATE),\r\n        }).then((response) => { setSaveButtonText('Saved'); console.log(response);\r\n            setTimeout(()=>{fetchClimate();}, 5000);\r\n        }).catch((error) => console.log('Failed to Fetch Climate Information', error));\r\n    // else setSaveButtonText('45');\r\n}\r\n\r\n//UI Utilities\r\n    const formatTemperature = (temp) => convertToFahrenheit ? (Math.round((temp*(9/5)+32)*10)/10) : temp;\r\n    const getMaxValue = (format=false, ghost=false, round = true) => {const value = (temperatureMode != ghost) ? format ? formatTemperature(range.maximumTemperature) : range.maximumTemperature  : range.maximumHumidity; return round ? Math.ceil(value) : value; }\r\n    const getMinValue = (format=false, ghost=false, round = true) => {const value = (temperatureMode != ghost) ? format ? formatTemperature(range.minimumTemperature) : range.minimumTemperature :  range.minimumHumidity; return round ? Math.floor(value) : value; }\r\n\r\n    const getWidthOffset = () => 5.0 * parseFloat(getComputedStyle(document.documentElement).fontSize); //rem unit = column 1 & margin/padding\r\n\r\n    const getRange = (format=false) => {let values = [];\r\n        const cellRatio = ((window.innerWidth-(getWidthOffset()))/((getMaxValue(format)-getMinValue(format))*(2.0*parseFloat(getComputedStyle(document.documentElement).fontSize))));\r\n        for(var i=(getMinValue(format)); i<(getMaxValue(format)); i += Math.ceil(1/cellRatio)) { values.push(i); }\r\n                values.push(getMaxValue(format)); return values; }\r\n\r\n    const calculatedWidth = (3.5 * getRange(true).length * (1.0*parseFloat(getComputedStyle(document.documentElement).fontSize)))+getWidthOffset(); //Designed to Allow twice space for getRange() list\r\n\r\n\r\n    return(<div id='climate-container'  >\r\n        <div id='climate-header-box'>\r\n            <button className='climate-header-button' style={{backgroundColor: temperatureMode ? 'rgba(0, 102, 0, 0.6)' : 'rgba(255, 255, 255, 0.4)', color: temperatureMode ? 'white' : 'black'}} onClick={()=>setTemperatureMode(true)}>Temperature</button>\r\n            <button className='climate-header-button' style={{backgroundColor: temperatureMode ? 'rgba(255, 255, 255, 0.4)' : 'rgba(0, 102, 0, 0.6)',  color: temperatureMode ? 'black' : 'white'}} onClick={()=>setTemperatureMode(false)}>Humidity</button>\r\n            {saveButtonText != '' ? <button className='climate-header-button' style={{backgroundColor: (saveButtonText == 'Saved' || saveButtonText == 'Save Changes') ? '#cc5500' : (saveButtonText == 'Pending') ? 'orange' : '#e8000d',  color: 'black'}} onClick={()=>{setSaveButtonText('Pending'); setVerification('Enter Advanced Passphrase to Proceed:');}}>{saveButtonText}</button> : <section className='none no-size'></section>}\r\n        </div>\r\n        <div id='climate-slider-box' className='none ' style={{maxWidth: `${calculatedWidth}px`}}>\r\n                <div className='none climate-slider-value-box' style={{gridRow: 1, gridColumn: 1, paddingLeft: '4.0rem', paddingRight: '2.0rem', width: `${(calculatedWidth*1)-(1*getWidthOffset())-0}px`,}}>\r\n                    {getRange(false).map((v,j) => <label key={`climate-slider-range-value-$first-${j}`} className='climate-slider-range-value' style={{gridColumn: (j+1), textAlign: j==0 ? 'left' : (j == (getRange(false).length-1)) ? 'right' : 'center'}}>{v}</label>)}\r\n                </div>\r\n            {CLIMATE.map( (item, i) => <div key={`slider-${i}`} className='none climate-slider-outer-box' style={{gridRow: (i+2)}} >              \r\n                <strong className='climate-hour-value' style={{}}>{item.hour}:00</strong>\r\n                <strong className='climate-hour-value' style={{gridRow: 2, color: 'var(--main-color)', fontSize: '0.8rem'}}>{temperatureMode ? parseFloat(item.temperature).toFixed(1) : parseFloat(item.humidity).toFixed(1)} {temperatureMode ? <span className='none' style={{fontSize: '0.65rem', verticalAlign: 'top'}}>&#8457;</span> : '%'}</strong>\r\n\r\n                <input readOnly className='none climate-slider-range-bar climate-slider-range-bar-ghost' style={{width: `${(calculatedWidth*1)-(1*getWidthOffset())-0}px`, }} type='range' step='0.01' min={getMinValue(false, true, false)} max ={getMaxValue(false, true, false)} value={!temperatureMode ? CLIMATE[i].temperature : CLIMATE[i].humidity} />\r\n                <input readOnly className='none climate-slider-range-bar climate-slider-range-bar-ghost-dot' style={{width: `${(calculatedWidth*1)-(1*getWidthOffset())-0}px`, }} type='range' step='0.01' min={getMinValue(false, false, false)} max ={getMaxValue(false, false, false)} value={temperatureMode ? CLIMATE[i].temperatureAverage : CLIMATE[i].humidityAverage} />\r\n                <input className='none climate-slider-range-bar' style={{width: `${(calculatedWidth*1)-(1*getWidthOffset())-0}px`, }} type='range' step='0.01' min={getMinValue(false, false, false)} max ={getMaxValue(false, false, false)} value={temperatureMode ? CLIMATE[i].temperature : CLIMATE[i].humidity} onChange={(event)=>{temperatureMode ? CLIMATE[i].temperature=event.target.value : CLIMATE[i].humidity=event.target.value;  setCLIMATE([...CLIMATE]); setSaveButtonText('Save Changes');}} />\r\n                {/* <input className='none climate-slider-range-bar' style={{width: `${(calculatedWidth*1)-(1*getWidthOffset())-0}px`, }}  type='range' step='0.01'  min={getMinValue(false)} max ={getMaxValue(false)} value={sample} onChange={(event)=>{console.log(event.target.value, formatTemperature(event.target.value)); setSample(event.target.value);}} /> */}\r\n\r\n                <div id={`data-${i}`} className='none climate-slider-value-box' style={{width: `${(calculatedWidth*1)-(1*getWidthOffset())-0}px`, }}>\r\n                    {getRange((i % 2) == 0).map((v,j) => <label key={`climate-slider-range-value-${i}-${j}`} className='climate-slider-range-value' style={{gridColumn: (j+1), textAlign: j==0 ? 'left' : (j == (getRange((i % 2) == 0).length-1)) ? 'right' : 'center'}}>{v}</label>)}\r\n                </div>\r\n                </div>)}\r\n        </div>\r\n        {verification ?\r\n            <Verify\r\n                prompt={verification}\r\n                onSubmit={sendChanges}\r\n                onCancel={()=>{setVerification(undefined); setSaveButtonText(''); fetchClimate();}}\r\n            />  : <div className='none no-size' style={{position:'absolute'}}></div>}\r\n    </div>);\r\n}\r\nexport default Climate;","\r\nimport React, {useState, useEffect} from 'react';\r\nimport { useSelector} from 'react-redux';\r\nimport { Link, useHistory, useLocation} from \"react-router-dom\";\r\nimport '../index.css';\r\nimport './ErrorBar.css';\r\n\r\nconst ErrorBar = (props) => {\r\n    const DATA = useSelector(root => root.data);\r\n    const [ERROR_LIST, setERROR_LIST] = useState([]);\r\n    const routeHistory = useHistory();\r\n    const routeLocation = useLocation();\r\n\r\n    useEffect(()=>{ const list = [];\r\n        if(DATA.sensorErrorCode == undefined) list.push('SERVER DISCONNECTED');\r\n        if(DATA.sensorErrorCode) list.push('SENSOR ERROR');\r\n        if(DATA.maximumTemperatureErrorCode) list.push('MAXIMUM TEMPERATURE');\r\n        if(DATA.minimumTemperatureErrorCode) list.push('MINIMUM TEMPERATURE');\r\n        if(DATA.maximumHumidityErrorCode) list.push('MAXIMUM HUMIDITY');\r\n        if(DATA.minimumHumidityErrorCode) list.push('MINIMUM HUMIDITY');\r\n        if(DATA.accessDatabase != undefined && !DATA.accessDatabase) list.push('DATABASE DISCONNECTED');\r\n    setERROR_LIST(list); },[DATA]);\r\n\r\n    return(\r\n        <div id='error-bar-container'  style={{display: ERROR_LIST.length ? 'block': 'none'}} onClick={()=>{\r\n            if(routeLocation.pathname == '/settings') routeHistory.push('/log');\r\n                else routeHistory.push('/settings');\r\n        }}>\r\n            <div id='error-bar-wrap' >\r\n                {ERROR_LIST.map(e=><strong key={e} className='error-bar-text'>{e}</strong>)}\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default ErrorBar;","import React, {useState, useEffect} from 'react';\r\nimport { useSelector, useDispatch} from 'react-redux';\r\nimport Verify from '../Verify';\r\n\r\nimport '../index.css';\r\nimport './Settings.css';\r\n\r\nconst getButtonColor=(buttonText)=>(buttonText=='') ? 'transparent' : (buttonText=='UPDATE') ? 'var(--main-color)' : (buttonText=='PASS' || buttonText=='INVALID') ? '#e8000d' : (buttonText=='PENDING' || buttonText=='BLANK') ? 'orange' : '#cc5500';\r\n\r\nconst SettingsList = (props) => { \r\n    const [verification, setVerification] = useState(undefined);\r\n    const openList = useSelector(root => root.dropListOpen);\r\n    const dispatch = useDispatch();\r\n    const [current, setCurrent] = useState(props.current == undefined ? [] : Array.isArray(props.current) ? props.current : [props.current]);\r\n    const [options, setOptions] = useState(props.options == undefined ? current : Array.isArray(props.options) ? props.options : [props.options]);\r\n    const [list, setList] = useState(props.current == undefined ? [] : Array.isArray(props.current) ? props.current : [props.current]);\r\n    const [custom, setCustom] = useState('');\r\n    const [buttonText, setButtonText] = useState('');\r\n\r\n    useEffect(()=>{//Syncing Props b/c initial render redux.data == {} -> fetchData() //Not proper solution, but others didn't work :: https://tkdodo.eu/blog/putting-props-to-use-state\r\n        const newCurrent = props.current == undefined ? [] : Array.isArray(props.current) ? props.current : [props.current];\r\n        const newOptions = props.options == undefined ? newCurrent : Array.isArray(props.options) ? props.options : [props.options];\r\n        setCurrent(newCurrent);\r\n        setOptions(newOptions); \r\n        setList(newCurrent);\r\n    },[props]);\r\n\r\n    //Guidelines Abstracted\r\n    const verifyLevel = (props.verifyLevel != undefined) ? props.verifyLevel : 2;\r\n    const selectMultiple = (props.selectMultiple != undefined) ? props.selectMultiple : (Array.isArray(props.current));\r\n    const inputType = (props.inputType != undefined) ? props.inputType : (isNaN(props.current) ? 'text' : 'number' );\r\n    const addCustom = (props.addCustom != undefined) ? props.addCustom : false;\r\n    const condense = (props.condense != undefined) ? props.condense : false;\r\n\r\n    const isChanged=(latestList)=>{\r\n        const l = latestList || list;\r\n        if(Array.isArray(l))\r\n            for(var i=0; i<l.length; i++) {\r\n                    if(!current.includes(l[i])) return true;\r\n            } \r\n        if(Array.isArray(current))\r\n            for(var y=0; y<current.length; y++) {\r\n                if(!l.includes(current[y])) return true;\r\n        }return false;\r\n    }\r\n\r\n    const updateButton = async(latestList) => { const l = latestList || list;\r\n        let text = isChanged(l) ? 'UPDATE' : ''; \r\n        if(Array.isArray(l)){\r\n        l.forEach(v=>{if(!options.includes(v)) text='INVALID';});\r\n        if(!selectMultiple && l.length > 1) text='INVALID';\r\n        if(l.length == 0) text='BLANK';\r\n        for(var i=0; i<l.length; i++) {\r\n            if(l[i] == undefined) text='BLANK';\r\n        } \r\n    } setButtonText(text);\r\n        return text; }\r\n    useEffect(()=>updateButton(), [list]);\r\n\r\n    //*********************************\r\n    //   API REQUEST & VERIFICATION\r\n    //*********************************\r\n    const makeRequest=async(password, latestList)=>{ setVerification(undefined); //saving local until fetch up stream is called to replace data\r\n        if(verifyLevel == 1 && !localStorage.getItem(\"password\")) await localStorage.setItem(\"password\", password.toString());\r\n\r\n        const success = await props.onUpdate(selectMultiple ? JSON.stringify(latestList || list) : list[0], password);\r\n        if(success == true || isNaN(success)) { setButtonText((success != true) ? success : 'SAVED'); setCurrent(list); setTimeout(()=>setButtonText(''), 5000); }\r\n        else if(success == 401) { setButtonText('PASS'); setTimeout(()=>setList(current), 5000); localStorage.clear();}\r\n        else if(success == 404) { setButtonText('INVALID'); setTimeout(()=>setList(current), 5000); localStorage.clear();}\r\n        else {setButtonText('FAILED'); setTimeout(()=>setList(current), 5000); }\r\n    }\r\n\r\n    const processUpdate=async(latestList)=>{ if(await updateButton(latestList) == 'UPDATE') { setButtonText('PENDING'); dispatch({type: 'setDropList'});\r\n        if(verifyLevel == 0) makeRequest(undefined, latestList); //No Security\r\n        else if(verifyLevel == 1 && !localStorage.getItem(\"password\")) setVerification('Enter Control Password to Continue:'); //Only Request if not stored\r\n        else if(verifyLevel == 1) makeRequest(localStorage.getItem(\"password\"), latestList); //Use Saved Password\r\n        else setVerification('Enter Advanced Passphrase to Proceed:'); //undefined || >1\r\n    }}\r\n\r\n    const toggleOption=async(option)=>{ let latest = [...list]; let allowed = [...options];\r\n    //Special Email Verification\r\n        if(props.inputType == 'email' && !(/^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/).test(option)) {setButtonText('Email'); return 'Email';}\r\n    //Add Custom to Options\r\n        if(addCustom && !allowed.includes(option)) allowed = [...options, option];\r\n        //Add to Select List\r\n            if(!selectMultiple && (addCustom || allowed.includes(option))) latest=[option]; //Single set as list\r\n            else if(list.includes(option)) latest= [...list.filter((o) => (o != option && allowed.includes(o)))]; //remove list\r\n            else latest =  [...list.filter((o) => allowed.includes(o)), option]; //add list\r\n\r\n            setOptions([...allowed]); setList([...latest]);\r\n            if(!selectMultiple) processUpdate(latest);\r\n        return await updateButton(latest);\r\n    }\r\n    \r\n    //*********************************\r\n    //   HTML DISPLAY\r\n    //*********************************\r\n    const getOldOptions = () => [...list.filter(c=>!options.includes(c))]; //old/changed control names\r\n\r\n    return(<div id={props.title} className='settings-value-box'  style={{ gridTemplateColumns: (condense) ? 'auto 40%' : null}} onFocus={()=>{}} onBlur={()=>{}} >\r\n        {(props.title==undefined) ?  <div className='none no-size' style={{position:'absolute'}}></div> : <strong className='settings-value-title' >{props.title}</strong>}\r\n            {(openList == props.dropListId) ? <div ><button className='settings-value-input ' onClick={()=>dispatch({type: 'setDropList', payload: props.dropListId})} >{list ? list.toString() : ''}</button>\r\n                        <div className='drop-menu-list' style={{top: options.length <= 5 ? null : '5vh', position: options.length <= 5 ? 'absolute' : 'fixed'}}>\r\n                            <button key='settings-close-button' className='drop-menu-item' style={{border: 'none', borderRadius: 0, borderBottom: '1px solid whitesmoke', backgroundColor: 'whitesmoke', color: 'black'}} onClick={()=>{\r\n                                        dispatch({type: 'setDropList'});\r\n                                    }}>Close</button>\r\n                        {getOldOptions().map((option, i) => \r\n                            <label key={option+i+'old'} className='drop-menu-item' style={{gridRow: (i+2), color: 'gold'}} onClick={()=>{ \r\n                                setList(old => [...old.filter((o) => (o != option && options.includes(o)))])\r\n                                if(!selectMultiple) dispatch({type: 'setDropList'});\r\n                                if(!selectMultiple) processUpdate();\r\n                            }}>{option.toString()}</label>\r\n                        )}\r\n                        {options.map((option, i) => \r\n                            <label key={option+i} className='drop-menu-item' style={{gridRow: (i+2+getOldOptions().length), border: list.includes(option) ? '1px solid var(--main-color)' : 'none', color: list.includes(option) ? 'var(--main-color)' : 'white'}} onClick={async()=>{\r\n                                await toggleOption(option);\r\n                                if(!selectMultiple) dispatch({type: 'setDropList'});\r\n                                if(!selectMultiple) processUpdate();\r\n                            }}>{option.toString()}</label>\r\n                        )}\r\n                         {addCustom ? <div className='none' style={{display:'inline-grid', gridRow: (getOldOptions().length + options.length+3), gridColumn: 1}}>\r\n                                <input key='settings-add-input' type={inputType} className='drop-menu-item' style={{gridRow: (1), gridColumn: 1, width: '10.0rem', borderRadius: 0, border: '1px solid whitesmoke', backgroundColor: 'black', color: 'white'}} \r\n                                    value={custom}\r\n                                    onChange={(c)=>setCustom(c.target.value)}\r\n                                    onKeyPress={async(e)=>{ if (e.charCode == 13) {\r\n                                        if(await toggleOption(custom) == 'UPDATE') setCustom('');\r\n                                        if(!selectMultiple) dispatch({type: 'setDropList'});\r\n                                        if(!selectMultiple) processUpdate();\r\n                                    }}}/>\r\n                                <button key='settings-add-button' className='drop-menu-item' style={{gridRow: (1), gridColumn: 2, border: 'none', borderRadius: 0, borderBottom: '1px solid whitesmoke', backgroundColor: 'whitesmoke', color: 'black'}} onClick={async()=>{\r\n                                        if(await toggleOption(custom) == 'UPDATE') setCustom('');\r\n                                        if(!selectMultiple) dispatch({type: 'setDropList'});\r\n                                    }}>ADD</button>\r\n                        </div> : <div className='none no-size'></div>}\r\n                        {(condense || buttonText == 'UPDATE') ? <button key='settings-save-button' className='drop-menu-item' style={{border: 'none', borderRadius: 0, border: 'none', backgroundColor: getButtonColor(buttonText), color: 'white'}} onClick={()=>{\r\n                                        processUpdate();\r\n                                    }}>{buttonText}</button> : <div className='none no-size'></div>}\r\n                </div></div> \r\n            : <button className='settings-value-input ' onClick={()=>dispatch({type: 'setDropList', payload: props.dropListId})} >{list ? list.toString() : ''}</button>}\r\n        {(condense && !selectMultiple) ?  <div className='none no-size' style={{position:'absolute'}}></div> : <button className='settings-value-button' onClick={processUpdate}  style={{backgroundColor: getButtonColor(buttonText)}}>{buttonText}</button> }\r\n        {verification ?\r\n            <Verify\r\n                prompt={verification}\r\n                onSubmit={makeRequest}\r\n                onCancel={()=>{setVerification(undefined); setButtonText('UPDATE'); if(condense) setList([...current]); }}\r\n            />  : <div className='none no-size' style={{position:'absolute'}}></div>}\r\n    </div>);\r\n}\r\n\r\nexport default SettingsList;\r\n","import React from 'react';\r\nimport { useHistory} from \"react-router-dom\";\r\nimport { useSelector, useDispatch} from 'react-redux';\r\nimport axios from 'axios';\r\nimport SettingsList from './SettingsList';\r\nimport SettingsBlank from './SettingsBlank';\r\nimport SettingsButton from './SettingsButton';\r\nimport {fetchData} from '../index';\r\n\r\nimport '../index.css';\r\nimport './Settings.css';\r\n\r\n/*SETTINGS Props Key : 9-26-2021\r\nSettingsList.jsx\r\n    + dropListId\r\n    + title\r\n    + current\r\n    + options\r\n    + onUpdate\r\n    ? verifyLevel = 2\r\n    ? selectMultiple = current type\r\n    ? addCustom = false\r\nSettingsBlank.jsx\r\n    + title\r\n    + current\r\n    + onUpdate\r\n    ? verifyLevel = 2\r\n    ? inputType = current type: text/number\r\n    ? numberStep = 1\r\n    ? cache: true/false //Won't clear Input on Failed Request\r\nSettingsButton.jsx\r\n    + title\r\n    + onUpdate\r\n    ? verifyLevel = 1\r\n*/\r\n\r\nconst Settings = (props) => {\r\n// console.log(props);\r\nconst SERVER_URL = useSelector(root => root.serverURL);\r\nconst DATA = useSelector(root => root.data);\r\nconst SCREENSAVER_BRIGHTNESS = useSelector(root => root.screenSaverBrightness);\r\nconst convertToFahrenheit = useSelector(root => root.convertToFahrenheit);\r\nconst dispatch = useDispatch();\r\nconst routeHistory = useHistory();\r\n\r\n    const post = async(route, body, onSuccess) => axios.post(`${SERVER_URL}${route}/`, body).then((response)=>onSuccess == 'response' ? response : onSuccess || true).catch((error)=>error.response ? error.response.status : false);\r\n    const put = async(route, body, onSuccess) => axios.put(`${SERVER_URL}${route}/`, body).then((response)=>onSuccess == 'response' ? response : onSuccess || true).catch((error)=>error.response ? error.response.status : false);\r\n\r\n    const LOCAL_SETTINGS = [\r\n        <SettingsList title='Temperature:'\r\n            dropListId='temperature-conversion'\r\n            current={convertToFahrenheit ? 'Fahrenheit' : 'Celsius'}\r\n            options={['Celsius', 'Fahrenheit']}\r\n            verifyLevel={0}\r\n            onUpdate={(value, password)=>{dispatch({type: 'toggleConvertToFahrenheit', payload: (value == 'Fahrenheit')}); return true;}}/>, \r\n        <SettingsButton title='Deactivate Screen Saver' pendingText='Deactivating'\r\n            onUpdate={async()=>{props.deactivateScreenSaver(300000); return '5 Minutes';}} />,\r\n        <SettingsList title='ScreenSaver Brightness:'\r\n            dropListId='screensaver-brightness'\r\n            current={SCREENSAVER_BRIGHTNESS.setting}\r\n            options={SCREENSAVER_BRIGHTNESS.settingOptions}\r\n            verifyLevel={0}\r\n            onUpdate={(value, password)=>{\r\n                if(SCREENSAVER_BRIGHTNESS.settingOptions.includes(value)) {dispatch({type: 'setting', payload: value}); return true;}\r\n                else return false;}}/>, \r\n        <div style={{borderBottom: '1px solid var(--main-color)', margin: '0.5rem 0', width: '100%'}}></div>,\r\n        <SettingsBlank title='Server URL:'\r\n                current={SERVER_URL}\r\n                verifyLevel={0}\r\n                cache={true}\r\n                onUpdate={async(value, password)=>{dispatch({type: 'setServerURL', payload: value}); const response = await fetchData(); if(response == true) routeHistory.push('/'); return (response == true) ? 'UPDATING' : response;}}/>,\r\n        <SettingsButton title='Update Data' pendingText='RETRIEVING'\r\n        onUpdate={async()=>{const response = await fetchData(); return (response == true) ? 'UPDATED' : response;}} />\r\n    ];\r\n    if(SCREENSAVER_BRIGHTNESS.setting == 'Scheduled') \r\n        LOCAL_SETTINGS.splice(2,0,\r\n            <SettingsBlank title='ScreenSaver Day Hour Start: (0-23/24)'\r\n                current={SCREENSAVER_BRIGHTNESS.dayHourStart}\r\n                verifyLevel={0}\r\n                onUpdate={(value, password)=>{const hour = parseInt(value);\r\n                    if(hour >=0 && hour <= 24) {dispatch({type: 'dayHourStart', payload: hour}); return true;} //24 is disabled\r\n                    else return false;}}/>,\r\n            <SettingsBlank title='ScreenSaver Day Opacity: (%)'\r\n                current={SCREENSAVER_BRIGHTNESS.dayOpacity*100}\r\n                verifyLevel={0}\r\n                onUpdate={(value, password)=>{const opacity = (parseInt(value)/100);\r\n                    if(opacity >=0 && opacity <= 1) {dispatch({type: 'dayOpacity', payload: opacity}); return true;}\r\n                    else return false;}}/>,  \r\n            <SettingsBlank title='ScreenSaver Night Hour Start: (0-23/24)'\r\n                current={SCREENSAVER_BRIGHTNESS.nightHourStart}\r\n                verifyLevel={0}\r\n                onUpdate={(value, password)=>{const hour = parseInt(value);\r\n                    if(hour >=0 && hour <= 24) {dispatch({type: 'nightHourStart', payload: hour}); return true;}\r\n                    else return false;}}/>,\r\n            <SettingsBlank title='ScreenSaver Night Opacity: (%)'\r\n                current={SCREENSAVER_BRIGHTNESS.nightOpacity*100}\r\n                verifyLevel={0}\r\n                onUpdate={(value, password)=>{const opacity = (parseInt(value)/100);\r\n                    if(opacity >=0 && opacity <= 1) {dispatch({type: 'nightOpacity', payload: opacity}); return true;}\r\n                    else return false;}}/>,  \r\n            <SettingsBlank title='ScreenSaver Black Hour Start: (0-23/24)'\r\n                current={SCREENSAVER_BRIGHTNESS.blackHourStart}\r\n                verifyLevel={0}\r\n                onUpdate={(value, password)=>{const hour = parseInt(value);\r\n                    if(hour >=0 && hour <= 24) {dispatch({type: 'blackHourStart', payload: hour}); return true;}\r\n                    else return false;}}/>            \r\n            );\r\n    \r\n    return((DATA == {} || DATA.CONTROLS == undefined) ? <div id='settings-container'>{LOCAL_SETTINGS}</div>\r\n    : <div id='settings-container'>\r\n        {LOCAL_SETTINGS}\r\n        <SettingsButton title='Evaluate Conditions' pendingText='EXECUTING'\r\n            onUpdate={async(password)=>{setTimeout(()=>fetchData(), 60000); return await put('/evaluate', {PASSWORD: password}, 'COMPLETE');}} />  \r\n        <SettingsBlank title='Postpone Next Evaluation: (ms)'\r\n            current={0}\r\n            numberStep={60000}\r\n            verifyLevel={1}\r\n            onUpdate={(value, password)=>post('/postpone-evaluation', {PASSWORD: password,\r\n                duration: value,\r\n            })}/>  \r\n        <SettingsList title='Status Email Recipients:'\r\n            dropListId='status-email'\r\n            current={DATA.emailStatusRecipients}\r\n            verifyLevel={1}\r\n            addCustom={true}\r\n            inputType='email'\r\n            onUpdate={(value, password)=>post('/set-settings', {PASSWORD: password,\r\n                tag: 'emailStatusRecipients',\r\n                emailStatusRecipients: value,\r\n            })}/> \r\n        <SettingsButton title='Send Update Email' pendingText='SENDING'\r\n            onUpdate={(password)=>put('/send-update-email', {PASSWORD: password}, 'SENT')}/>\r\n        <SettingsList title='Issue Email Recipients:'\r\n            dropListId='issue-email'\r\n            current={DATA.emailIssueRecipients}\r\n            addCustom={true}\r\n            inputType='email'\r\n            onUpdate={(value, password)=>post('/set-settings', {ADVANCED_PASSPHRASE: password,\r\n                tag: 'emailIssueRecipients',\r\n                emailIssueRecipients: value,\r\n            })}/> \r\n        <SettingsBlank title='Email Report:'\r\n            current={''}\r\n            inputType='textarea'\r\n            verifyLevel={1}\r\n            onUpdate={(value, password)=>post('/save-log', {PASSWORD: password, email: true,\r\n                message: value,\r\n            })}/> \r\n        <SettingsList title='Email Update Regularity:'\r\n            dropListId='email-update-regularity'\r\n            current={DATA.updateRegularity}\r\n            options={DATA.updateRegularityOptions}\r\n            onUpdate={(value, password)=>post('/set-settings', {ADVANCED_PASSPHRASE: password,\r\n                tag: 'updateRegularity',\r\n                updateRegularity: value,\r\n            })}/> \r\n        <SettingsList title='Allow Database Access:'\r\n            dropListId='allow-database'\r\n            current={DATA.accessDatabase}\r\n            options={[true, false]}\r\n            onUpdate={(value, password)=>post('/set-settings', {ADVANCED_PASSPHRASE: password,\r\n                tag: 'accessDatabase',\r\n                accessDatabase: value,\r\n            })}/>  \r\n        <SettingsBlank title='Evaluation Frequency: (m)'\r\n            current={DATA.evaluationFrequency/(60000)}\r\n            numberStep={1}\r\n            onUpdate={(value, password)=>post('/set-settings', {ADVANCED_PASSPHRASE: password,\r\n                tag: 'evaluationFrequency',\r\n                evaluationFrequency: (value*60000),\r\n            })}/> \r\n        <SettingsBlank title='Maximum Temperature: (c)'\r\n            current={DATA.maximumTemperature}\r\n            numberStep={0.5}\r\n            onUpdate={(value, password)=>post('/set-settings', {ADVANCED_PASSPHRASE: password,\r\n                tag: 'maximumTemperature',\r\n                maximumTemperature: value,\r\n            })}/> \r\n        <SettingsBlank title='Minimum Temperature: (c)'\r\n            current={DATA.minimumTemperature}\r\n            numberStep={0.5}\r\n            onUpdate={(value, password)=>post('/set-settings', {ADVANCED_PASSPHRASE: password,\r\n                tag: 'minimumTemperature',\r\n                minimumTemperature: value,\r\n            })}/> \r\n        <SettingsBlank title='Maximum Humidity: (%)'\r\n            current={DATA.maximumHumidity}\r\n            onUpdate={(value, password)=>post('/set-settings', {ADVANCED_PASSPHRASE: password,\r\n                tag: 'maximumHumidity',\r\n                maximumHumidity: value,\r\n            })}/> \r\n        <SettingsBlank title='Minimum Humidity: (%)'\r\n            current={DATA.minimumHumidity}\r\n            onUpdate={(value, password)=>post('/set-settings', {ADVANCED_PASSPHRASE: password,\r\n                tag: 'minimumHumidity',\r\n                minimumHumidity: value,\r\n            })}/> \r\n        <SettingsBlank title='Hour Day Starts: (h)'\r\n            current={DATA.dayHourStart}\r\n            onUpdate={(value, password)=>post('/set-settings', {ADVANCED_PASSPHRASE: password,\r\n                tag: 'dayHourStart',\r\n                dayHourStart: value,\r\n            })}/> \r\n        <SettingsBlank title='Hour Night Starts: (h)'\r\n            current={DATA.nightHourStart}\r\n            onUpdate={(value, password)=>post('/set-settings', {ADVANCED_PASSPHRASE: password,\r\n                tag: 'nightHourStart',\r\n                nightHourStart: value,\r\n            })}/> \r\n        <SettingsList title='Sensor Type:'\r\n            dropListId='sensor-type'\r\n            current={DATA.sensorType}\r\n            options={DATA.sensorTypes}\r\n            onUpdate={(value, password)=>post('/set-settings', {ADVANCED_PASSPHRASE: password,\r\n                tag: 'sensorType',\r\n                sensorType: value,\r\n            })}/>  \r\n        <SettingsList title='Sensor Mode:'\r\n            dropListId='sensor-mode'\r\n            current={DATA.sensorMode}\r\n            options={DATA.sensorModes}\r\n            onUpdate={(value, password)=>post('/set-settings', {ADVANCED_PASSPHRASE: password,\r\n                tag: 'sensorMode',\r\n                sensorMode: value,\r\n            })}/>\r\n        <SettingsButton title='Test Sensor' pendingText='Redirecting'\r\n            verifyLevel={0}\r\n            onUpdate={(password)=>routeHistory.push('/sensor-testing')} />\r\n        {DATA.CONTROLS.map((c,i)=><div key={`${c.id}-${i}`} ><SettingsBlank key={`name-${c.id}`} title={`[${c.id}] Control Name:`}\r\n                current={c.name}\r\n                onUpdate={(value, password)=>post('/set-settings', {ADVANCED_PASSPHRASE: password,\r\n                    tag: 'controls-name',\r\n                    id: c.id,\r\n                    name: value,\r\n                })}/> \r\n            <SettingsList key={`types-${c.id}`} title={`[${c.id}] Control Types:`}\r\n                dropListId={`control-types-${c}-${i}`}\r\n                current={c.types}\r\n                options={DATA.controlTypes}\r\n                selectMultiple={true}\r\n                addCustom={true}\r\n                onUpdate={(value, password)=>post('/set-settings', {ADVANCED_PASSPHRASE: password,\r\n                    tag: 'controls-types',\r\n                    id: c.id,\r\n                    types: value,\r\n                })}/></div>)}\r\n\r\n        <SettingsButton title='Reset Settings' pendingText='CONFIGURING'\r\n            verifyLevel={3}\r\n            onUpdate={async(password)=>{const result = await post('/reset-settings', {ADVANCED_PASSPHRASE: password}, 'RESETTING'); fetchData(); return result;}} />\r\n        <SettingsButton title='Reset File System' pendingText='CONFIGURING'\r\n            verifyLevel={3}\r\n            onUpdate={async(password)=>{const result = await post('/reset-file-system', {ADVANCED_PASSPHRASE: password}, 'RESETTING'); fetchData(); return result;}} />\r\n        <SettingsButton title='Terminate Server' pendingText='CONFIGURING'\r\n            verifyLevel={3}\r\n            onUpdate={(password)=>post('/terminate', {ADVANCED_PASSPHRASE: password}, 'TERMINATING')} />\r\n        <SettingsButton title='Restart PI' pendingText='CONFIGURING'\r\n            verifyLevel={3}\r\n            onUpdate={(password)=>post('/restart-pi', {ADVANCED_PASSPHRASE: password}, 'RESTARTING')} />\r\n        <SettingsList dropListId={`Error_Lights_Override`}\r\n                title='Error Lights:'\r\n                current={'Select Mode'}\r\n                options={['on', 'off', 'flash', 'bounce', 'max', 'min', 'humid', 'lock', 'unlock', 'reset']}\r\n                selectMultiple={false}\r\n                addCustom={true}\r\n                verifyLevel={1}\r\n                onUpdate={(value, password)=>post('/execute-error-lights', {PASSWORD: password,\r\n                    tag: 'error-lights',\r\n                    mode: new Array(value).pop(),\r\n                })}/>\r\n        <SettingsButton title='Server Log' pendingText='Redirecting'\r\n            verifyLevel={0}\r\n            onUpdate={(password)=>routeHistory.push('/log')} />\r\n        <SettingsBlank title='Save to Log:'\r\n            current={''}\r\n            inputType='textarea'\r\n            verifyLevel={1}\r\n            onUpdate={(value, password)=>post('/save-log', {PASSWORD: password,\r\n                message: value,\r\n            })}/> \r\n        <SettingsButton title='Log Out' pendingText='CLEARING'\r\n            verifyLevel={0}\r\n            onUpdate={()=>{localStorage.clear(); return 'CLEARED PASSWORD'}} />\r\n\r\n    </div>);\r\n}\r\nexport default Settings;","import React, {useEffect, useState} from 'react';\r\nimport { useSelector} from 'react-redux';\r\nimport axios from 'axios';\r\nimport SettingsList from '../SettingsList';\r\nimport SettingsBlank from '../SettingsBlank';\r\nimport SettingsButton from '../SettingsButton';\r\n\r\n\r\nimport '../../index.css';\r\nimport '../Settings.css';\r\n\r\n\r\nconst SensorTest = (props) => {\r\n    const SERVER_URL = useSelector(root => root.serverURL);\r\n    const DATA = useSelector(root => root.data);\r\n    const [current, setCurrent] = useState('');\r\n    const [testingDuration, setTestingDuration] = useState(60000);\r\n    const [testingInterval, setTestingInterval] = useState(5000);\r\n    const [fetchingError, setFetchingError] = useState('');\r\n\r\n    let interval = null;\r\n    let timer = null;\r\n    const startTesting = () => { clearInterval(interval); clearTimeout(timer); setFetchingError('');\r\n        interval = setInterval(async()=>await axios.get(`${SERVER_URL}/sensor-test/`)\r\n                .then((response)=>{setCurrent(response.data); setFetchingError('');})\r\n                .catch((error)=>{console.log('Failed to Get Sensor Testing Data', error); setFetchingError(error);}), 500);\r\n        timer = setTimeout(()=>{clearInterval(interval); setFetchingError('');}, testingDuration+30000);\r\n        }\r\n    \r\n    return(<div id='sensor-test-container' >\r\n    <div className='sensor-test-first-header' >\r\n        {/* <section style={{gridColumn: 1, gridRow:1, width: '100%'}}> */}\r\n        <SettingsList title='Sensor Type:' \r\n            dropListId='sensor-testing-sensor-type'\r\n            current={DATA.sensorType}\r\n            options={DATA.sensorTypes}\r\n            condense={true}\r\n            onUpdate={async(value, password)=>await axios.get(`${SERVER_URL}/settings/`, {ADVANCED_PASSPHRASE: password,\r\n                tag: 'sensorType',\r\n                sensorType: value,\r\n            }).then((response)=>true)\r\n            .catch((error)=>error.response ? error.response.status : false)}/> \r\n        {/* </section><section style={{gridColumn: 3, gridRow:1, width: '100%'}}> */}\r\n        <SettingsBlank title='Test Duration: (m)'\r\n            current={testingDuration/60000}\r\n            condense={true}\r\n            verifyLevel={0}\r\n            onUpdate={(value, password)=>{const minutes = parseInt(value); if(!isNaN(minutes) && value == minutes && minutes > 0) {setTestingDuration(minutes*60000); return true;} else return false;}}/> \r\n        {/* </section><section style={{gridColumn: 4, gridRow:1, width: '100%'}}> */}\r\n        <SettingsBlank title='Test Interval: (s)'\r\n            current={testingInterval/1000}\r\n            condense={true}\r\n            verifyLevel={0}\r\n            onUpdate={(value, password)=>{const seconds = parseInt(value); if(!isNaN(seconds) && value == seconds && seconds > 0) {setTestingInterval(seconds*1000); return true;} else return false;}}/>\r\n            {/* </section> */}\r\n    </div><div className='sensor-test-second-header' >\r\n        <SettingsButton title={fetchingError == '' ? 'RESTART' : 'fetchingError'} pendingText='QUEUING'\r\n            buttonColor={fetchingError != '' ? 'darkred' : ''}\r\n            condense={true}\r\n            verifyLevel={2}\r\n            onUpdate={async(password)=>await axios.post(`${SERVER_URL}/sensor-test-restart/`, {ADVANCED_PASSPHRASE: password,\r\n                duration: testingDuration, interval: testingInterval,\r\n            }).then((response)=>{startTesting(); return 'INITIATING';})\r\n            .catch((error)=>error.response ? error.response.status : false)}\r\n            />\r\n        <SettingsButton title='UPDATE' pendingText='LOADING'\r\n            condense={true}\r\n            verifyLevel={0}\r\n            onUpdate={async(password)=>await axios.get(`${SERVER_URL}/sensor-test/`)\r\n                .then((response)=>{setCurrent(response.data); return 'CURRENT';})\r\n                .catch((error)=>error.response ? error.response.status : false)}\r\n            />\r\n    </div><div className='sensor-test-results'>\r\n        <table style={{margin: 0, width: '100%', border: 'none', borderSpacing: '4px'}}>\r\n            <tr>\r\n                <th style={{padding: '3px', textAlign: 'center'}} >Time</th>\r\n                <th style={{padding: '3px', textAlign: 'center'}} >Temperature</th>\r\n                <th style={{padding: '3px', textAlign: 'center'}} >Humidity</th>\r\n                <th style={{padding: '3px', textAlign: 'center'}} >Message</th>\r\n            </tr>\r\n            {current.split('\\n').map((p,i) => (p=='') ? <br key={`${p}-${current.length}`}/> : <tr key={`${p}-${current.length}`}> \r\n                {p.split('|').map((r, i) => <td key={`${r}-${p}-${current.length}`} style={{padding: '3px', textAlign: (i == 0) ? 'left' : 'center'}} colspan={((4 / p.split('|').length) > 1) ? Math.floor((4 / p.split('|').length)) : 1}>{r}</td>)}\r\n            </tr>)}\r\n\r\n        </table>\r\n    </div>\r\n    </div>);\r\n}\r\nexport default SensorTest;\r\n","import React, {useState,  useEffect, useRef} from 'react';\r\nimport { useSelector} from 'react-redux';\r\nimport { useHistory, useLocation } from 'react-router-dom'\r\nimport axios from 'axios';\r\nimport SettingsButton from '../SettingsButton';\r\n\r\n\r\nimport '../../index.css';\r\nimport '../Settings.css';\r\n\r\n\r\nconst LogView = (props) => {\r\n    const SERVER_URL = useSelector(root => root.serverURL);\r\n    const [current, setCurrent] = useState('');\r\n    const [fileName, setFileName] = useState('');\r\n    const topRef = useRef();\r\n    const location = useLocation();\r\n    const routeHistory = useHistory();\r\n\r\n    //USAGE: http://localhost:3000/log/5 => Loads the 5th log file ago\r\n    const getFileNumber = () => { console.log(SERVER_URL);\r\n        const result = /^\\/log\\/([0-9]+)*/.exec(location.pathname) || [0,0];\r\n        return result[1];\r\n    }\r\n\r\n    const updateLog = async (latest = false) => await axios.put(`${SERVER_URL}/log/`, latest ? {} : {fileName: fileName, fileNumber: `${getFileNumber()}`})\r\n        .then((response)=>{\r\n            setCurrent(response.data); \r\n            setFileName(response.headers['content-name']); \r\n            if(response.headers['content-name'] == 'log.txt') routeHistory.replace('/log');\r\n        return 'LOADING';})\r\n        .catch((error)=>error.response ? error.response.status : false);\r\n    useEffect(()=>updateLog(),[SERVER_URL]);\r\n\r\n    //Text Log Message Type Per Line\r\n    const isError = (line) => (/error|fail/i.test(line));\r\n    const isHeader = (line) => (/\\[\\d{1,2}-\\d{1,2}-\\d{4} \\d{1,2}:\\d{1,2}:\\d{1,2}]/.test(line));\r\n    const isClimate = (line) => (/severe|high|low/i.test(line));\r\n    const isTrace = (line) => (/^\\s*\\>{1}/.test(line));\r\n    const isSystem = (line) => (/restart|server/i.test(line));\r\n\r\n    \r\n    return(<div id='sensor-test-container' >\r\n        <SettingsButton title='UPDATE' pendingText='RETRIEVING'\r\n            condense={true}\r\n            verifyLevel={0}\r\n            onUpdate={async(password)=>await updateLog(true)}\r\n            />\r\n        <strong id='title' ref={topRef} className='settings-value-title' style={{marginTop: '1.5rem'}}>File: {fileName}</strong>\r\n    <div className='sensor-test-results'>\r\n    {current.split(/(?=\\[\\d{1,2}-\\d{1,2}-\\d{4} \\d{1,2}:\\d{1,2}:\\d{1,2}])/g).reverse()\r\n        .map(entry=>entry.split(/\\n/g)\r\n            .map((line, k) => !line.length ? <span key={k} className='no-size'></span>\r\n                : <p key={k} style={{\r\n                    color: (isHeader(line) && isError(line)) ? 'red' \r\n                        : isSystem(line) ? 'goldenrod' \r\n                        : isClimate(line) ? 'orangered' \r\n                        : isHeader(line) ? 'white'\r\n                        : isTrace(line) ? 'var(--main-color)'\r\n                        : '#848884',\r\n                    fontSize: isHeader(line) ? '14px'\r\n                        : isTrace(line) ? '12px'\r\n                        : '12px',\r\n                    fontWeight: isHeader(line) ? '500'\r\n                        : isTrace(line) ? '300'\r\n                        : '400',\r\n                    fontStyle: isTrace(line) ? 'italic' : 'normal',\r\n                    margin: isTrace(line) ? '0.1rem' : '0.2rem',\r\n                    marginLeft: isHeader(line) ? '0' \r\n                        : isTrace(line) ? '3.0rem' : '2.0rem',\r\n                    marginTop: isHeader(line) ? '1.0rem' \r\n                        : isTrace(line) ? '0.05rem' : '0.2rem'\r\n                    }}\r\n            >{line}</p>))}    </div>\r\n    {(fileName == undefined) ?  <div className='none no-size' style={{position:'absolute'}}></div> \r\n    : <SettingsButton title='PREVIOUS LOG' pendingText='SEARCHING'\r\n            condense={true}\r\n            verifyLevel={0}\r\n            onUpdate={async(password)=>await updateLog()\r\n                .then((response)=>{\r\n                    topRef.current.scrollIntoView({block: 'nearest', inline: 'start' });\r\n                    routeHistory.replace(`/log/${getFileNumber()+1}`);\r\n                    return 'LOADING';})\r\n                .catch((error)=>error.response ? error.response.status : false)}\r\n            />}\r\n    </div>);\r\n}\r\nexport default LogView;","import React, {useState, useEffect} from 'react';\r\nimport { useSelector} from 'react-redux';\r\nimport axios from 'axios';\r\nimport dateFormat from 'dateformat';\r\nimport SettingsButton from '../Settings/SettingsButton';\r\n\r\n\r\nimport '../index.css';\r\nimport './History.css';\r\n\r\n\r\nconst History = (props) => {\r\n    const SERVER_URL = useSelector(root => root.serverURL);\r\n    const DATA = useSelector(root => root.data);\r\n    const convertToFahrenheit = useSelector(root => root.convertToFahrenheit);\r\n    const [dayList, setDayList] = useState([]);\r\n    const [climate, setClimate] = useState([]);\r\n\r\n    const formatTemperature = (temp) => convertToFahrenheit ? (Math.round(((temp*(9/5)+32)) * 100) / 100) : temp;\r\n\r\n    const getTemperatureOff = (current = DATA.operatingTemperature, goal = DATA.goalTemperature) => (Math.abs(current - goal) < 1) ? <span></span> : <span>[<small>{current > goal ? '+' : '-'}</small>{Math.floor(Math.abs(current - goal))}<span>&#176;</span>]</span>;\r\n\r\n    const getHumidityOff = (current = DATA.operatingHumidity, goal = DATA.goalHumidity) => (Math.abs(current - goal) < 1) ? <span></span> : <span>[<small>{current > goal ? '+' : '-'}</small>{Math.floor(Math.abs(current - goal))}<small>%</small>]</span>;\r\n\r\n    const getEfficiency = (value, time, temperature = true) => {if(climate == undefined) return '-';\r\n        const hour = new Date(time).getHours(); \r\n        let current = undefined;  for(var i=0; i<climate.length; i++) { if(hour == climate[i].hour) { current = climate[i]; break;}}\r\n      return !current ? 0 : Math.floor((value/(temperature ? current.temperature : current.humidity)) * 100);\r\n    }\r\n    \r\n    const getDuration = (ms) => `${Math.floor(ms/60000)}:${Math.abs(ms)%60000<10000?'0':''}${Math.floor((Math.abs(ms)%60000)/1000)}`;\r\n    \r\n    const updateHistory = async() => {\r\n        axios.get(`${SERVER_URL}/data-climate/`).then((response) => { setClimate(response.data.climate);  console.log('CLIMATE', response.data);\r\n                    }).catch((error) => console.log('Failed to Fetch Climate Information', error));\r\n        return await axios.get(`${SERVER_URL}/data-history/`)\r\n                    .then((response)=>{setDayList(response.data);  console.log('HISTORY', response.data); return 'LOADING'})\r\n                    .catch((error)=>error.response ? error.response.status : false);;\r\n    }\r\n    useEffect(()=>updateHistory(),[]);\r\n    \r\n    return(<div id='history-container' >\r\n        <SettingsButton title='UPDATE' pendingText='RETRIEVING'\r\n            condense={true}\r\n            verifyLevel={0}\r\n            onUpdate={()=>updateHistory()}\r\n            />\r\n        <table style={{margin: 0, width: '100%', border: '2px solid #013214', color: 'white', borderSpacing: '4px'}}>\r\n            <thead>\r\n                <tr>\r\n                    <th style={{padding: '3px', fontWeight: 700,  fontFamily: `'New Tegomin', serif`, textAlign: 'center',}} >Time</th>\r\n                    <th style={{padding: '3px', fontWeight: 700,  fontFamily: `'New Tegomin', serif`, textAlign: 'center',}} >Temperature</th>\r\n                    <th style={{padding: '3px', fontWeight: 700,  fontFamily: `'New Tegomin', serif`, textAlign: 'center',}} >Humidity</th>\r\n                    <th style={{padding: '3px', fontWeight: 700,  fontFamily: `'New Tegomin', serif`, textAlign: 'center',}} >Active</th>\r\n                    <th style={{padding: '3px', fontWeight: 700,  fontFamily: `'New Tegomin', serif`, textAlign: 'center',}} >Inactive</th>\r\n                </tr>\r\n            </thead>\r\n            <tbody>\r\n            {!(dayList && dayList.length) ? <tr><td style={{padding: '3px', textAlign: 'center' }} >No History Available</td></tr>\r\n                : dayList.map(r=><tr>\r\n                    <td style={{padding: '3px', border: '0.05rem solid #013214', textAlign: 'center' }} >{dateFormat(r.time, ((new Date().getTime() - r.time)<(6*24*60*60*1000)) ? 'DDDD, H:MM' : 'mmm-d H:MM')}</td>\r\n                    <td style={{padding: '3px', border: '0.05rem solid #013214', textAlign: 'center' }} >{formatTemperature(r.temperature)}{convertToFahrenheit ? <small>&#8457;</small> : <small>&#8451;</small>} {getTemperatureOff(formatTemperature(r.temperature), formatTemperature(r.goalTemperature))}</td>\r\n                    <td style={{padding: '3px', border: '0.05rem solid #013214', textAlign: 'center' }} >{r.humidity}% {getHumidityOff(r.humidity, r.goalHumidity)}</td>\r\n                    <td style={{padding: '3px', border: '0.05rem solid #013214', textAlign: 'center', fontSize: '0.7em' }} >{\r\n                        !r.active.length ? null : <table style={{margin: 0, width: '100%', borderSpacing: '2px' }}><tbody>\r\n                        {r.active.map(c=><tr>\r\n                                <td style={{textAlign: 'center' }} >{`${c.name}  [${c.settings[0].reason}]`}</td>\r\n                            </tr>)}\r\n                            </tbody>\r\n                        </table>\r\n                    }</td>\r\n                    <td style={{padding: '3px', border: '0.05rem solid #013214', textAlign: 'center', fontSize: '0.7em' }} >{\r\n                        !r.active.length ? null : <table style={{margin: 0, width: '100%', borderSpacing: '2px' }}><tbody>\r\n                        {r.inactive.map(c=><tr>\r\n                                <td style={{textAlign: 'center' }} >{`${c.name}  [${c.settings[0].reason}]`}</td>\r\n                            </tr>)}\r\n                            </tbody>\r\n                        </table>\r\n                    }</td>\r\n                </tr>)}             \r\n            </tbody> \r\n        </table>\r\n    </div>);\r\n}\r\nexport default History;","import React, {useRef, useEffect} from 'react';\nimport { BrowserRouter as Router, Switch, Route, } from \"react-router-dom\";\nimport Readings from './Readings/Readings';\nimport Background from './Background/Background';\nimport ScreenSaver from './Background/ScreenSaver/ScreenSaver';\nimport Menu from './Menu/Menu';\nimport Control from './Control/Control';\nimport Schedule from './Control/Schedule/Schedule';\nimport Climate from './Climate/Climate';\nimport ErrorBar from './Readings/ErrorBar';\nimport Settings from './Settings/Settings';\nimport SensorTest from './Settings/Details/SensorTest';\nimport LogView from './Settings/Details/LogView';\n\n\nimport './App.css';\nimport History from './History/History';\n\n\n\nconst App = () => {\n\n  //ScreenSaver Detection\n  //https://stackoverflow.com/questions/37949981/call-child-method-from-parent\n  const screenSaverRef = useRef();\n  \n  const deactivateScreenSaver = () => { if(screenSaverRef.current) screenSaverRef.current.deactivateScreenSaver(); }\n  useEffect(() => window.addEventListener('scroll', deactivateScreenSaver, false), []); //https://stackoverflow.com/questions/5657292/why-is-false-used-after-this-simple-addeventlistener-function   \n\n  return (\n    <Router basename={window.location.pathname || ''}>\n      <div id=\"App\" className=' border-box' \n      onClick={()=>screenSaverRef.current.deactivateScreenSaver()}\n      onMouseMove={()=>screenSaverRef.current.deactivateScreenSaver()}\n      onWheel={()=>screenSaverRef.current.deactivateScreenSaver()}\n      >\n        <Background /> \n        {/* Screen saver toggle to not render and disable timer is redux screenSaverBrightness.setting == 'Disabled' */}\n        <ScreenSaver ref={screenSaverRef}/>\n            \n        {/* <div id='page-box' className=' border-box' style={{ top: 0, padding: '1.0rem', height: `${menuRef.current ?  (window.innerHeight - (menuRef.current.offsetHeight) - 75) : window.innerHeight}px` }}>  */}\n        \n          <Switch>\n            <Route exact path=\"/\">\n            <div id='page-box' className=' border-box' style={{boxSizing: 'border-box'}}>\n              <Readings hideDetails={false}/>\n              <Menu />\n            </div>\n            </Route>\n            <Route path=\"/controls\">\n              <ErrorBar />\n              <div id='page-box' className=' border-box' style={{boxSizing: 'border-box'}}>\n                <Control/>\n                <Menu />\n              </div>\n            </Route>\n            <Route path=\"/schedules\">\n              <ErrorBar />\n              <div id='page-box' className=' border-box' style={{boxSizing: 'border-box'}}>\n                <Schedule/>\n                <Menu />\n              </div>\n            </Route>\n            <Route path=\"/climate\">\n              <ErrorBar />\n              <div id='page-box' className=' border-box' style={{boxSizing: 'border-box'}}>\n                <Climate/>\n                <Menu />\n              </div>\n            </Route>\n            <Route path=\"/history\">\n              <ErrorBar />\n              <div id='page-box' className=' border-box' style={{boxSizing: 'border-box'}}>\n                <History/>\n                <Menu />\n              </div>\n            </Route>\n            <Route path=\"/settings\">\n              <ErrorBar />\n              <div id='page-box' className=' border-box' style={{boxSizing: 'border-box'}}>\n                <Settings deactivateScreenSaver={(d)=>screenSaverRef.current.deactivateScreenSaver(d)}/>\n                <Menu />\n              </div>\n            </Route>\n            <Route path=\"/log\">\n              <ErrorBar />\n              <div id='page-box' className=' border-box' style={{boxSizing: 'border-box'}}>\n                <LogView/>\n                <Menu />\n              </div>\n            </Route>\n            <Route path=\"/sensor-testing\">\n              <ErrorBar />\n              <div id='page-box' className=' border-box' style={{boxSizing: 'border-box'}}>\n                <SensorTest/>\n                <Menu />\n              </div>\n            </Route>\n          </Switch>       \n        </div>\n    </Router>\n    ); //top layer last\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\nimport axios from 'axios';\nimport{Provider} from 'react-redux';\nimport {createStore, combineReducers} from 'redux';\n\nimport defaultImage from './Background/terrarium-buddies.jpg';\n\n\n\n//Action Creators (manipulate State) => Doing in Component | Traditional Method is to predefine here and import into component, just to send back to reducer\n\n//Single State with one Reducer | Could all be separate with separate reducers and combine with: 'combineReducers'\n\n//Reducers : Perform state Update\nconst setServerURLReducer = (state = '' || '', action) => {\n  if(action.type == 'setServerURL')  return action.payload;\n  else return state;\n}\n\nconst initialImage = {\n  IMAGE_INTERVAL: 6000,\n  TRANSITION_INTERVAL: 1000,\n  SCREENSAVER_INACTIVE_TIME: 60000,\n  location: defaultImage,\n  isVisible: false,  // https://stackoverflow.com/questions/40064249/react-animate-mount-and-unmount-of-a-single-component\n}\nconst setImageReducer = (state = initialImage, action) => {\n  if(action.type == 'setImage') { return {...state, location: action.payload, isVisible: true};}\n  else if(action.type == 'setImageVisible') return {...state, isVisible: true};\n  else if(action.type == 'setImageInvisible') return {...state, isVisible: false};\n  else return state;\n}\nconst screenSaverActiveReducer = (state = true, action) => { //Image Opacity on/off -> transition css\n  if(action.type == 'activateScreenSaver')  return true; \n  else if(action.type == 'deactivateScreenSaver')  return false;\n  else return state;\n}\nconst initialScreenSaverBrightness = {\n  settingOptions: ['Default', 'Scheduled', 'Black', 'Disabled'],\n  setting: 'Default',\n  dayOpacity: 1.00,\n  dayHourStart: 7,\n  nightOpacity: 0.35,\n  nightHourStart: 19,\n  blackHourStart: 21,\n}\nconst ScreenSaverBrightnessReducer = (state = initialScreenSaverBrightness, action) => {\n  switch(action.type) {\n    case 'setting':\n      if(state.settingOptions.includes(action.payload)) return {...state, setting: action.payload};\n      else return state;\n    case 'dayOpacity':\n      return {...state, setting: 'Scheduled', dayOpacity: action.payload};\n    case 'dayHourStart':\n      return {...state, setting: 'Scheduled', dayHourStart: action.payload};\n    case 'nightOpacity':\n      return {...state, setting: 'Scheduled', nightOpacity: action.payload};\n    case 'nightHourStart':\n      return {...state, setting: 'Scheduled', nightHourStart: action.payload};\n    case 'blackHourStart':\n      return {...state, setting: 'Scheduled', blackHourStart: action.payload};\n    default: return state;\n  }\n}\nconst setDataReducer = (state = {}, action) => {\n  if(action.type == 'setData') return {...action.payload};\n  else return state;\n}\n\nconst toggleConvertToFahrenheitReducer = (state = true, action) => { \n  if(action.type == 'toggleConvertToFahrenheit') return !state; \n  else return state;\n}\n\nconst setDropListReducer = (state = 'OFF', action) => { \n  if(action.type == 'setDropList' && state == action.payload) return 'OFF';\n  else if(action.type == 'setDropList' && action.payload == undefined) return 'OFF';  \n  else if(action.type == 'setDropList') return action.payload; \n  else return state;\n}\n\n/*********************\n  Setup Redux Store\n********************/\nconst allStateDomains = combineReducers({\n  serverURL: setServerURLReducer,\n  image: setImageReducer,\n  isScreenSaverActive: screenSaverActiveReducer, \n  screenSaverBrightness: ScreenSaverBrightnessReducer,\n  data: setDataReducer,\n  convertToFahrenheit: toggleConvertToFahrenheitReducer,\n  dropListOpen: setDropListReducer\n});\n\nconst store = createStore(allStateDomains,{});\n\n\n/*********************\n     Fetch Background Image\n********************/\nsetInterval(()=>{//console.log('fetching Image', store.getState().image.image);\n  axios.get(`${store.getState().serverURL}/${(window.innerHeight > window.innerWidth) ? 'image-portrait' : 'image-landscape'}/`, { responseType: \"blob\" })\n  .then((response) => {\n    store.dispatch({type: 'setImageInvisible'});\n    setTimeout(() => {\n      store.dispatch({type: 'setImage', payload: URL.createObjectURL(response.data)});//also sets image viable // CSS transitions\n    \n    }, store.getState().image.TRANSITION_INTERVAL/2);\n  })\n  .catch((error) => {\n      console.error(error);\n      // setImage(defaultImage);\n    });\n}, store.getState().image.IMAGE_INTERVAL+store.getState().image.TRANSITION_INTERVAL || 5000);\n\n/*********************\n     Fetch Data\n********************/\nexport const fetchData = async(testURL)=> {\n  const url = testURL || store.getState().serverURL;\n\n  return await axios.get(`${url}/data/`, { responseType: \"json\", timeout: testURL ? 500 : undefined })\n    .then((res) => {const response = res.data;\n      store.dispatch({type: 'setData', payload: response});\n\n      store.dispatch({type: 'setServerURL', payload: url});\n      localStorage.setItem(\"server\", url);\n\n      console.log('Fetching Data Successful: ', url, response);\n      setTimeout(()=>fetchData(), response ? (((response.timeNextEvaluation) - new Date().getTime())+30000) : (60*1000));\n      return true;\n    })\n    .catch((error) => {\n        console.error('Failed to Fetch Data:', url, error);\n        // store.dispatch({type: 'setData'});\n      if(!testURL) \n        setTimeout(()=>fetchData(), (60*1000));\n      return false;\n    });\n  }\n\n/**************************************\n Initialization and Find Server URL\n***************************************/\n//Sample URL: https://terrarium-control.tech/?server=70.124.144.161:4750&server=192.168.1.240:4700&redirect=http://192.168.1.240:4700/\nconst start = async() => {\n//Test Server Queries\nconst serverPramList = window.location.search.match(/(?<=server=).*?(?:(?!\\/|&|$).)*/g);\n\nif(serverPramList) {\n  for(let serverPram of serverPramList) { console.log(\"Server Pram:\", serverPram, serverPramList);\n\n    //Query Parameter HTTP\n    if(await fetchData(`http://${serverPram}`)) {\n      console.log('HTTP Query Server Identified:', store.getState().serverURL);\n      return;\n    } \n\n    //Query Parameter HTTPS Secure\n    else if(await fetchData(`https://${serverPram}`)) {\n      console.log('HTTPS Query Server Identified:', store.getState().serverURL);\n      return;\n    }\n  }\n} \n\n  //Local Storage\n  if(await fetchData(localStorage.getItem(\"server\"))) {\n      console.log('LocalStorage Server Identified:', store.getState().serverURL);\n  }\n\n  //Test Query Redirects\n  else {\n    const redirectPramList = window.location.search.match(/(?<=redirect=).*?(?:(?!&|$).)*/g);\n\n    if(redirectPramList) {\n      const redirectURL = redirectPramList.findIndex(window.location.host);\n\n      if((redirectURL > -1) && ((redirectURL+1) < redirectPramList.length))\n        window.location.replace(redirectPramList[redirectURL+1]+window.location.search);  //Redirect with Query Parameters\n    }\n\n  } \n\n  console.error('Failed to Identify Server');\n  store.dispatch({type: 'setServerURL', payload: window.location.origin});\n  fetchData(); //Enter Reattempt State\n}\n\nstart();\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store} >\n          <App />\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n\n\n\n"],"sourceRoot":""}