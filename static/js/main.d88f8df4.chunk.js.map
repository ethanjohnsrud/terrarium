{"version":3,"sources":["useInterval.jsx","Verify.jsx","Settings/SettingsButton.jsx","Settings/SettingsBlank.jsx","Readings/Readings.jsx","Background/terrarium-buddies.jpg","Background/Background.jsx","Background/ScreenSaver/ScreenSaver.jsx","Menu/frog-logo.png","Menu/Menu.jsx","Control/Duration.jsx","Control/Control.jsx","Control/Schedule/Schedule.jsx","Climate/Climate.jsx","Readings/ErrorBar.jsx","Settings/SettingsList.jsx","Settings/Settings.jsx","Settings/Details/SensorTest.jsx","Settings/Details/LogView.jsx","History/History.jsx","App.js","reportWebVitals.js","index.js"],"names":["useInterval","callback","delay","limit","savedCallback","useRef","useEffect","current","id","setInterval","setTimeout","clearInterval","Verify","props","useState","input","setInput","seeText","setSeeText","isAdvanced","prompt","toLowerCase","includes","style","position","zIndex","width","height","top","left","backgroundColor","display","flexDirection","justifyContent","alignItems","textAlign","padding","borderRadius","margin","color","autoFocus","gridColumn","border","type","onChange","e","target","value","onKeyPress","charCode","undefined","onSubmit","onClick","marginLeft","onCancel","SettingsButton","verification","setVerification","buttonText","setButtonText","verifyLevel","condense","pendingText","buttonColor","getButtonColor","makeRequest","password","localStorage","getItem","setItem","toString","onUpdate","success","isNaN","clear","processUpdate","overflow","className","buttonStyle","title","HoldButton","SERVER_URL","useSelector","root","serverURL","DATA","data","time","setTime","timeNextEvaluation","timer","setTimer","Date","getTime","frequencyActive","Math","floor","fetchData","axios","post","PASSWORD","duration","evaluationFrequency","then","response","catch","error","status","SettingsBlank","setCurrent","setValue","inputType","numberStep","updateButton","text","overrideValidation","cache","gridTemplateColumns","name","v","step","ERRORBACKGROUNDCOLOR","Readings","forwardRef","ref","nextCountDown","setNextCountDown","previousCountUp","setPreviousCountUp","sensorColor","setSensorColor","maxError","setMaxError","ERROR_LIST","setERROR_LIST","convertToFahrenheit","dispatch","useDispatch","routeHistory","useHistory","sensorRef","showDetails","hideDetails","getDefaultBackgroundColor","getSensorFontColor","getTemperaturePercent","operatingTemperature","goal","goalTemperature","min","minimumTemperature","max","maximumTemperature","getHumidityPercent","operatingHumidity","goalHumidity","minimumHumidity","maximumHumidity","list","sensorErrorCode","push","maximumTemperatureErrorCode","minimumTemperatureErrorCode","maximumHumidityErrorCode","minimumHumidityErrorCode","accessDatabase","timeLastReading","previous","formatTemperature","temp","round","window","innerWidth","align","setAlign","temperatureSectionTop","document","getElementById","getBoundingClientRect","humiditySectionTop","HumidityOnClick","TemperatureOnClick","sensorOnClick","ReadingsArrangement","mobile","desktop","getWidget","length","slice","map","i","gridRow","overflowX","fontSize","fontFamily","borderColor","statusMessage","match","reverse","m","operatingSchedules","join","dateFormat","payload","getUpdate","columnGap","verticalAlign","marginRight","sort","a","b","widget","Background","IMAGE","image","src","location","defaultImage","alt","objectFit","opacity","visible","transition","TRANSITION_INTERVAL","TimeBar","countUp","setCountUp","bottom","whiteSpace","right","ScreenSaver","React","serverError","setServerError","isScreenSaverActive","showScreenSaver","setShowScreenSaver","screenSaverOpacity","setScreenSaverOpacity","screenSaverBrightness","calculateBrightness","setting","hour","options","blackHourStart","dayHourStart","dayOpacity","nightHourStart","nightOpacity","console","log","screensaverTimer","resetTimer","deactivateScreenSaver","useCallback","clearTimeout","SCREENSAVER_INACTIVE_TIME","useImperativeHandle","isVisible","Menu","routeLocation","useLocation","textDecoration","pathname","icon","to","DURATION_LIST","getDurationName","places","parseInt","getDurationValue","cleanedValue","exec","label","EXCLUDE_CONTROL_TYPES","MakeToggle","overridden","until","test","topReason","severe","isSelected","select","active","Control","durationIndex","setDurationIndex","selectMode","setSelectMode","selectedList","setSelectedList","setControlTypes","controlTypes","smartIndex","findIndex","d","shortedNameList","names","y","CONTROLS","types","result","forEach","substring","toUpperCase","scheduleNow","set","reason","JSON","stringify","repeat","event","c","settings","filter","minWidth","typesMap","Map","t","get","index","mapList","controlList","getControlTypes","original","every","val","arr","DropMenu","customDefault","custom","setCustom","multipleList","setMultipleList","openList","dropListOpen","customName","selectMultiple","outerStyle","onFocus","onBlur","buttonStyleClass","dropListId","subValue","borderBottom","marginTop","onSelect","option","extraList","borderTop","extraName","onExtra","marginBottom","getDay","today","setHours","tomorrow","yesterday","day","getDate","getDateAbbreviation","getDateList","DropDateMenu","customDate","setCustomDate","getMonth","h","getHours","getMinutes","ScheduleRow","pendingAction","setPendingAction","priority","setPriority","setMinutes","setTitle","titleEdited","setTitleEdited","setNames","setDuration","setSet","setRepeat","resetVariables","insertNew","isControlsChanged","Array","isArray","isTimeChanged","isTitleChanged","isDurationChanged","isSetChanged","isRepeatChanged","isChanged","isControlsValid","isTimeValid","isTitleValid","isDurationValid","isSetValid","isRepeatValid","action","space","maxWidth","overriddenList","unshift","getUpdateOptions","replace","s","r","Schedule","SCHEDULES","setSCHEDULES","sortByTime","setSortByTime","calculatedList","setCalculatedList","fetchSchedules","schedules","days","minimum","end","count","occurrences","overrides","reduce","least","find","some","calculateOccurrenceList","getOverriddenList","schedule","currentPriority","increase","attributeName","Climate","CLIMATE","setCLIMATE","range","setRange","temperatureMode","setTemperatureMode","saveButtonText","setSaveButtonText","fetchClimate","climate","getMaxValue","format","ghost","ceil","getMinValue","getWidthOffset","parseFloat","getComputedStyle","documentElement","getRange","values","cellRatio","calculatedWidth","paddingLeft","paddingRight","j","item","temperature","toFixed","humidity","readOnly","temperatureAverage","humidityAverage","ADVANCED_PASSPHRASE","tag","ErrorBar","SettingsList","setOptions","setList","newCurrent","newOptions","addCustom","latestList","l","toggleOption","latest","allowed","o","getOldOptions","old","Settings","SCREENSAVER_BRIGHTNESS","route","body","onSuccess","put","LOCAL_SETTINGS","settingOptions","splice","emailStatusRecipients","emailIssueRecipients","email","message","updateRegularity","updateRegularityOptions","sensorType","sensorTypes","sensorMode","sensorModes","mode","pop","SensorTest","testingDuration","setTestingDuration","testingInterval","setTestingInterval","fetchingError","setFetchingError","interval","minutes","seconds","borderSpacing","split","p","colspan","LogView","fileName","setFileName","topRef","getFileNumber","updateLog","fileNumber","headers","isError","line","isHeader","isClimate","isTrace","isSystem","entry","k","fontWeight","fontStyle","scrollIntoView","block","inline","History","dayList","setDayList","setClimate","getTemperatureOff","abs","getHumidityOff","updateHistory","inactive","App","screenSaverRef","addEventListener","basename","onMouseMove","onWheel","exact","path","boxSizing","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","initialImage","IMAGE_INTERVAL","initialScreenSaverBrightness","allStateDomains","combineReducers","state","store","createStore","getState","innerHeight","responseType","URL","createObjectURL","testURL","ReactDOM","render","StrictMode"],"mappings":"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","file":"static/js/main.d88f8df4.chunk.js","sourcesContent":["import {useEffect, useRef} from 'react';\r\n\r\n//Custom Hook : Interval for autoplay\r\nexport default function useInterval (callback, delay, limit) {\r\n    const savedCallback = useRef();\r\n    // Remember the latest callback.\r\n    useEffect(() => {\r\n      savedCallback.current = callback;\r\n    }, [callback]);\r\n    // Set up the interval.\r\n    useEffect(() => {\r\n      let id = setInterval(() => {\r\n        savedCallback.current();\r\n      }, delay);\r\n      if(limit) setTimeout(() => {clearInterval(id);}, limit);\r\n      return () => {clearInterval(id);}\r\n    }, [delay]);\r\n  }","import React, {useState} from 'react';\r\n\r\n\r\nconst Verify = (props) => {\r\n    const [input, setInput] = useState();\r\n    const [seeText, setSeeText] = useState(false);\r\n\r\n    const isAdvanced = () => props.prompt.toLowerCase().includes('advance' || 'passphrase');\r\n\r\n    return (<div id='verify-container' style={{position: 'fixed', zIndex: 35, width: '100vw', height: '100vh', top: 0, left:0, backgroundColor: `rgba(0,0,0,${isAdvanced() ? '1.0' : '0.7'})`, \r\n                                                display: 'flex', flexDirection: 'column', justifyContent: 'center', alignItems: 'center'}}>\r\n        <div id='verify-inside' style={{position: 'relative', display: 'grid', textAlign: 'center', padding: '1.0rem 2.0rem', backgroundColor: isAdvanced() ? 'darkred' : 'var(--main-color)', borderRadius: '5px', }}>\r\n            <strong style={{margin: '0.5rem', width: '100%', textAlign: 'left', color: isAdvanced() ? 'whitesmoke' : 'black'}}>{props.prompt}:</strong>\r\n            <div style={{display: 'grid', backgroundColor: 'black', borderRadius: '5px', padding: '0.25rem 0.5rem',}}>\r\n                <input autoFocus style={{gridColumn: 1, border: 'none', backgroundColor: 'black', color: 'whitesmoke'}} type={seeText ? 'text' : 'password'} onChange={(e)=>setInput(e.target.value)} onKeyPress={(e)=>{if(e.charCode == 13 && input != undefined && input != '') props.onSubmit(input);}}/>\r\n                <input type='checkbox'value={seeText} onClick={()=>setSeeText(!seeText)} style={{gridColumn: 2, border: 'none', color: 'var(--main-color)', height: '1.2rem', width: '1.2rem', marginLeft: '1.0rem'}} />\r\n            </div>\r\n            <div>\r\n                <button style={{border: '2px solid white', backgroundColor: 'whitesmoke', color: 'black', padding: '0.25rem', margin: '0.5rem'}} onClick={()=>props.onCancel()}>CANCEL</button>\r\n                <button style={{border: 'none', backgroundColor: 'black', color: 'white', padding: '0.35rem', margin: '0.5rem'}} onClick={()=>{if(input != undefined && input != '') props.onSubmit(input);}}>SUBMIT</button>\r\n            </div>\r\n        </div>\r\n    </div>);\r\n}\r\nexport default Verify;","import React, {useState, useEffect} from 'react';\r\nimport { useSelector} from 'react-redux';\r\nimport axios from 'axios';\r\nimport useInterval from '../useInterval';\r\nimport Verify from '../Verify';\r\nimport {fetchData} from '../index';\r\n\r\nimport '../index.css';\r\nimport './Settings.css';\r\n\r\nconst SettingsButton = (props) => {\r\n    const [verification, setVerification] = useState(undefined);\r\n    const [buttonText, setButtonText] = useState('UPDATE');\r\n\r\n    //Guidelines Abstracted\r\n    const verifyLevel = (props.verifyLevel != undefined) ? props.verifyLevel : 1;\r\n    const condense = (props.condense != undefined) ? props.condense : false;\r\n    const pendingText = (props.pendingText != undefined) ? props.pendingText : 'PENDING';\r\n    const buttonColor = (props.buttonColor != undefined) ? props.buttonColor : 'var(--main-color)';\r\n    const getButtonColor=(buttonText)=>(buttonText=='UPDATE') ? buttonColor : (buttonText=='PASS' || buttonText=='INVALID' || buttonText=='FAILED') ? '#e8000d' : (buttonText=='PENDING' || buttonText=='BLANK') ? 'orange' : '#cc5500';\r\n\r\n    //*********************************\r\n    //   API REQUEST & VERIFICATION\r\n    //*********************************\r\n    const makeRequest=async(password)=>{ setVerification(undefined); //saving local until fetch up stream is called to replace data\r\n        if(verifyLevel == 1 && !localStorage.getItem(\"password\")) await localStorage.setItem(\"password\", password.toString());\r\n        const success = await props.onUpdate(password);\r\n        if(success == null || success == undefined) setButtonText('UPDATE');\r\n        else if(success == true || isNaN(success)) {setButtonText((success != true) ? success : 'SAVED'); setTimeout(()=>setButtonText('UPDATE'), 3000); }\r\n        else if(success == 401) { setButtonText('PASS'); setTimeout(()=>setButtonText('UPDATE'), 5000); localStorage.clear();}\r\n        else if(success == 404) { setButtonText('INVALID'); setTimeout(()=>setButtonText('UPDATE'), 5000); }\r\n        else {setButtonText('FAILED'); setTimeout(()=>setButtonText('UPDATE'), 5000);}\r\n    }\r\n\r\n    const processUpdate=()=>{ if(buttonText == 'UPDATE') { setButtonText('PENDING');\r\n        if(verifyLevel == 0) makeRequest(undefined); //No Security\r\n        else if(verifyLevel == 1 && !localStorage.getItem(\"password\")) setVerification('Enter Control Password to Continue:'); //Only Request if not stored\r\n        else if(verifyLevel == 1) makeRequest(localStorage.getItem(\"password\")); //Use Saved Password\r\n        else setVerification('Enter Advanced Passphrase to Proceed:'); //undefined || >1\r\n    }}\r\n    \r\n    //*********************************\r\n    //   HTML DISPLAY\r\n    //*********************************\r\n\r\n    return(<section style={{overflow: 'hidden'}}>\r\n        {(condense) ?   <button className={`settings-single-button`} onClick={()=>processUpdate()}  style={{...props.buttonStyle, overflow: 'hidden', backgroundColor: buttonColor}}>{props.title}\r\n                                <label className={`settings-single-button-overlay`} style={{display: buttonText == 'UPDATE' ? 'none' : 'flex', overflow: 'hidden', backgroundColor: getButtonColor(buttonText)}}>{buttonText}</label></button>\r\n        : <div className='settings-value-box' style={{display: (condense) ? 'block' : 'grid'}}>\r\n        <button className={`settings-single-button`} onClick={()=>processUpdate()}  style={{...props.buttonStyle, overflow: 'hidden', backgroundColor:  getButtonColor(buttonText)}}>{buttonText == 'UPDATE' ? props.title : buttonText == 'PENDING' ? pendingText : buttonText}</button>\r\n        </div>}\r\n        {verification ?\r\n            <Verify\r\n                prompt={verification}\r\n                onSubmit={makeRequest}\r\n                onCancel={()=>{setVerification(undefined); setButtonText('UPDATE');}}\r\n            />  : <div className='none no-size' style={{position:'absolute'}}></div>}\r\n    </section>);\r\n}\r\nexport default SettingsButton;\r\n\r\nexport const HoldButton = (props) => {\r\n    const SERVER_URL = useSelector(root => root.serverURL);\r\n    const DATA = useSelector(root => root.data);\r\n    const [time, setTime] = useState(0);\r\n    useEffect(()=>setTime(DATA.timeNextEvaluation),[DATA]);\r\n    const [timer, setTimer] = useState(0);\r\n    useInterval(()=>setTimer(time - new Date().getTime()), 1000);\r\n\r\n    return (<SettingsButton title={`${!DATA.frequencyActive ? 'HOLDING' : 'HOLD'}    -  ${(timer <= 0) ? 'evaluating' : `${(timer>3600000)?`${Math.floor(timer/3600000)}:`:''}${(timer>60000)?`${Math.floor((timer%3600000)/60000)}:`:''}${((timer>60000) && (timer%60000<10000))?'0':''}${Math.floor((timer%60000)/1000)}`}`}\r\n    condense={true}\r\n    buttonStyle={props.buttonStyle}\r\n    buttonColor={!DATA.frequencyActive ? '#cc5500' : props.buttonColor}\r\n    verifyLevel={props.verifyLevel || 1}\r\n    onUpdate={(password)=>{setTimeout(()=>fetchData(), 5000); return axios.post(`${SERVER_URL}/postpone-evaluation/`, {PASSWORD: password, duration: props.duration || DATA.evaluationFrequency}).then((response)=>{setTime((props.duration || DATA.evaluationFrequency) + new Date().getTime());  return 'HOLDING';}).catch((error)=>error.response ? error.response.status : false);}} \r\n    />);\r\n}","import React, {useState, useEffect} from 'react';\r\nimport Verify from '../Verify';\r\n\r\nimport '../index.css';\r\nimport './Settings.css';\r\n\r\nconst getButtonColor=(buttonText) =>  (buttonText=='' || buttonText=='SEND') ? 'transparent' : (buttonText=='UPDATE') ? 'var(--main-color)' : (buttonText=='PASS' || buttonText=='INVALID' || buttonText=='FAILED') ? '#e8000d' : (buttonText=='PENDING' || buttonText=='BLANK') ? 'orange' : '#cc5500';\r\n\r\nconst SettingsBlank = (props) => {\r\n    const [verification, setVerification] = useState(undefined);\r\n    const [current, setCurrent] = useState(props.current);\r\n    const [value, setValue] = useState(current);\r\n    const [buttonText, setButtonText] = useState('');\r\n\r\n    //Guidelines Abstracted\r\n        const verifyLevel = (props.verifyLevel != undefined) ? props.verifyLevel : 2;\r\n        const inputType = (props.inputType != undefined && props.condense == undefined) ? props.inputType : (isNaN(props.current) ? 'text' : 'number' );\r\n        const numberStep = (props.numberStep != undefined) ? props.numberStep : 1;\r\n        const condense = (props.condense != undefined) ? props.condense : false;\r\n\r\n        const updateButton = async()=>{const text = (value == current && props.current == undefined) ? 'BLANK' : (inputType == 'number' && isNaN(value)) ? 'NUMBER' : (value != current) ? 'UPDATE' : (props.overrideValidation) ? 'SEND' : '';\r\n                                        setButtonText(text); return text;}\r\n        useEffect(()=>updateButton(), [value]);\r\n\r\n    //*********************************\r\n    //   API REQUEST & VERIFICATION\r\n    //*********************************\r\n    const makeRequest=async(password)=>{ setVerification(undefined); //saving local until fetch up stream is called to replace data\r\n        if(verifyLevel == 1 && !localStorage.getItem(\"password\")) await localStorage.setItem(\"password\", password.toString());\r\n        const success = await props.onUpdate(value, password);\r\n        if(success == true || isNaN(success)) {setButtonText((success != true) ? success : 'SAVED'); setCurrent(inputType == 'textarea' ? '' : value); if(inputType == 'textarea') setValue(''); setTimeout(()=>setButtonText(''), 5000); }\r\n        else if(success == 401) { if(!props.cache) setButtonText('PASS'); setTimeout(()=>setValue(current), 5000);  localStorage.clear();}\r\n        else if(success == 404) { if(!props.cache) setButtonText('INVALID');setTimeout(()=>setValue(current), 5000); }\r\n        else {setButtonText('FAILED'); if(!props.cache) setTimeout(()=>setValue(current), 5000); }\r\n\r\n    }\r\n\r\n    const processUpdate=async()=>{ if(props.overrideValidation || await updateButton() == 'UPDATE') { setButtonText('PENDING');\r\n        if(verifyLevel == 0) makeRequest(undefined); //No Security\r\n        else if(verifyLevel == 1 && !localStorage.getItem(\"password\")) setVerification('Enter Control Password to Continue:'); //Only Request if not stored\r\n        else if(verifyLevel == 1) makeRequest(localStorage.getItem(\"password\")); //Use Saved Password\r\n        else setVerification('Enter Advanced Passphrase to Proceed:'); //undefined || >1\r\n    }}\r\n\r\n    //*********************************\r\n    //   HTML DISPLAY\r\n    //*********************************\r\n\r\n    return(<div className='settings-value-box' style={{gridTemplateColumns: (condense) ? '1fr 1fr' : null}}>\r\n        {(props.title==undefined) ?  <div className='none no-size' style={{position:'absolute'}}></div> : <strong className='settings-value-title' >{props.title}</strong>}\r\n        {inputType == 'textarea' ? <textarea name=\"textarea\" value={value} onChange={(v)=>setValue(v.target.value)} />\r\n        : <input className='settings-value-input' style={{color: (condense && buttonText != '') ? getButtonColor(buttonText) : null}} type={inputType} step={inputType == 'number' ? numberStep : null} value={value} onChange={(v)=>setValue(v.target.value)} onKeyPress={(e)=>{if(e.charCode == 13) {processUpdate();}}}/>}\r\n        {condense ?  <div className='none no-size' style={{position:'absolute'}}></div> : <button className='settings-value-button' onClick={processUpdate}  style={{backgroundColor:  getButtonColor(buttonText)}}>{(inputType == 'textarea' && value != '') ? 'SAVE' : buttonText}</button>}\r\n        {verification ?\r\n            <Verify\r\n                prompt={verification}\r\n                onSubmit={makeRequest}\r\n                onCancel={()=>{setVerification(undefined); setButtonText('UPDATE');}}\r\n            />  : <div className='none no-size' style={{position:'absolute'}}></div>}\r\n    </div>);\r\n}\r\nexport default SettingsBlank;\r\n","import React, {useState, useEffect, forwardRef, useRef} from 'react';\r\nimport { useHistory} from \"react-router-dom\";\r\nimport { useSelector, useDispatch} from 'react-redux';\r\nimport dateFormat from 'dateformat';\r\nimport useInterval from '../useInterval';\r\nimport './Readings.css';\r\nimport '../index.css';\r\nimport SettingsButton from '../Settings/SettingsButton';\r\nimport { fetchData } from '..';\r\nimport SettingsBlank from '../Settings/SettingsBlank';\r\n\r\n\r\nconst BACKGROUNDCOLOR = 'rgba(24, 98, 24, 0.5)';\r\nconst ERRORBACKGROUNDCOLOR = 'darkred';\r\nconst HOLDINGBACKGROUNDCOLOR = '#cc5500';\r\n\r\n\r\n const Readings = forwardRef((props, ref) => {\r\n    const [nextCountDown, setNextCountDown] = useState(0);\r\n    const [previousCountUp, setPreviousCountUp] = useState(0);\r\n    const [sensorColor, setSensorColor] = useState(BACKGROUNDCOLOR);\r\n    const [maxError, setMaxError] = useState(2);\r\n    const [ERROR_LIST, setERROR_LIST] = useState(['SERVER DISCONNECTED']);\r\n    const DATA = useSelector(root => root.data);\r\n    const SERVER_URL = useSelector(root => root.serverURL);\r\n    const convertToFahrenheit = useSelector(root => root.convertToFahrenheit);\r\n    const dispatch = useDispatch();\r\n    const routeHistory = useHistory();\r\n    const sensorRef = useRef(); \r\n    \r\n    const showDetails = () => (props.hideDetails && maxError == 0) ? false : true;\r\n\r\n    const getDefaultBackgroundColor = () => showDetails() ? 'rgba(24, 98, 24, 0.85)' : 'rgba(24, 98, 24, 0.3)';\r\n\r\n    const getSensorFontColor = () => (sensorColor == ERRORBACKGROUNDCOLOR || !maxError || !DATA.frequencyActive) ? 'white' : ERRORBACKGROUNDCOLOR;\r\n\r\n    const getTemperaturePercent = (current = DATA.operatingTemperature, goal = DATA.goalTemperature, min = DATA.minimumTemperature, max = DATA.maximumTemperature) => (current >= max) ? 2 + ((current-max) * (1/(max-min))) : (current <= min) ? ((current-min) * (1/(max-min))) : 1 - ((goal-current) * (1/(max-min))); \r\n\r\n    const getHumidityPercent = (current = DATA.operatingHumidity, goal = DATA.goalHumidity, min = DATA.minimumHumidity, max = DATA.maximumHumidity) => (current >= max) ? 2 + ((current-max) * (1/(max-min))) : (current <= min) ? ((current-min) * (1/(max-min))) : 1 - ((goal-current) * (1/(max-min))); \r\n\r\n//Evaluate Current Errors //Error 0, 1, 2\r\n    useEffect(()=>{let max = 0; let list = [];\r\n        if(DATA.sensorErrorCode == undefined) {max = 2; list.push('SERVER DISCONNECTED');}\r\n        else {//Ordered Importance\r\n            if(DATA.sensorErrorCode) {max = Math.max(max, DATA.sensorErrorCode); list.push('SENSOR ERROR');}\r\n            if(DATA.maximumTemperatureErrorCode) {max = Math.max(max, DATA.maximumTemperatureErrorCode); list.push('MAXIMUM TEMPERATURE');}\r\n            if(DATA.minimumTemperatureErrorCode) {max = Math.max(max, DATA.minimumTemperatureErrorCode); list.push('MINIMUM TEMPERATURE');}\r\n            if(DATA.maximumHumidityErrorCode) {max = Math.max(max, DATA.maximumHumidityErrorCode); list.push('MAXIMUM HUMIDITY');}\r\n            if(DATA.minimumHumidityErrorCode) {max = Math.max(max, DATA.minimumHumidityErrorCode); list.push('MINIMUM HUMIDITY');}\r\n            if((DATA.accessDatabase != undefined && !DATA.accessDatabase)) {max = Math.max(max, 1); list.push('DATABASE LOCKED');}\r\n        } setMaxError(max); setERROR_LIST(list);\r\n    },[DATA]);\r\n\r\n    useInterval(()=>{setNextCountDown(DATA.timeNextEvaluation - new Date().getTime()); setPreviousCountUp(new Date().getTime() - DATA.timeLastReading)\r\n                    setSensorColor(previous => (maxError == 1 || previous == 'whitesmoke') ? ERRORBACKGROUNDCOLOR : (maxError > 1) ? 'whitesmoke' : getDefaultBackgroundColor()); \r\n    }, 1000);\r\n\r\n    const formatTemperature = (temp) => (Math.round((convertToFahrenheit ? ((temp*(9/5)+32)) : temp) * 100) / 100);\r\n\r\n    const getSensor = () => (DATA.operatingTemperature && !showDetails()) ? <div className='none no-size'></div>\r\n        : <div ref={sensorRef} id='condition-details' className='none readings-box-outer' style={{color: getSensorFontColor()}}>\r\n            <div className='readings-box-inner' style={{backgroundColor: sensorColor}}>\r\n                <div className=' readings-value-box' >\r\n                    {(ERROR_LIST.length) \r\n                        ? <strong id={'readings-top-error'} style={{color: sensorColor == ERRORBACKGROUNDCOLOR ? 'white' : ERRORBACKGROUNDCOLOR}}>{ERROR_LIST[0]}</strong>\r\n                        : <div className='none no-size'></div>\r\n                     }\r\n                    {(ERROR_LIST.length > 1) ? ERROR_LIST.slice(1).map((e,i)=><strong key={`error-${i}`} className=' ' style={{gridRow: (i+3), gridColumn: 1, overflowX: 'auto', fontSize: '1.2rem', fontFamily: `'New Tegomin', serif`, margin: 0, color: sensorColor == ERRORBACKGROUNDCOLOR ? 'white' : ERRORBACKGROUNDCOLOR}} >{e}</strong>): <div className='none no-size'></div>}\r\n                    {(ERROR_LIST.length > 1) ? <hr style={{borderColor: getSensorFontColor()}}></hr> : <div className='none no-size'></div>}\r\n                    {(DATA.statusMessage && DATA.statusMessage.length) ?  <div style={{display: 'inline-grid', gridRow: 2, gridColumn: 1,}}>\r\n                    {DATA.statusMessage.match(/[^\\r\\n]+/g).reverse().map((m, i)=>\r\n                        <section key={`statusMessage-${i}`} className='readings-status-message' style={{gridRow: (i+2)}} > {m}</section>\r\n                    )} </div> : <div className='none no-size'></div>}\r\n                    {(DATA.operatingSchedules || []).length \r\n                        ? <p className={'readings-schedule-list'}  >{DATA.operatingSchedules.join(' | ')}</p>\r\n                        : <div className='none no-size'></div>}\r\n                </div>\r\n                {(DATA.operatingTemperature) ? <section className='readings-value-box'>\r\n                    <hr style={{borderColor: getSensorFontColor()}}></hr>\r\n                    <p className='none readings-description' style={{gridRow: 2, gridColumn: 1,}} >Last Sensor Reading:</p>\r\n                    <strong className='none readings-value' style={{gridRow: 2, gridColumn: 2, }} >{dateFormat(DATA.timeLastReading, 'm-d-yy HH:MM')}{previousCountUp > DATA.evaluationFrequency ? ` [${`${(previousCountUp>3600000)?`${Math.floor(previousCountUp/3600000)}:`:''}${(previousCountUp>60000)?`${Math.floor((previousCountUp%3600000)/60000)}:`:''}${((previousCountUp>60000) && (previousCountUp%60000<10000))?'0':''}${Math.floor((previousCountUp%60000)/1000)}`}]`: ''}</strong>\r\n                    <p className='none readings-description' style={{gridRow: 3, gridColumn: 1, }} >Sensor Frequency:</p>\r\n                    <strong className='none readings-value' style={{gridRow: 3, gridColumn: 2, }} >{DATA.evaluationFrequency/60000} minutes</strong>\r\n                    <p className='none readings-description' style={{gridRow: 4, gridColumn: 1,  }} >Next Evaluation:</p>\r\n                    <strong className='none readings-value' style={{gridRow: 4, gridColumn: 2, }} >{nextCountDown <= 0 ? 'Reading' : nextCountDown > 60000 ? `${Math.floor(nextCountDown/60000)}:${nextCountDown%60000<10000?'0':''}${Math.floor((nextCountDown%60000)/1000)}` : `${Math.floor(nextCountDown/1000)} seconds`}</strong>\r\n                </section> \r\n                : <div className='none no-size'></div>}\r\n            </div>\r\n            {(DATA.sensorErrorCode == undefined) ? \r\n                <div className='readings-box-inner' style={{backgroundColor: 'rgba(0,0,0,0.75)'}}>\r\n                <SettingsBlank title='Server URL:'\r\n                    current={SERVER_URL}\r\n                    verifyLevel={0}\r\n                    cache={true}\r\n                    overrideValidation={true}\r\n                    onUpdate={async(value, password)=>{\r\n                        dispatch({type: 'setServerURL', payload: value}); \r\n                        const response = await fetchData(); if(response == true) routeHistory.push('/'); \r\n                        return (response == true) ? 'UPDATING' : response;}}\r\n                />\r\n            </div> : <div className='none no-size'></div>}\r\n        </div>;\r\n\r\n    const getTemperature = () => (DATA.operatingTemperature) ? <div id='temperature-section' className='none readings-box-outer' style={{marginLeft: align ? 'auto' : 0}}>\r\n            <div className='readings-box-inner' style={{backgroundColor: maxError ? ERRORBACKGROUNDCOLOR : getDefaultBackgroundColor()}}>\r\n                <section className='none readings-value-box' style={{columnGap: '0'}}>\r\n                        <strong className='none readings-main-value' style={{}} >{formatTemperature(DATA.operatingTemperature)}</strong>\r\n                        <p className='none ' style={{gridRow: 1, gridColumn: 2, verticalAlign: 'top', fontSize: '1.0rem'}} >{convertToFahrenheit ? <span>&#8457;</span> : <span>&#8451;</span>}</p>\r\n                    </section>\r\n                {!showDetails() ? <div className='none no-size'></div> \r\n                : <section className='readings-value-box'>\r\n                        <p className='none readings-title' style={{}} >Temperature</p>\r\n                        <p className='none readings-description' style={{gridRow: 2, gridColumn: 1, }} >Efficiency:</p>\r\n                        <strong className='none readings-value' style={{gridRow: 2, gridColumn: 2, }} >{Math.floor(getTemperaturePercent()*100)}%</strong>\r\n                        <p className='none readings-description' style={{gridRow: 3, gridColumn: 1, }} >Range:</p>\r\n                        <strong className='none readings-value' style={{gridRow: 3, gridColumn: 2, }} >{formatTemperature(DATA.minimumTemperature)} - {formatTemperature(DATA.maximumTemperature)}{convertToFahrenheit ? <span>&#8457;</span> : <span>&#8451;</span>}</strong>\r\n                </section> }     \r\n            </div>     \r\n        </div> : <div id='temperature-section' className='none no-size'></div>;\r\n\r\n\r\n    const getHumidity = () => (DATA.operatingHumidity) ? <div id='humidity-section'  className='none readings-box-outer' style={{marginRight: align ? 'auto' : '0'}}>\r\n            <div className='readings-box-inner' style={{backgroundColor: maxError ? ERRORBACKGROUNDCOLOR : getDefaultBackgroundColor()}}>\r\n                <section className='none readings-value-box' style={{columnGap: '0'}}>\r\n                    <strong className='none readings-main-value' style={{}} >{Math.round(DATA.operatingHumidity * 100) / 100}</strong>\r\n                    <p className='none ' style={{gridRow: 1, gridColumn: 2, verticalAlign: 'top', fontSize: '1.0rem'}} >%</p>\r\n                </section>\r\n                {!showDetails() ? <div className='none no-size'></div> \r\n                : <section className='readings-value-box'>\r\n                    <p className='none readings-title' style={{textAlign: 'center'}} >Humidity</p>\r\n                    <p className='none readings-description' style={{gridRow: 2, gridColumn: 1, }} >Efficiency:</p>\r\n                    <strong className='none readings-value' style={{gridRow: 2, gridColumn: 2, }} >{Math.floor(getHumidityPercent()*100)}%</strong>\r\n                    <p className='none readings-description' style={{gridRow: 3, gridColumn: 1, }} >Range:</p>\r\n                    <strong className='none readings-value' style={{gridRow: 3, gridColumn: 2, }} >{(DATA.minimumHumidity)} - {(DATA.maximumHumidity)}%</strong>\r\n                </section> }\r\n            </div> \r\n        </div> : <div id='humidity-section' className='none no-size'></div>;\r\n\r\n//Detect flew-wrap and center horizontally\r\nconst [align, setAlign] = useState((window.innerWidth < 900));\r\nuseEffect(()=>{setTimeout(()=>{\r\n    const temperatureSectionTop = document.getElementById('temperature-section').getBoundingClientRect().top;\r\n    const humiditySectionTop = document.getElementById('humidity-section').getBoundingClientRect().top;\r\n    if(temperatureSectionTop != undefined && temperatureSectionTop != humiditySectionTop) setAlign(true);\r\n},500);},[]);    \r\n\r\nconst HumidityOnClick = async(password) => {const response = await fetchData(); routeHistory.push('/'); return response == true ? 'UPDATING' : response;}\r\nconst TemperatureOnClick = async(password) => {dispatch({type: 'toggleConvertToFahrenheit'}); return null;}\r\nconst sensorOnClick = async(password) => {if(maxError && DATA.sensorErrorCode != undefined) routeHistory.push('/log'); else routeHistory.push('/settings'); return null;}\r\n\r\nconst ReadingsArrangement = [\r\n    {mobile: 1, desktop: 2, \r\n        getWidget:  getSensor,\r\n        getUpdate: sensorOnClick,\r\n        pendingText: 'DIRECTING'\r\n    },\r\n    {mobile: 2, desktop: 1, \r\n        getWidget:  getTemperature,\r\n        getUpdate: TemperatureOnClick,\r\n        pendingText: 'CONVERTING'\r\n    },\r\n    {mobile: 3, desktop: 3, \r\n        getWidget:  getHumidity,\r\n        getUpdate: HumidityOnClick,\r\n        pendingText: 'RETRIEVING'\r\n    }     \r\n];\r\n    return (\r\n    <div ref={ref} id='readings-container' className={align ? 'readings-align' : 'readings-top' }  >\r\n        {ReadingsArrangement.sort((a,b) => align ? (a.mobile - b.mobile) : (a.desktop - b.desktop))\r\n            .map(widget =>\r\n                <div style={{margin: 'auto', padding: '2.0rem'}}>\r\n                    <SettingsButton title={widget.getWidget()}\r\n                            condense={true}\r\n                            buttonColor={'transparent'}\r\n                            buttonStyle={{border: 'none', margin: '0', padding: '0', borderRadius: '0.75rem'}}\r\n                            verifyLevel={0}\r\n                            pendingText={widget.pendingText}\r\n                            onUpdate = {widget.getUpdate}\r\n                        />\r\n                </div>\r\n            )\r\n        }\r\n    </div>\r\n    );\r\n});\r\n\r\n\r\n/* ------------------------------\r\nDepreciated For Now: 8/10/2022\r\n------------------------------ */\r\nconst ScrollText=(props)=>{\r\n    const boxRef = useRef();\r\n    const textRef = useRef();\r\n    const [scrollLeft, setScrollLeft] = useState(true);\r\n    const [minLeft, setMinLeft] = useState(0);\r\n    const [position, setPosition] = useState(0);\r\n\r\n    useEffect(()=>{\r\n        if(boxRef.current.offsetWidth > (props.parentRef.current.offsetWidth)) \r\n            setMinLeft(-1*(textRef.current.offsetWidth - (props.parentRef.current.offsetWidth)));\r\n    }, [boxRef, textRef]);\r\n\r\n    useInterval(()=>{ if(minLeft<0) {\r\n        if(position < minLeft) {setScrollLeft(false); setPosition(minLeft+1)}\r\n        if(position > 0) {setScrollLeft(true); setPosition(-1)}\r\n        setPosition(previous => scrollLeft ? (previous - 1) : (previous + 1));\r\n        textRef.current.style.transform = `translateX(${position}px)`;\r\n    }}, 20);\r\n\r\n    return (<span ref={boxRef} style={{display: 'grid', gridAutoFlow: 'column'}}><span style={{margin: 'auto'}}\r\n        >{props.leading}</span><p  ref={textRef} id={props.id} className={props.class}  style={{overflowX: 'visible'}}\r\n        >{props.text}</p><span style={{margin: 'auto'}}>{props.trailing}</span></span>);\r\n}\r\n\r\nexport default Readings;","export default __webpack_public_path__ + \"static/media/terrarium-buddies.3158d65c.jpg\";","import { useSelector} from 'react-redux';\r\nimport defaultImage from './terrarium-buddies.jpg';\r\nimport '../index.css';\r\nimport './Background.css';\r\n\r\n\r\nconst Background = (props) => {\r\n\r\n  const IMAGE = useSelector(root => root.image);\r\n\r\nreturn(\r\n    <div key='Background Component'>\r\n      <div key='background-black' style={{\r\n        position: 'absolute', \r\n        zIndex: 0,\r\n        height:'100vh', \r\n        width: '100vw', \r\n        backgroundColor: 'black'\r\n        }}></div>\r\n      <div key='Background Image' style={{position: 'absolute',  }}>\r\n        {/* <div key='background-cover' style={{\r\n        position: 'absolute', \r\n          zIndex: '3',\r\n          height:'100vh', \r\n          width: '100vw', \r\n          backgroundColor: 'black',\r\n          opacity: 0.4,\r\n\r\n          }}></div> */}\r\n        <img  className=\"blur-effect\" src={IMAGE.location || defaultImage} alt={'background-image'}  style={{\r\n          zIndex: '2',\r\n          display: 'block',\r\n          objectFit: 'cover',\r\n          overflow: 'hidden',\r\n          width: '100vw', \r\n          height: '100vh', \r\n          opacity: IMAGE.visible ? 0.9 : 0.3, \r\n          transition: `all ${IMAGE.TRANSITION_INTERVAL*0.6}ms ease`}}/>\r\n        \r\n      </div>\r\n    </div>\r\n);\r\n}\r\nexport default Background;","import React, {useState, useCallback, useEffect, useRef, useImperativeHandle} from 'react';\r\nimport { useHistory} from \"react-router-dom\";\r\nimport { useSelector, useDispatch} from 'react-redux';\r\nimport dateFormat from 'dateformat';\r\nimport useInterval from '../../useInterval';\r\nimport defaultImage from '../terrarium-buddies.jpg';\r\nimport '../../index.css';\r\n\r\nimport Readings from '../../Readings/Readings';\r\n\r\n\r\nconst TimeBar = (props) => {\r\n  const DATA = useSelector(root => root.data);\r\n\r\n  const [countUp, setCountUp] = useState(0);\r\n  useInterval(()=>{setCountUp((new Date().getTime() - DATA.timeLastReading));},1000);\r\n\r\n  return(<div className='none border-box' style={{position: 'fixed', bottom: 0, width: '100%', \r\n    padding: '0.3rem 1.0rem', \r\n    display: 'flex', justifyContent: 'space-between',\r\n    backgroundColor: 'black', color: 'whitesmoke', fontSize: '0.8rem', whiteSpace: 'wrap', overflowX: 'scroll',\r\n  }}>\r\n      <p className='none' style={{whiteSpace: 'nowrap', left: 0}} >{dateFormat(new Date().getTime(), 'dddd, mmmm d, yyyy h:MM')}</p>\r\n      <p className='none' style={{whiteSpace: 'nowrap', right: '100vw'}} >{isNaN(countUp) ? 'Disconnected' : countUp > 60000 ? `${Math.floor(countUp/60000)}:${countUp%60000<10000?'0':''}${Math.floor((countUp%60000)/1000)}` : `${Math.floor(countUp/1000)} seconds`}</p>\r\n  </div>);\r\n}\r\n\r\nconst ScreenSaver = React.forwardRef((props, ref) => {\r\n//  Detection & Timeout: https://codesandbox.io/s/5xrrr09r9k?file=/src/index.js:480-1530\r\n\r\nconst IMAGE = useSelector(root => root.image);\r\nconst DATA = useSelector(root => root.data);\r\nconst [serverError, setServerError] = useState(false);\r\nconst isScreenSaverActive = useSelector(root => root.isScreenSaverActive);\r\nconst [showScreenSaver, setShowScreenSaver] = useState(true);\r\nconst [screenSaverOpacity, setScreenSaverOpacity] = useState('0'); //CSS Inline String\r\nuseEffect(()=>{if(isScreenSaverActive && !serverError) {\r\n    // setScreenSaverOpacity('0');\r\n    setShowScreenSaver(true);\r\n    setTimeout(() => setScreenSaverOpacity('1'), ( 0.6*1000));\r\n  } else {\r\n    // setScreenSaverOpacity('1');\r\n    setTimeout(() => setScreenSaverOpacity('0'), ( 0.6*1000));\r\n    setTimeout(() => setShowScreenSaver(false), (1000));\r\n  }}, [isScreenSaverActive, serverError]);\r\nconst screenSaverBrightness = useSelector(root => root.screenSaverBrightness);\r\nconst dispatch = useDispatch();\r\nconst routeHistory = useHistory();\r\n\r\nconst calculateBrightness = () => { if(screenSaverBrightness.setting == 'Black') return 1.0;\r\n    if(screenSaverBrightness.setting == 'Scheduled') { const hour = 19;\r\n    let options=[{hour: screenSaverBrightness.blackHourStart, opacity: 0}, {hour: screenSaverBrightness.dayHourStart, opacity: screenSaverBrightness.dayOpacity}, {hour: screenSaverBrightness.nightHourStart, opacity:screenSaverBrightness.nightOpacity}];\r\n    options = options.sort((a,b) => (a.hour-b.hour));\r\n    console.log(options);\r\n    if((hour >= options[0].hour) && ((hour < options[1].hour) || (options[0].hour == options[1].hour)) && (options[0].hour >= 0 && options[0].hour <= 23)) return options[0].opacity;\r\n    if((hour >= options[1].hour) && ((hour < options[2].hour) || (options[1].hour == options[2].hour)) && (options[1].hour >= 0 && options[1].hour <= 23)) return options[1].opacity;\r\n    if((hour >= options[2].hour) || (hour < options[0].hour) && (options[2].hour >= 0 && options[2].hour <= 23)) return options[2].opacity;\r\n    }\r\n    return 1.0; //Default\r\n}\r\n\r\n//Evaluate Current Errors\r\n  useEffect(()=>{ const list = [];\r\n    if((DATA.sensorErrorCode == undefined) \r\n        || (DATA.sensorErrorCode) \r\n        || (DATA.maximumTemperatureErrorCode) \r\n        || (DATA.minimumTemperatureErrorCode) \r\n        || (DATA.maximumHumidityErrorCode) \r\n        || (DATA.minimumHumidityErrorCode) \r\n        || (DATA.accessDatabase != undefined && !DATA.accessDatabase)) setServerError(true);\r\n    else setServerError(false);\r\n  },[DATA]);\r\n\r\n//Screen Saver\r\nconst screensaverTimer = useRef();\r\nconst resetTimer = useRef();\r\nconst deactivateScreenSaver = useCallback((duration) => {\r\n  dispatch({type: 'deactivateScreenSaver'});\r\n    //Set Timer\r\n    clearTimeout(screensaverTimer.current);\r\n    screensaverTimer.current = setTimeout(() => dispatch({type: 'activateScreenSaver' }), duration || IMAGE.SCREENSAVER_INACTIVE_TIME);\r\n    clearTimeout(resetTimer.current);\r\n    if(isScreenSaverActive) resetTimer.current = setTimeout(()=>routeHistory.push('/'), (duration || IMAGE.SCREENSAVER_INACTIVE_TIME)*3);\r\n  }, []);\r\n  useEffect(()=>deactivateScreenSaver(),[]); //call initially\r\n\r\n      //Allows Parent: App.js to call on all mouse movements\r\n      useImperativeHandle(ref, () => ({\r\n        deactivateScreenSaver() {\r\n          deactivateScreenSaver();\r\n        }\r\n      }));\r\n    \r\nreturn((!showScreenSaver) ? <div className='none no-size'></div> : \r\n    <div key='ScreenSaver Component' style={{zIndex: 20,\r\n      position: 'absolute',\r\n      width: '100vw',\r\n      height: '100vh',\r\n      opacity: screenSaverOpacity,\r\n      transition: `all ${IMAGE.TRANSITION_INTERVAL*0.5}ms ease`\r\n    }}\r\n    // onClick={()=>deactivateScreenSaver()}\r\n    // onMouseMove={()=>deactivateScreenSaver()}\r\n    // onMouseLeave={()=>dispatch({type: 'activateScreenSaver' })}\r\n    >\r\n      <div key='ScreenSaver-black' style={{\r\n        position: 'absolute', \r\n        // zIndex: '0',\r\n        height:'100vh', \r\n        width: '100vw', \r\n        backgroundColor: 'black'\r\n        }}></div>\r\n      <div key='ScreenSaver Image' style={{position: 'absolute',  }}>\r\n        <img  className=\"\" src={IMAGE.location || defaultImage} alt={'screensaver'}  style={{\r\n          // zIndex: '9',\r\n          display: 'block',\r\n          objectFit: 'cover',\r\n          overflow: 'hidden',\r\n          width: '100vw', \r\n          height: '100vh', \r\n          opacity: IMAGE.isVisible ? calculateBrightness() : (calculateBrightness() > 0.2) ? 0.2 : 0,\r\n          transition: `all ${IMAGE.TRANSITION_INTERVAL*0.6}ms ease`}}/>\r\n      </div>\r\n          <Readings hideDetails={true}/>\r\n          <TimeBar />\r\n    </div>\r\n);\r\n\r\n});\r\n\r\nexport default ScreenSaver;","export default __webpack_public_path__ + \"static/media/frog-logo.61394956.png\";","\r\nimport React, {forwardRef} from 'react';\r\nimport { Link, useHistory, useLocation} from \"react-router-dom\";\r\nimport {useDispatch} from 'react-redux';\r\n\r\nimport '../index.css';\r\nimport './Menu.css';\r\nimport icon from './frog-logo.png';\r\n\r\n\r\nconst Menu = forwardRef((props, ref) => {\r\n    const routeHistory = useHistory();\r\n    const routeLocation = useLocation();\r\n    const dispatch = useDispatch();\r\n\r\n\r\n    return(<div>\r\n        <div id='menu-container-spacer'></div>\r\n        <div ref={ref} id='menu-container' className=' border-box' >\r\n            <div className='menu-icon-box' style={{ textDecoration: 'none' }} onClick={()=>{\r\n                if(routeLocation.pathname == '/') setTimeout(()=>dispatch({type: 'activateScreenSaver' }), 1500);\r\n                else routeHistory.push('/');\r\n            }}>\r\n                    <img className='menu-icon' src={icon} />\r\n                    <strong className='menu-icon-text'>Current</strong>\r\n            </div>\r\n            <Link to=\"/controls\" className='menu-icon-box' style={{ textDecoration: 'none' }}>\r\n                    <img className='menu-icon' src={icon} />\r\n                    <strong className='menu-icon-text'>Controls</strong>\r\n            </Link>\r\n            <Link to=\"/schedules\" className='menu-icon-box' style={{ textDecoration: 'none' }}>\r\n                <img className='menu-icon' src={icon} />\r\n                <strong className='menu-icon-text'>Schedules</strong>\r\n            </Link>\r\n            <Link to=\"/climate\" className='menu-icon-box' style={{ textDecoration: 'none' }}>\r\n                <img className='menu-icon' src={icon} />\r\n                <strong className='menu-icon-text'>Climate</strong>\r\n            </Link>\r\n            <Link to=\"/history\" className='menu-icon-box' style={{ textDecoration: 'none' }}>\r\n                <img className='menu-icon' src={icon} />\r\n                <strong className='menu-icon-text'>History</strong>\r\n            </Link>\r\n            <div className='menu-icon-box' style={{ textDecoration: 'none' }} onClick={()=>{\r\n                if(routeLocation.pathname == '/settings') routeHistory.push('/log');\r\n                else routeHistory.push('/settings');\r\n            }}>\r\n                    <img className='menu-icon' src={icon} />\r\n                <strong className='menu-icon-text'>Settings</strong>\r\n            </div>\r\n        </div>\r\n    </div>);\r\n});\r\n\r\nexport default Menu;","\r\nconst DURATION_LIST = [ //return in millisecond and interpret slider\r\n    {name: '1m', value: 1 * 60 * 1000},\r\n    {name: '2m', value: 2 * 60 * 1000},\r\n    {name: '3m', value: 3 * 60 * 1000},\r\n    {name: '4m', value: 4 * 60 * 1000},\r\n    {name: '5m', value: 5 * 60 * 1000},\r\n    {name: '6m', value: 6 * 60 * 1000},\r\n    {name: '7m', value: 7 * 60 * 1000},\r\n    {name: '8m', value: 8 * 60 * 1000},\r\n    {name: '9m', value: 9 * 60 * 1000},\r\n    {name: '10m', value: 10 * 60 * 1000},\r\n    {name: '15m', value: 15 * 60 * 1000},\r\n    {name: '30m', value: 30 * 60 * 1000},\r\n    {name: '45m', value: 45 * 60 * 1000},\r\n    {name: '1h', value: 60 * 60 * 1000},\r\n    {name: '2h', value: 2 * 60 * 60 * 1000},\r\n    {name: '3h', value: 3 * 60 * 60 * 1000},\r\n    {name: '4h', value: 4 * 60 * 60 * 1000},\r\n    {name: '5h', value: 5 * 60 * 60 * 1000},\r\n    {name: '6h', value: 6 * 60 * 60 * 1000},\r\n    {name: '12h', value: 12 * 60 * 60 * 1000},\r\n    {name: '1d', value: 24 * 60 * 60 * 1000},\r\n    {name: '3d', value: 3 * 24 * 60 * 60 * 1000},\r\n    {name: '1w', value: 7 * 24 * 60 * 60 * 1000},\r\n    {name: '2w', value: 14 * 24 * 60 * 60 * 1000},\r\n    {name: '1M', value: 30 * 24 * 60 * 60 * 1000},\r\n];\r\n\r\nexport default DURATION_LIST;\r\n\r\nexport const getDurationName = (v, places = 1) => {\r\n    try{const value = parseInt(v);\r\n            if((value / (30 * 24 * 60 * 60 * 1000)) >= 1) return `${Math.floor(value / (30 * 24 * 60 * 60 * 1000) * (places * 10))/(places * 10)}M`;\r\n            else if((value / (7 * 24 * 60 * 60 * 1000)) >= 1) return `${Math.floor(value / (7 * 24 * 60 * 60 * 1000) * (places * 10))/(places * 10)}w`;\r\n            else if((value / (24 * 60 * 60 * 1000)) >= 1) return `${Math.floor(value / (24 * 60 * 60 * 1000) * (places * 10))/(places * 10)}d`;\r\n            else if((value / (60 * 60 * 1000)) >= 1) return `${Math.floor(value / (60 * 60 * 1000) * (places * 10))/(places * 10)}h`;\r\n            else if((value / (60 * 1000)) >= 1) return `${Math.floor(value / (60 * 1000))}m`;\r\n            else return 'ZERO';\r\n    } catch(error){return 'INVALID';}\r\n}\r\n\r\nexport const getDurationValue = (name) => {\r\n    try{ const cleanedValue = /\\d+/.exec(name)[0];\r\n        const value = parseInt(cleanedValue);\r\n        const label = /[a-zA-Z]+/.exec(name)[0];\r\n\r\n        if(label == 'm') return value * 60 * 1000;\r\n        else if(label == 'h')  return value * 60 * 60 * 1000;\r\n        else if(label == 'd')  return value * 24 * 60 * 60 * 1000;\r\n        else if(label == 'w')  return value * 7 * 24 * 60 * 60 * 1000;\r\n        else if(label == 'M')  return value * 30 * 24 * 60 * 60 * 1000;\r\n        else return value;\r\n    } catch(error){return 0;}\r\n}","import React, {useState, useEffect} from 'react';\r\nimport { useSelector} from 'react-redux';\r\nimport axios from 'axios';\r\nimport useInterval from '../useInterval';\r\nimport DURATION_LIST from './Duration';\r\nimport SettingsButton, {HoldButton} from '../Settings/SettingsButton';\r\nimport {fetchData} from '../index';\r\n\r\nimport '../index.css';\r\nimport './Control.css';\r\n\r\nconst ACTIVE_COLOR = 'rgba(0, 102, 0, 0.6)';\r\nconst DEACTIVE_COLOR = 'rgba(0, 0, 0, 0.5)';\r\nconst EXCLUDE_CONTROL_TYPES = ['On', 'Off'];\r\n\r\n//auto generate type button\r\n\r\nconst MakeToggle = (props) => {\r\n    const [timer, setTimer] = useState(1);\r\n    const interval = useInterval(()=>{setTimer((props.until - new Date().getTime()) * (((props.until - new Date().getTime()) < 0) ? -1 : 1)); }, 1000);\r\n    const overridden = /(severe|schedule|toggle|immediate)/i.test(props.topReason);\r\n    const severe = /(severe|extreme)/i.test(props.topReason);\r\n\r\n    return (\r\n    <div className='none control-toggle-outer' style={{}} onClick={props.onClick}> \r\n        <div className='none control-toggle-inner' style={{borderColor: props.isSelected ? 'whitesmoke' : props.select ? 'transparent' : overridden ? 'var(--accent-color)' : 'transparent',\r\n                backgroundColor: severe ? 'darkred' : props.active ? ACTIVE_COLOR : DEACTIVE_COLOR, }}>\r\n            <strong className='none control-toggle-text'>{props.title}</strong>\r\n            <p className='none control-toggle-timer' style={{}} >{props.topReason}</p>\r\n            <p className='none control-toggle-timer' style={{fontSize: '0.75rem', color: ((props.until - new Date().getTime()) < 0) ? 'gold' : null}} >{(props.until <= 0) ? `${props.active ? 'ON' : 'OFF'} : INDEFINITELY` : `${(timer>3600000)?`${Math.floor(timer/3600000)}:`:''}${(timer>60000)?`${Math.floor((timer%3600000)/60000)}:`:''}${((timer>60000) && (timer%60000<10000))?'0':''}${Math.floor((timer%60000)/1000)}` }</p>\r\n        </div>\r\n    </div>\r\n    );\r\n}\r\n\r\n\r\nexport default function Control(props) {\r\n    const SERVER_URL = useSelector(root => root.serverURL);\r\n    const DATA = useSelector(root => root.data);\r\n    const [durationIndex, setDurationIndex] = useState(10)\r\n    const [selectMode, setSelectMode] = useState(false);\r\n    const [selectedList, setSelectedList] = useState([]);\r\n    const [controlTypes, setControlTypes] = useState([]);\r\n    useEffect(()=>{if(DATA.controlTypes != undefined) setControlTypes(DATA.controlTypes);\r\n                const smartIndex = DURATION_LIST.findIndex(d=>(d.value > (DATA.timeNextEvaluation - new Date().getTime())))-1;  \r\n                if(smartIndex > 4) setDurationIndex(smartIndex); },[DATA]);\r\n\r\n    const shortedNameList = (names) => {  \r\n        for(var i=0; i<DATA.controlTypes.length; i++) {let match = true;\r\n            for(var y=0; y<DATA.CONTROLS.length; y++) {\r\n                if((names.includes(DATA.CONTROLS[y].name) && !DATA.CONTROLS[y].types.includes(DATA.controlTypes[i]))\r\n                    || !names.includes(DATA.CONTROLS[y].name) && DATA.CONTROLS[y].types.includes(DATA.controlTypes[i])) { match = false; break;}\r\n            } if(match) return `[${DATA.controlTypes[i]}]`;\r\n        } let result = '';\r\n         names.forEach(name =>  result += ('-'+(name.match(/\\b(\\w)/g).join('.'))));\r\n        return `(${result.substring(1).toUpperCase()})`;//removes first dash :)\r\n    }\r\n\r\n    const scheduleNow = async(password, names, set = true, reason = `Immediate ${shortedNameList(names)}`) =>  await axios.post(`${SERVER_URL}/schedule-add/`, {\r\n                                PASSWORD: password, time: new Date().getTime(), title: reason, names: JSON.stringify(names), duration: DURATION_LIST[durationIndex].value, set: (set || set == 'true'), repeat: 0\r\n                            }).then((response) => {setTimeout(()=>fetchData(),10000); return 'EXECUTING';}).catch((error) => error.response ? error.response.status : false);\r\n\r\n    //Filter Control Types List\r\n    const getControlTypes = () => { const typesMap = new Map();\r\n        //Populate Map    \r\n        DATA.CONTROLS.forEach((c,i)=>c.types.forEach(t=>typesMap.set(t, [...(typesMap.get(t) || []), c.id])));\r\n        //Filter            \r\n        return [...typesMap].filter(([type, controlList], index, mapList) => \r\n                (controlList.length > 1) \r\n                && (selectMode || !EXCLUDE_CONTROL_TYPES.includes(type)) \r\n                && (mapList.findIndex(([k, v], i) => (v.toString() == controlList.toString())) === index) //Remove Duplicates\r\n            ).map(([type, controlList])=>type);\r\n    }\r\n\r\n\r\n    return(\r\n        <div id='control-container'>\r\n            <div id='duration-box' >\r\n                <label id='duration-label' style={{color:'white'}} onClick={()=>setDurationIndex(10)}>{DURATION_LIST[durationIndex].name}</label>\r\n                <input id='duration-slider' type='range' min={0} max ={DURATION_LIST.length-1} value={durationIndex} onChange={(event) => setDurationIndex(event.target.value)} />\r\n            </div>\r\n            <div id='control-box'>\r\n                {DATA.CONTROLS === undefined ? <div></div> :\r\n                DATA.CONTROLS.map((c) => <SettingsButton key={c.name} \r\n                    title={\r\n                        <MakeToggle \r\n                            title={c.name} \r\n                            active= {(c.settings[0].set || c.settings[0].set == 'true')}\r\n                            topReason= {c.settings[0].reason}\r\n                            until= {c.settings[0].until}\r\n                            select={selectMode}\r\n                            isSelected = {selectedList.includes(c.name)}\r\n                            onClick={()=>{}}\r\n        \r\n                        />}\r\n                    pendingText='SCHEDULING'\r\n                    condense={true}\r\n                    buttonColor={'transparent'}\r\n                    buttonStyle={{border: 'none', margin: '1.0rem', padding: '0', width: '15.0rem'}}\r\n                    verifyLevel={1}\r\n                    onUpdate = {(password) =>  {if(selectMode) {(selectedList.includes(c.name) ? setSelectedList((list) => [...list.filter(name => name !== c.name)]) : setSelectedList((list) => [...list, c.name])); return null;}\r\n                            else return scheduleNow(password, [c.name], !(c.settings[0].set || (c.settings[0].set == 'true')), `Toggle ${shortedNameList([c.name])}`)}}/>)\r\n                    }\r\n            </div>\r\n                <div id='control-select-box'>\r\n                    <SettingsButton title={selectMode ? 'ALL' : 'ON'}\r\n                        pendingText='ACTIVATING'\r\n                        condense={true}\r\n                        buttonColor={'rgba(0, 0, 0, 0.95)'}\r\n                        buttonStyle={{border: 'none', padding: '0.70rem 2rem', fontSize: '0.9rem', width: 'auto', minWidth: '6.0rem', borderRadius: '0.5rem'}}\r\n                        verifyLevel={1}\r\n                        onUpdate={(password)=>selectMode ? setSelectedList([...DATA.CONTROLS.map(c=>c.name)]) : scheduleNow(password, [...DATA.CONTROLS.map(c=>c.name)], true, 'ALL ON')} />\r\n                    <SettingsButton title='ACTIVE'\r\n                        pendingText='SCHEDULING'\r\n                        condense={true}\r\n                        buttonColor={'rgba(0, 0, 0, 0.95)'}\r\n                        buttonStyle={{display: !selectMode ? 'none' : null, border: 'none', padding: '0.70rem 2rem', fontSize: '0.9rem', width: 'auto', minWidth: '6.0rem', borderRadius: '0.5rem'}}\r\n                        verifyLevel={1}\r\n                        onUpdate={(password)=>selectMode ? setSelectedList([...DATA.CONTROLS.filter((c)=>c.settings[0].set).map(c=>c.name)]) : scheduleNow(password, [...DATA.CONTROLS.filter((c)=>c.settings[0].set).map(c=>c.name)], false, 'DEACTIVATING')} />\r\n                    <SettingsButton title='INACTIVE'\r\n                        pendingText='SCHEDULING'\r\n                        condense={true}\r\n                        buttonColor={'rgba(0, 0, 0, 0.95)'}\r\n                        buttonStyle={{display: !selectMode ? 'none' : null, border: 'none', padding: '0.70rem 2rem', fontSize: '0.9rem', width: 'auto', minWidth: '6.0rem', borderRadius: '0.5rem'}}\r\n                        verifyLevel={1}\r\n                        onUpdate={(password)=>selectMode ? setSelectedList([...DATA.CONTROLS.filter((c)=>!c.settings[0].set).map(c=>c.name)]) : scheduleNow(password, [...DATA.CONTROLS.filter((c)=>!c.settings[0].set).map(c=>c.name)], true, 'ACTIVATING')} />\r\n                    {getControlTypes().map((t,i)=><SettingsButton key={t} title={t}\r\n                        pendingText='SCHEDULING'\r\n                        condense={true}\r\n                        buttonColor={'rgba(0, 0, 0, 0.95)'}\r\n                        buttonStyle={{border: 'none', padding: '0.70rem 2rem', fontSize: '0.9rem', width: 'auto',  minWidth: '6.0rem', borderRadius: '0.5rem'}}\r\n                        verifyLevel={1}\r\n                        onUpdate={(password)=>selectMode ? setSelectedList(original => [...DATA.CONTROLS.filter((c)=>c.types.includes(t)).map(c=>c.name)].every((val, i, arr) => selectedList.includes(val)) \r\n                                    ? [...DATA.CONTROLS.filter((c)=>(!c.types.includes(t) && original.includes(t))).map(c=>c.name)] \r\n                                    : [...DATA.CONTROLS.filter((c)=>c.types.includes(t)).map(c=>c.name)]) \r\n                                    : scheduleNow(password, [...DATA.CONTROLS.filter((c)=>c.types.includes(t)).map(c=>c.name)], \r\n                                        ([...DATA.CONTROLS.filter((c)=>c.types.includes(t))].every((val, i, arr) => val.settings[0].set == arr[0].settings[0].set) && [...DATA.CONTROLS.filter((c)=>c.types.includes(t))].length)\r\n                                        ? ![...DATA.CONTROLS.filter((c)=>c.types.includes(t))][0].settings[0].set : true, `Immediate ${t}`)} />)}\r\n                     <SettingsButton title={selectMode ? 'NONE' : 'OFF'}\r\n                        pendingText='DEACTIVATING'\r\n                        condense={true}\r\n                        buttonColor={'rgba(0, 0, 0, 0.95)'}\r\n                        buttonStyle={{border: 'none', padding: '0.70rem 2rem', fontSize: '0.9rem', width: 'auto', minWidth: '6.0rem', borderRadius: '0.5rem'}}\r\n                        verifyLevel={1}\r\n                        onUpdate={(password)=>selectMode ? setSelectedList([]) : scheduleNow(password, [...DATA.CONTROLS.map(c=>c.name)], false, 'ALL OFF')} />\r\n                </div>\r\n            {selectMode ? \r\n                <div id='control-select-box'>\r\n                    <SettingsButton title='ON'\r\n                        pendingText='ACTIVATING'\r\n                        condense={true}\r\n                        // buttonColor={'rgba(255, 255, 255, 0.5)'}\r\n                        buttonStyle={{border: 'none', padding: '0.45rem 2rem', width: 'auto',  minWidth: '6.0rem', borderRadius: '0.5rem', color: 'black'}}\r\n                        verifyLevel={1}\r\n                        onUpdate={(password)=>scheduleNow(password, selectedList, true)} />\r\n                    <SettingsButton title='OFF'\r\n                        pendingText='DEACTIVATING'\r\n                        condense={true}\r\n                        // buttonColor={'rgba(255, 255, 255, 0.5)'}\r\n                        buttonStyle={{border: 'none', padding: '0.45rem 2rem', width: 'auto', minWidth: '6.0rem', borderRadius: '0.5rem', color: 'black'}}\r\n                        verifyLevel={1}\r\n                        onUpdate={(password)=>scheduleNow(password, selectedList, false)} />\r\n                    <button className='none control-button control-button-exit' onClick={()=>{setSelectMode(false); setSelectedList([]);}}>Exit</button>\r\n                    {/* <button className='none control-button' onClick={()=>{}}>Schedule</button> */}\r\n                </div>\r\n                : <div id='control-select-box'>\r\n                    <button className='none control-button' onClick={()=>setSelectMode(true)}>Select</button>\r\n                </div>\r\n            }\r\n            <HoldButton duration={DURATION_LIST[durationIndex].value} verifyLevel={(DURATION_LIST[durationIndex].value < (24*60*60*1000)) ? 1 : 2} buttonStyle={{padding: '0.4rem'}}/>\r\n        </div>\r\n    );\r\n}\r\n\r\n\r\n\r\n","import React, {useState,  useEffect} from 'react';\r\nimport { useSelector, useDispatch} from 'react-redux';\r\nimport axios from 'axios';\r\nimport dateFormat from 'dateformat';\r\nimport DURATION_LIST, {getDurationName, getDurationValue} from '../Duration';\r\nimport SettingsButton, {HoldButton} from '../../Settings/SettingsButton';\r\nimport Verify from '../../Verify';\r\n\r\nimport '../../index.css';\r\nimport './Schedule.css';\r\n\r\nconst getButtonColor=(buttonText)=> (buttonText=='UPDATE' || buttonText=='') ? 'var(--main-color)' : (buttonText=='PASS' || buttonText=='INVALID' || buttonText=='FAILED') ? '#e8000d' : (buttonText=='PENDING' || buttonText=='BLANK') ? 'orange' : '#cc5500';\r\n\r\nconst DropMenu = (props) => {\r\n    const [custom, setCustom] = useState(props.customDefault);\r\n    const [multipleList, setMultipleList] = useState(props.multipleList);\r\n    const openList = useSelector(root => root.dropListOpen);\r\n    const dispatch = useDispatch();\r\n\r\n    useEffect(()=>{setMultipleList(props.multipleList);},[props.multipleList]); //Syncing single selection with custom\r\n    useEffect(()=>{setCustom(props.customDefault);},[props.customDefault]); //Syncing single selection with custom\r\n\r\n\r\n    //Guidelines Abstracted\r\n    const buttonColor = (props.buttonColor != undefined) ? props.buttonColor : '';\r\n    const customName = (props.customName != undefined) ? props.customName : false;\r\n    const inputType = (props.inputType != undefined) ? props.inputType : 'text';\r\n    const selectMultiple = (multipleList != undefined);\r\n\r\n    return(<div className='schedule-drop-menu-container' style={props.outerStyle} onFocus={()=>{}} onBlur={()=>{}} >\r\n        <button className={`schedule-input schedule-drop-menu-button ${props.buttonStyleClass || ''}`} style={{color: (isNaN(props.value)) ? 'white' : buttonColor, backgroundColor: (isNaN(props.value)) ? buttonColor : null}} onClick={()=>dispatch({type: 'setDropList', payload: props.dropListId})}>{(props.value != undefined) ? props.value : (props.multipleList != undefined) ? props.multipleList.toString() : ''}{props.subValue ? <span><label style={{color: 'grey', margin: '0 0.5rem'}}>|</label><label style={{color: 'orange'}}>{props.subValue || ''}</label></span> : null}</button>\r\n        {(openList == props.dropListId) ? <div className='schedule-drop-menu-list' style={{top: props.options.length <= 5 ? null : '5vh'}}>\r\n                    <button key='cancel-button' className='schedule-drop-menu-item' style={{borderBottom: '1px solid whitesmoke', color: 'var(--main-color)'}} onClick={()=>{\r\n                                dispatch({type: 'setDropList'});\r\n                            }}>Cancel</button>\r\n            {selectMultiple ? <button key='save-button-1' className='schedule-drop-menu-item schedule-save-button' style={{borderBottom: '1px solid whitesmoke', marginTop: 0}} onClick={()=>{\r\n                        props.onSelect(multipleList);\r\n                        dispatch({type: 'setDropList'});\r\n                    }}>SAVE</button>:<div className='none no-size'></div>}\r\n                {props.options.map((option, i) => \r\n                    <button key={`${option}-${JSON.stringify(multipleList)}`} className='schedule-drop-menu-item' style={{ border: (selectMultiple ? multipleList.includes(option) : props.value == option) ? '1px solid var(--main-color)' : 'none', backgroundColor: (option == 'UPDATE') ? 'var(--main-color)' : (option == 'DELETE') ? 'red' : '',  color: (option == 'UPDATE') ? 'white' : (option == 'DELETE') ? 'black' : ''}} onClick={()=>{\r\n                        if(selectMultiple && multipleList.includes(option)) setMultipleList(multipleList.filter(m => m != option));\r\n                        else if(selectMultiple) setMultipleList([...multipleList, option]);\r\n                        else { props.onSelect(option);\r\n                        dispatch({type: 'setDropList'});\r\n                    }}}>{option}</button>\r\n                )}\r\n                {(props.extraList && selectMultiple) ? <button key='save-button-2' className='schedule-drop-menu-item schedule-save-button' style={{borderTop: '1px solid whitesmoke', borderBottom: '1px solid whitesmoke'}} onClick={()=>{\r\n                        props.onSelect(multipleList);\r\n                        dispatch({type: 'setDropList'});\r\n                    }}>{props.extraName || 'SAVE'}</button>:<div className='none no-size'></div>}\r\n                {props.extraList ? props.extraList.map((option, i) => \r\n                    <button key={`${option}-${JSON.stringify(multipleList)}`} className='schedule-drop-menu-item' style={{border: (selectMultiple ? multipleList.includes(option) : props.value == option) ? '1px solid var(--main-color)' : 'none', backgroundColor: (option == 'UPDATE') ? 'var(--main-color)' : (option == 'DELETE') ? 'red' : '',  color: (option == 'UPDATE') ? 'white' : (option == 'DELETE') ? 'black' : ''}} onClick={()=>{\r\n                        props.onExtra(option);\r\n                        dispatch({type: 'setDropList'});\r\n                    }}>{option}</button>\r\n                ) : null}\r\n                {customName ? <div className='none' style={{display:'inline-grid', gridColumn: 1}}>\r\n                        <input key='settings-add-input' type={inputType} className='schedule-drop-menu-item' style={{gridColumn: 1, width: '10.0rem', border: 'none', borderRadius: 0, border: '1px solid whitesmoke', backgroundColor: 'black', color: 'white'}} \r\n                            value={custom}\r\n                            onChange={(c)=>setCustom(c.target.value)}\r\n                            onKeyPress={(e)=>{ if (e.charCode == 13) {\r\n                                props.onSelect(selectMultiple ? [...multipleList, custom] : custom);\r\n                                dispatch({type: 'setDropList'});\r\n                            }}}/>\r\n                        <button key='settings-add-button' className='schedule-drop-menu-item' style={{gridColumn: 2, border: 'none', borderRadius: 0, borderBottom: '1px solid whitesmoke', backgroundColor: 'whitesmoke', color: 'black'}} onClick={()=>{\r\n                                props.onSelect(selectMultiple ? [...multipleList, custom] : custom);\r\n                                dispatch({type: 'setDropList'});\r\n                            }}>{customName}</button>\r\n                </div> : <div className='none no-size'></div>}\r\n                {selectMultiple ? <button key='save-button-3' className='schedule-save-button schedule-drop-menu-item ' style={{borderTop: '1px solid whitesmoke', marginBottom: 0}} onClick={()=>{\r\n                        props.onSelect(multipleList);\r\n                        dispatch({type: 'setDropList'});\r\n                    }}>SAVE</button>:<div className='none no-size'></div>}\r\n            </div>\r\n        : <div ></div>}\r\n    </div>);\r\n}\r\nconst getDateAbbreviation = (t) => {const time = parseInt(t) || 0;\r\n    const day = new Date(time).getDate(); \r\n    if(day == 1 || day == 21 || day == 31) return `${dateFormat(time, 'mmm')}, ${day}st`;\r\n    else if(day == 2 || day == 22) return `${dateFormat(time, 'mmm')}, ${day}nd`;\r\n    else if(day == 3 || day == 23) return `${dateFormat(time, 'mmm')}, ${day}rd`;\r\n    else return `${dateFormat(time, 'mmm')}, ${day}th`;\r\n}\r\n//labels yesterday, today, tomorrow, within week (sunday); otherwise date with abbreviation\r\nconst getDay = (t) => { const time = parseInt(t) || 0; let today = new Date(); today.setHours(0,0,0,0); const tomorrow = new Date(today.getTime()+(24*60*60*1000)); const yesterday = new Date(today.getTime()-(24*60*60*1000)); \r\n    if(time >= today.getTime() && time < tomorrow.getTime()) return `Today`;\r\n    if(time >= tomorrow.getTime() && time < (new Date(tomorrow.getTime()+(24*60*60*1000)).getTime())) return `Tomorrow`;\r\n    if(time >= (new Date(yesterday.getTime()-(24*60*60*1000)).getTime()) && time < today.getTime()) return `Yesterday`;\r\n    if(time >= (new Date(today.getTime()-(6*24*60*60*1000)).getTime()) && time <= (new Date(today.getTime()+(7*24*60*60*1000)).getTime())) {\r\n        const day = new Date(time).getDay();    \r\n        return day == 0 ? 'Sunday' : day == 1 ? 'Monday' : day == 2 ? 'Tuesday' : day == 3 ? 'Wednesday' : day == 4 ? 'Thursday' : day == 5 ? 'Friday' : day == 6 ? 'Saturday' : 'New Day';\r\n    } else return getDateAbbreviation(time);\r\n}\r\nconst getDateList = () => { const list = [];\r\n        let time = new Date(); time = time.setHours(7,0,0,0); \r\n        for(var i=(0); i<(30); i++){  list.push(time); time += (24*60*60*1000);  }\r\n        return list;\r\n    }\r\nconst DropDateMenu = (props) => {\r\n    const openList = useSelector(root => root.dropListOpen);\r\n    const [customDate, setCustomDate] = useState(props.time);\r\n    // const [customTime, setCustomTime] = useState((props.time % (24*60*60*1000))/(60000)); //Handle Time Locally below in <input/>\r\n    // useEffect(()=>{setCustomDate(props.time); setCustomTime(props.time % (24*60*60*1000));}, [props.time])\r\n    const dispatch = useDispatch();\r\n    return(<div className='schedule-drop-menu-container' style={props.outerStyle} onFocus={()=>{}} onBlur={()=>{}} >\r\n        <button className={`schedule-input schedule-drop-menu-button ${props.buttonStyleClass || ''}`} onClick={()=>dispatch({type: 'setDropList', payload: props.dropListId})}>{`${getDay(props.time)} ${dateFormat(parseInt(props.time) || 0, 'H:MM')}`}</button>\r\n        {(openList == props.dropListId) ? <div className='schedule-drop-date-menu' style={{}} >\r\n                <div className='schedule-drop-menu-list' style={{top: '5vh', gridRow: 1, gridColumn: 1, left: '2.0rem'}}>         \r\n                    <label key='cancel-button' className='schedule-drop-menu-item' style={{gridRow: (1), borderBottom: '1px solid whitesmoke', color: 'var(--main-color)'}} onClick={()=>{\r\n                               dispatch({type: 'setDropList'});\r\n                            }}>Cancel</label>  \r\n                    {getDateList().map((t, i) => \r\n                        <label key={t} className='schedule-drop-menu-item' style={{gridRow: (i+2), border: ((new Date(props.time).getMonth() == (new Date(t).getMonth())) && (new Date(props.time).getDate() == (new Date(t).getDate()))) ? '1px solid var(--main-color)' : 'none'}} onClick={()=>{\r\n                            props.onSelect(t);\r\n                            // dispatch({type: 'setDropList'});\r\n                        }}>{getDay(t)}</label>)}\r\n                    <div className='none' style={{display:'inline-grid', gridColumn: 1}}>\r\n                        <input key='settings-add-input' type='number' step={24*60*60*1000} className='schedule-drop-menu-item' style={{gridColumn: 1, width: '10.0rem', border: 'none', borderRadius: 0, border: '1px solid whitesmoke', backgroundColor: 'black', color: 'white'}} \r\n                            value={customDate}\r\n                            onChange={(c)=>setCustomDate(c.target.value)}\r\n                            onKeyPress={(e)=>{ if (e.charCode == 13) {\r\n                                props.onSelect(customDate);\r\n                                dispatch({type: 'setDropList'});\r\n                            }}}/>\r\n                        <button key='settings-add-button' className='schedule-drop-menu-item' style={{gridColumn: 2, border: 'none', borderRadius: 0, borderBottom: '1px solid whitesmoke', backgroundColor: 'whitesmoke', color: 'black'}} onClick={()=>{\r\n                                props.onSelect(customDate);\r\n                                dispatch({type: 'setDropList'});\r\n                            }}>EPOCH</button>\r\n                    </div>\r\n                </div>\r\n                <div className='schedule-drop-menu-list' style={{top: '5vh', gridRow: 1, gridColumn: 1, right: '2.0rem'}}>  \r\n                        <label key='cancel-button' className='schedule-drop-menu-item' style={{gridRow: (1), borderBottom: '1px solid whitesmoke', color: 'var(--main-color)'}} onClick={()=>{\r\n                                dispatch({type: 'setDropList'});\r\n                            }}>Cancel</label>               \r\n                    {[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24].map((h, i) => \r\n                        <label key={h} className='schedule-drop-menu-item' style={{gridRow: (i+2), border: (new Date(props.time).getHours() == (h)) ? '1px solid var(--main-color)' : 'none'}} onClick={()=>{\r\n                            props.onSelect(new Date(props.time).setHours(h,0,0,0)); setCustomDate(new Date(props.time).setHours(h,0,0,0));\r\n                            dispatch({type: 'setDropList'});\r\n                        }}>{h} : 00</label>)}\r\n                        <div className='none' style={{display:'inline-grid', gridColumn: 1}}>\r\n                        <input key='settings-add-input' type='number' step={60} className='schedule-drop-menu-item' style={{gridColumn: 1, width: '10.0rem', border: 'none', borderRadius: 0, border: '1px solid whitesmoke', backgroundColor: 'black', color: 'white'}} \r\n                            value={(new Date(customDate).getHours()*60) + (new Date(customDate).getMinutes())}\r\n                            onChange={(c)=>setCustomDate(new Date(props.time).setHours(0,(c.target.value),0,0))}\r\n                            onKeyPress={(e)=>{ if (e.charCode == 13) {\r\n                                props.onSelect(customDate);\r\n                                dispatch({type: 'setDropList'});\r\n                            }}}/>\r\n                        <button key='settings-add-button' className='schedule-drop-menu-item' style={{gridColumn: 2, border: 'none', borderRadius: 0, borderBottom: '1px solid whitesmoke', backgroundColor: 'whitesmoke', color: 'black'}} onClick={()=>{\r\n                                props.onSelect(customDate);\r\n                                dispatch({type: 'setDropList'});\r\n                            }}>Time (m)</button>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        : <div ></div>}\r\n    </div>);\r\n}\r\n\r\nconst ScheduleRow = (props) => {\r\n    const DATA = useSelector(root => root.data);   \r\n    const dispatch = useDispatch(); \r\n    const [pendingAction, setPendingAction] = useState(undefined);\r\n    const [verification, setVerification] = useState(undefined);\r\n    const [buttonText, setButtonText] = useState('');\r\n\r\n    const [priority, setPriority] = useState(props.priority || null);\r\n    const [time, setTime] = useState(props.time || new Date().setMinutes(0,0,0));\r\n    const [title, setTitle] = useState(props.title || '');\r\n    const [titleEdited, setTitleEdited] = useState(false); //Detect Auto Populate Name\r\n    const [names, setNames] = useState(props.names || []);\r\n    const [duration, setDuration] = useState(props.duration || (15*60*1000));\r\n    const [set, setSet] = useState(props.set || true);\r\n    const [repeat, setRepeat] = useState(props.repeat || 0);\r\n\r\n    const resetVariables = (clear = false) => { \r\n        setPriority(props.priority || null);\r\n        setTime((clear || props.time == undefined) ? new Date().setMinutes(0,0,0) : props.time);\r\n        setTitle((clear || props.title == undefined) ? '' : props.title);\r\n        setNames((clear || props.names == undefined) ? [] : props.names);\r\n        setDuration((clear || props.duration == undefined) ? (15*60*1000) : props.duration);\r\n        setSet((clear || props.set == undefined) ? true : props.set);\r\n        setRepeat((clear || props.repeat == undefined) ? 0 : props.repeat);\r\n        if(clear) setButtonText('NEW');\r\n    }\r\n    useEffect(()=>resetVariables(),[props]);    \r\n    useEffect(()=>resetVariables(),[props]); \r\n\r\n    //Guidelines Abstracted\r\n    const verifyLevel = (props.verifyLevel != undefined) ? props.verifyLevel : 1;\r\n    const insertNew = (props.insertNew != undefined);\r\n\r\n    const isControlsChanged = () => {if(!props.names) return true;\r\n        if(Array.isArray(props.names))\r\n        for(var i=0; i<props.names.length; i++) {\r\n                if(!names.includes(props.names[i])) return true;\r\n        } if(Array.isArray(names))\r\n        for(var y=0; y<names.length; y++) {\r\n            if(!props.names.includes(names[y])) return true;\r\n        } return false;\r\n    }\r\n    const isTimeChanged = () =>(!props.time || props.time != time);\r\n    const isTitleChanged = () =>(!props.title || props.title != title);\r\n    const isDurationChanged = () =>(!props.duration || props.duration != duration);\r\n    const isSetChanged = () =>(props.set != set);\r\n    const isRepeatChanged = () => (props.repeat == undefined || props.repeat != repeat);\r\n    const isChanged=()=>{\r\n        if(isTimeChanged()) return true;\r\n        if(isTitleChanged()) return true;\r\n        if(!props.names || isControlsChanged()) return true;\r\n        if(isDurationChanged()) return true;\r\n        if(isSetChanged()) return true;\r\n        if(isRepeatChanged()) return true;\r\n        return false;\r\n    }\r\n    const isControlsValid = () => {\r\n        if(Array.isArray(names)) {\r\n            if(names.length == 0) return false;\r\n            for(var i=0; i<names.length; i++) {\r\n                if(names[i] == undefined) return false;\r\n        }} else if(!names || !names.length) return false;\r\n        return true;\r\n    }\r\n    const isTimeValid = () =>(time && !isNaN(time));\r\n    const isTitleValid = () =>(title && title != '');\r\n    const isDurationValid = () =>(duration && !isNaN(duration));\r\n    const isSetValid = () =>(set == false || set == true);\r\n    const isRepeatValid = () => (repeat != null && repeat != undefined && !isNaN(repeat));\r\n    useEffect(()=>{ let text = isChanged() ? 'UPDATE' : ''; \r\n        if(!isTimeValid()) text='TIME';\r\n        if(!isTitleValid()) text='TITLE';\r\n        if(!isControlsValid()) text='CONTROLS';\r\n        if(!isDurationValid()) text='DURATION';\r\n        if(!isSetValid()) text='SET';\r\n        if(!isRepeatValid()) text='REPEAT';\r\n        setButtonText(text);\r\n    \r\n    if(!titleEdited && insertNew && names.length) \r\n        setTitle(`${shortedNameList()} ${set ? 'On' : 'Off'} for ${(duration>3600000)?`${Math.floor(duration/3600000)}:`:''}${(duration>60000)?`${Math.floor((duration%3600000)/60000)}:`:''}${((duration>60000) && (duration%60000<10000))?'0':''}${Math.floor((duration%60000)/1000)}`);\r\n    }, [priority, time, title, names, duration, set, repeat]);\r\n        \r\n    //*********************************\r\n    //   API REQUEST & VERIFICATION\r\n    //*********************************\r\n    const makeRequest=async(password, action)=>{ setVerification(undefined); //saving local until fetch up stream is called to replace data \r\n        if(verifyLevel == 1 && !localStorage.getItem(\"password\")) await localStorage.setItem(\"password\", password.toString());\r\n        const success = await props.onUpdate(action || pendingAction, password, priority, time, title, names, duration, set, repeat);\r\n        if(success == true || isNaN(success)) {setButtonText((success != true) ? success : 'SAVED'); setTimeout(()=>{if(insertNew) resetVariables(true);}, 5000);}\r\n        else if(success == 401) { setButtonText('PASS');  localStorage.clear(); setTimeout(()=>setButtonText('UPDATE'), 5000);}\r\n        else if(success == 404) { setButtonText('INVALID');  setTimeout(()=>resetVariables(), 5000);}\r\n        else {setButtonText('FAILED');  setTimeout(()=>resetVariables(), 5000);}\r\n        setPendingAction(undefined);\r\n        return buttonText;\r\n    }\r\n\r\n    const processUpdate=async(action)=>{ setButtonText('PENDING'); if(action) setPendingAction(action); \r\n        if(verifyLevel == 0) makeRequest(undefined, action); //No Security\r\n        else if(verifyLevel == 1 && !localStorage.getItem(\"password\")) setVerification('Enter Control Password to Continue:'); //Only Request if not stored\r\n        else if(verifyLevel == 1) makeRequest(localStorage.getItem(\"password\"), action); //Use Saved Password\r\n        else setVerification('Enter Advanced Passphrase to Proceed:'); //undefined || >1\r\n    }\r\n\r\n    //*********************************\r\n    //   HTML DISPLAY\r\n    //*********************************\r\n    const shortedNameList = (space = window.innerWidth) => { \r\n        if(!DATA.CONTROLS || !names || names.length == 0) return '-'; \r\n        if(DATA.CONTROLS != undefined && names.length == DATA.CONTROLS.length) return '[ALL]'; \r\n        if(names.length > 1) //Identify Common Type\r\n            for(var i=0; i<DATA.controlTypes.length; i++) {let match = true;\r\n                for(var y=0; y<DATA.CONTROLS.length; y++) {\r\n                    if((names.includes(DATA.CONTROLS[y].name) && !DATA.CONTROLS[y].types.includes(DATA.controlTypes[i]))\r\n                        || !names.includes(DATA.CONTROLS[y].name) && DATA.CONTROLS[y].types.includes(DATA.controlTypes[i])) { match = false; break;}\r\n                } if(match) return `[${DATA.controlTypes[i]}]`;\r\n            } \r\n        //Abbreviated List Names\r\n        let result = '';\r\n        names.forEach(name =>  result += (' - '+(space > 900 ? name : name.match(/\\b(\\w)/g).join('.'))));\r\n        return result.substring(3).toUpperCase();//removes first dash :)\r\n    }\r\n\r\n    const getUpdateOptions = () => {const list = ['DELETE', 'INCREASE', 'DECREASE'];\r\n        if(isChanged()) list.unshift('RESET');\r\n        if(buttonText == 'UPDATE') list.unshift('UPDATE'); return list;}\r\n\r\n    return <div className='none schedule-row'>\r\n            {(insertNew) ? <SettingsButton title={(buttonText != 'UPDATE') ? buttonText : 'SAVE'} buttonColor={(buttonText != 'UPDATE') ? 'orange' : 'var(--main-color)'} buttonStyle={{gridRow: 1, gridColumn: 1, height: '85%', width: 'auto', maxWidth: '100%', overflowX: 'auto'}}\r\n                    pendingText='SCHEDULING'\r\n                    condense={true}\r\n                    verifyLevel={1}\r\n                    onUpdate={async(password)=>(buttonText == 'UPDATE') ? await makeRequest(password, 'INSERT') : false}\r\n                />\r\n            : <section className='none schedule-value-box' style={{gridRow: (1), gridColumn: 1, backgroundColor: (buttonText != '') ? 'transparent' : (time < DATA.timeNextEvaluation) ? 'black' : null}}>\r\n                <DropMenu value={buttonText == '' ? priority : buttonText} dropListId={`${JSON.stringify(props)}-update`}   subValue={(props.overriddenList && props.overriddenList.length) ? `${props.overriddenList.join(', ')}` : undefined}      buttonColor={getButtonColor(buttonText)} customName='PRIORITY' inputType='number' \r\n                    customDefault={priority}\r\n                    options={getUpdateOptions()}\r\n                    onSelect={(action)=>{if(action == 'RESET') resetVariables(insertNew); else  processUpdate(action);}}\r\n                />\r\n            </section>                \r\n            }\r\n            <section className='none schedule-value-box' style={{gridRow: (1), gridColumn: 2, backgroundColor: (time < DATA.timeNextEvaluation) ? 'black' : null, border: (!isTimeValid()) ? '1px solid darkred' : (isTimeChanged()) ? '1px solid var(--main-color)' : null}}>\r\n                <DropDateMenu  dropListId={`${JSON.stringify(props)}-time`}\r\n                    time={time}\r\n                    onSelect={(t)=>setTime(parseInt(t) || time)}\r\n                />\r\n            </section>\r\n            <section className='none schedule-value-box' style={{gridRow: (1), gridColumn: 3, backgroundColor: (time < DATA.timeNextEvaluation) ? 'black' : null, border: (!isTitleValid()) ? '1px solid darkred' : (isTitleChanged()) ? '1px solid var(--main-color)' : null}}>\r\n                <input type='text' className={'schedule-input schedule-drop-menu-button'} onClick={()=>{setTitleEdited(true); dispatch({type: 'setDropList'});}} value={title} onChange={(event)=>setTitle(event.target.value)} />\r\n            </section>\r\n            <section className='none schedule-value-box' style={{gridRow: (1), gridColumn: 4, backgroundColor: (time < DATA.timeNextEvaluation) ? 'black' : null, border: (!isControlsValid()) ? '1px solid darkred' : (isControlsChanged()) ? '1px solid var(--main-color)' : null}} >\r\n                <DropMenu value={shortedNameList()}   dropListId={`${JSON.stringify(props)}-names`}\r\n                    multipleList={[...names]}\r\n                    options={DATA.CONTROLS ? [...DATA.CONTROLS.map(c=>c.name)] : []}\r\n                    onSelect={(list)=>setNames(Array.isArray(list) ? [...list] : [list])}\r\n                    extraName='TYPES'\r\n                    extraList={DATA.controlTypes ? ['[ALL]', '[NONE]', ...DATA.controlTypes.map(t=>`[${t}]`)] : []}\r\n                    onExtra={(type)=>setNames((type == '[ALL]') ? [...DATA.CONTROLS.map(c=>c.name)] : (type == '[NONE]') ? [] : [...DATA.CONTROLS.filter(c=>c.types.includes(type.replace(/\\[|\\]/g, ''))).map(c=>c.name)])}\r\n                />             \r\n            </section>\r\n            <section className='none schedule-value-box' style={{gridRow: (1), gridColumn: 5, backgroundColor: (time < DATA.timeNextEvaluation) ? 'black' : null, border: (!isDurationValid()) ? '1px solid darkred' : (isDurationChanged()) ? '1px solid var(--main-color)' : null}}>\r\n                <DropMenu value={getDurationName(duration)}   dropListId={`${JSON.stringify(props)}-duration`}\r\n                    options={DURATION_LIST.map(e => e.name)}\r\n                    customName='Minutes'\r\n                    inputType='number'\r\n                    customDefault={duration / 60000}\r\n                    onSelect={(d)=>setDuration(isNaN(d) ? getDurationValue(d) : (d * 60000))}\r\n                />\r\n            </section>\r\n            <section className='none schedule-value-box' style={{gridRow: (1), gridColumn: 6, backgroundColor: (time < DATA.timeNextEvaluation) ? 'black' : null, border: (!isSetValid()) ? '1px solid darkred' : (isSetChanged()) ? '1px solid var(--main-color)' : null}}>\r\n                <DropMenu value={set ? 'ON' : 'OFF'}   dropListId={`${JSON.stringify(props)}-set`}\r\n                    options={['ON', 'OFF']} \r\n                    onSelect={(s)=>{setSet(s == 'ON')}}\r\n                />\r\n            </section>\r\n            <section className='none schedule-value-box' style={{gridRow: (1), gridColumn: 7, backgroundColor: (time < DATA.timeNextEvaluation) ? 'black' : null, border: (!isRepeatValid()) ? '1px solid darkred' : (isRepeatChanged()) ? '1px solid var(--main-color)' : null}}>\r\n                <DropMenu value={repeat ? getDurationName(repeat) : 'ONCE'}   dropListId={`${JSON.stringify(props)}-repeat`}\r\n                    options={['ONCE', ...DURATION_LIST.map(e => e.name)]}\r\n                    customName='Minutes'\r\n                    inputType='number'\r\n                    customDefault={repeat / 60000}\r\n                    onSelect={(r)=>setRepeat((r == 'ONCE') ? 0 : isNaN(r) ? getDurationValue(r) : (r * 60000))}\r\n                />\r\n            </section>\r\n        {verification ?\r\n            <Verify\r\n                prompt={verification}\r\n                onSubmit={(password)=>makeRequest(password, pendingAction)}\r\n                onCancel={()=>{setVerification(undefined); setButtonText('UPDATE');}}\r\n            />  : <div className='none no-size' style={{position:'absolute'}}></div>}\r\n    </div>;\r\n}\r\n\r\n\r\nconst Schedule = (props) => {\r\n    const SERVER_URL = useSelector(root => root.serverURL);\r\n    const [SCHEDULES, setSCHEDULES] = useState([]);\r\n    const [sortByTime, setSortByTime] = useState(true);\r\n    const [calculatedList, setCalculatedList] = useState([]);\r\n\r\n    //Search Schedules for overlapping\r\n    const calculateOccurrenceList = (schedules = SCHEDULES, days=3) =>{ if(!schedules || !schedules.length) return; \r\n        let minimum = 0; let bottom = 0; const end = (new Date().getTime()+(days*24*60*60*1000)); let count=0;\r\n        const occurrences = [...schedules.map(s => ({time: s.time, duration: s.duration, repeat: s.repeat, priority: s.priority, names: s.names || [], overrides: []}))];\r\n        do { minimum = occurrences.reduce((min,s)=>(s.time < min && s.time > bottom) ? s.time : min, end); count++;\r\n            const least = occurrences.find(s=>(minimum == s.time)); \r\n            if(least == undefined) break; \r\n            occurrences.forEach(s => { if((!least.overrides.includes(s.priority)) && (least.priority > s.priority) && ((s.time) < (least.time + least.duration)) && ((s.time + s.duration) > (least.time)) && (least.names.some(e=>s.names.includes(e)))) least.overrides.push(s.priority);});\r\n            bottom  = least.time;\r\n            least.time += least.repeat;\r\n            if(count > 1000) {console.log('Schedule.calculateOccurrenceList() Maxed Search: ', count, occurrences); break;}\r\n        } while(minimum < end);\r\n        setCalculatedList([...occurrences.map(s=>({priority: s.priority, overrides: [...s.overrides.sort((a,b)=>(b-a))]}))]);\r\n    }\r\n\r\n    //API Referencing\r\n    const fetchSchedules = () => axios.get(`${SERVER_URL}/data-schedules/`).then((response) => { console.log('SCHEDULES', response.data.schedules);\r\n            setSCHEDULES(response.data.schedules);  calculateOccurrenceList(response.data.schedules);\r\n        }).catch((error) => {console.log('Failed to Fetch Schedule Information', error); return error.response ? error.response.status : false;});\r\n    useEffect(()=>fetchSchedules(),[]);\r\n\r\n    const getOverriddenList=(priority)=>{if(!calculatedList || (SCHEDULES.length != calculatedList.length) || priority == undefined) return [];\r\n        const list = calculatedList.find(s=>(s.priority == priority));\r\n        return list ? list.overrides : []; };\r\n\r\n    return( <div id='schedule-list' className='none border-box'>\r\n            <div className='none schedule-row'>\r\n                <label className='schedule-header' style={{gridColumn: 1}}>Edit</label>\r\n                <label className='schedule-header' style={{gridColumn: 2}}>Occurrence</label>\r\n                <label className='schedule-header' style={{gridColumn: 3}}>Title</label>\r\n                <label className='schedule-header' style={{gridColumn: 4}}>Control</label>\r\n                <label className='schedule-header' style={{gridColumn: 5}}>Duration</label>\r\n                <label className='schedule-header' style={{gridColumn: 6}}>Set</label>\r\n                <label className='schedule-header' style={{gridColumn: 7}}>Repeat</label>\r\n            </div>\r\n{/* LIST NEW SCHEDULE Fields */}\r\n          <ScheduleRow insertNew={true} \r\n            onUpdate={async(action, password, priority, time, title, names, duration, set, repeat)=>{\r\n                if(action == 'INSERT') return await axios.post(`${SERVER_URL}/schedule-add/`, {\r\n                    PASSWORD: password, time: time, title: title, names: JSON.stringify(names), duration: duration, set: set, repeat: repeat\r\n                }).then((response) => {fetchSchedules(); return true;}).catch((error) => error.response ? error.response.status : false);\r\n            }} />\r\n{/* LIST EXISTING props.SCHEDULES : onTap Editable */}\r\n            <div className='schedule-button-row'>\r\n                <SettingsButton title={sortByTime ? 'Sort Priority' : 'Sort Time'} buttonStyle={{padding: '0.40rem'}}\r\n                    condense={true}\r\n                    buttonColor='orange'\r\n                    verifyLevel={0}\r\n                    onUpdate={async(password)=>{setSortByTime(!sortByTime); return 'Sorting';}}\r\n                />\r\n                <HoldButton buttonColor='black' buttonStyle={{padding: '0.45rem'}}/>\r\n                <SettingsButton title='UPDATE' buttonStyle={{padding: '0.40rem'}} pendingText='RETRIEVING'\r\n                    condense={true}\r\n                    verifyLevel={1}\r\n                    onUpdate={async(password)=>{const response = await fetchSchedules(); return (response == true) ? 'UPDATED' : response; }}\r\n                />\r\n            </div>\r\n            {[...SCHEDULES.sort((a,b) => sortByTime ? (a.time - b.time) : (b.priority - a.priority))].map((schedule,index) => <ScheduleRow key={`Schedule-${index}`} verifyLevel={1}\r\n                priority={schedule.priority} time={schedule.time} title={schedule.title} names={schedule.names} duration={schedule.duration} set={(schedule.set == true || schedule.set == 1)} repeat={schedule.repeat} overriddenList={getOverriddenList(schedule.priority)}\r\n            onUpdate={async (action, password, priority, time, title, names, duration, set, repeat)=>{\r\n                if(action == 'DELETE') return await axios.post(`${SERVER_URL}/schedule-delete/`, {\r\n                    PASSWORD: password, priority: schedule.priority\r\n                }).then((response) => {fetchSchedules(); return true;}).catch((error) => error.response ? error.response.status : false);\r\n                else if(action == 'UPDATE')  return await axios.post(`${SERVER_URL}/schedule-replace/`, {\r\n                    PASSWORD: password, currentPriority: schedule.priority, priority: priority, time: time, title: title, names: JSON.stringify(names), duration: duration, set: set, repeat: repeat\r\n                }).then((response) => {fetchSchedules(); return true;}).catch((error) => error.response ? error.response.status : false);\r\n                else if(action == 'INCREASE' || action == 'DECREASE') return await axios.post(`${SERVER_URL}/schedule-priority-increase/`, {\r\n                    PASSWORD: password, priority: schedule.priority, increase: (action == 'INCREASE')\r\n                }).then((response) => {fetchSchedules(); return true;}).catch((error) => error.response ? error.response.status : false);\r\n                else if(!isNaN(parseInt(action))) return await axios.post(`${SERVER_URL}/schedule-update/`, {\r\n                    PASSWORD: password, priority: schedule.priority, attributeName: 'priority', value: parseInt(action) || 0\r\n                }).then((response) => {fetchSchedules(); return true;}).catch((error) => error.response ? error.response.status : false);\r\n\r\n            }} />)}\r\n    </div>);\r\n}\r\n\r\nexport default Schedule;","import React, {useState, useEffect} from 'react';\r\nimport { useSelector} from 'react-redux';\r\nimport axios from 'axios';\r\nimport Verify from '../Verify';\r\n\r\nimport '../index.css';\r\nimport './Climate.css';\r\n\r\nconst getButtonColor=(buttonText)=>(buttonText=='') ? 'transparent' : (buttonText=='UPDATE') ? 'var(--main-color)' : (buttonText=='PASS' || buttonText=='INVALID' || buttonText=='FAILED') ? '#e8000d' : (buttonText=='PENDING' || buttonText=='BLANK') ? 'orange' : '#cc5500';\r\n\r\nconst Climate = (props) => {\r\n    const convertToFahrenheit = useSelector(root => root.convertToFahrenheit);\r\n    const SERVER_URL = useSelector(root => root.serverURL);\r\n    const [CLIMATE, setCLIMATE] = useState([]);\r\n    const [range, setRange] = useState({maximumTemperature: 24, maximumHumidity: 75, minimumTemperature: 24, minimumHumidity: 75})\r\n    const [temperatureMode, setTemperatureMode] = useState(true);\r\n    const [saveButtonText, setSaveButtonText] = useState('Pending');\r\n    const [verification, setVerification] = useState(undefined);\r\n\r\n//API Referencing\r\n    const fetchClimate = () => axios.get(`${SERVER_URL}/data-climate/`).then((response) => { console.log('CLIMATE', response.data);\r\n        setCLIMATE(response.data.climate);  setSaveButtonText('');\r\n        setRange({maximumTemperature: response.data.maximumTemperature, maximumHumidity: response.data.maximumHumidity, minimumTemperature: response.data.minimumTemperature, minimumHumidity: response.data.minimumHumidity});\r\n    }).catch((error) => console.log('Failed to Fetch Climate Information', error));\r\n    useEffect(()=>fetchClimate(),[temperatureMode]);\r\n\r\n    const sendChanges = (password) => {setVerification(undefined); \r\n    // if(saveButtonText == 'Save Changes')\r\n        axios.post(`${SERVER_URL}/set-settings/`, {ADVANCED_PASSPHRASE: password,\r\n            tag: temperatureMode ? 'climate-temperature' : 'climate-humidity',\r\n            climate: JSON.stringify(CLIMATE),\r\n        }).then((response) => { setSaveButtonText('Saved'); console.log(response);\r\n            setTimeout(()=>{fetchClimate();}, 5000);\r\n        }).catch((error) => console.log('Failed to Fetch Climate Information', error));\r\n    // else setSaveButtonText('45');\r\n}\r\n\r\n//UI Utilities\r\n    const formatTemperature = (temp) => convertToFahrenheit ? (Math.round((temp*(9/5)+32)*10)/10) : temp;\r\n    const getMaxValue = (format=false, ghost=false, round = true) => {const value = (temperatureMode != ghost) ? format ? formatTemperature(range.maximumTemperature) : range.maximumTemperature  : range.maximumHumidity; return round ? Math.ceil(value) : value; }\r\n    const getMinValue = (format=false, ghost=false, round = true) => {const value = (temperatureMode != ghost) ? format ? formatTemperature(range.minimumTemperature) : range.minimumTemperature :  range.minimumHumidity; return round ? Math.floor(value) : value; }\r\n\r\n    const getWidthOffset = () => 5.0 * parseFloat(getComputedStyle(document.documentElement).fontSize); //rem unit = column 1 & margin/padding\r\n\r\n    const getRange = (format=false) => {let values = [];\r\n        const cellRatio = ((window.innerWidth-(getWidthOffset()))/((getMaxValue(format)-getMinValue(format))*(2.0*parseFloat(getComputedStyle(document.documentElement).fontSize))));\r\n        for(var i=(getMinValue(format)); i<(getMaxValue(format)); i += Math.ceil(1/cellRatio)) { values.push(i); }\r\n                values.push(getMaxValue(format)); return values; }\r\n\r\n    const calculatedWidth = (3.5 * getRange(true).length * (1.0*parseFloat(getComputedStyle(document.documentElement).fontSize)))+getWidthOffset(); //Designed to Allow twice space for getRange() list\r\n\r\n\r\n    return(<div id='climate-container'  >\r\n        <div id='climate-header-box'>\r\n            <button className='climate-header-button' style={{backgroundColor: temperatureMode ? 'rgba(0, 102, 0, 0.6)' : 'rgba(255, 255, 255, 0.4)', color: temperatureMode ? 'white' : 'black'}} onClick={()=>setTemperatureMode(true)}>Temperature</button>\r\n            <button className='climate-header-button' style={{backgroundColor: temperatureMode ? 'rgba(255, 255, 255, 0.4)' : 'rgba(0, 102, 0, 0.6)',  color: temperatureMode ? 'black' : 'white'}} onClick={()=>setTemperatureMode(false)}>Humidity</button>\r\n            {saveButtonText != '' ? <button className='climate-header-button' style={{backgroundColor: (saveButtonText == 'Saved' || saveButtonText == 'Save Changes') ? '#cc5500' : (saveButtonText == 'Pending') ? 'orange' : '#e8000d',  color: 'black'}} onClick={()=>{setSaveButtonText('Pending'); setVerification('Enter Advanced Passphrase to Proceed:');}}>{saveButtonText}</button> : <section className='none no-size'></section>}\r\n        </div>\r\n        <div id='climate-slider-box' className='none ' style={{maxWidth: `${calculatedWidth}px`}}>\r\n                <div className='none climate-slider-value-box' style={{gridRow: 1, gridColumn: 1, paddingLeft: '4.0rem', paddingRight: '2.0rem', width: `${(calculatedWidth*1)-(1*getWidthOffset())-0}px`,}}>\r\n                    {getRange(false).map((v,j) => <label key={`climate-slider-range-value-$first-${j}`} className='climate-slider-range-value' style={{gridColumn: (j+1), textAlign: j==0 ? 'left' : (j == (getRange(false).length-1)) ? 'right' : 'center'}}>{v}</label>)}\r\n                </div>\r\n            {CLIMATE.map( (item, i) => <div key={`slider-${i}`} className='none climate-slider-outer-box' style={{gridRow: (i+2)}} >              \r\n                <strong className='climate-hour-value' style={{}}>{item.hour}:00</strong>\r\n                <strong className='climate-hour-value' style={{gridRow: 2, color: 'var(--main-color)', fontSize: '0.8rem'}}>{temperatureMode ? parseFloat(item.temperature).toFixed(1) : parseFloat(item.humidity).toFixed(1)} {temperatureMode ? <span className='none' style={{fontSize: '0.65rem', verticalAlign: 'top'}}>&#8457;</span> : '%'}</strong>\r\n\r\n                <input readOnly className='none climate-slider-range-bar climate-slider-range-bar-ghost' style={{width: `${(calculatedWidth*1)-(1*getWidthOffset())-0}px`, }} type='range' step='0.01' min={getMinValue(false, true, false)} max ={getMaxValue(false, true, false)} value={!temperatureMode ? CLIMATE[i].temperature : CLIMATE[i].humidity} />\r\n                <input readOnly className='none climate-slider-range-bar climate-slider-range-bar-ghost-dot' style={{width: `${(calculatedWidth*1)-(1*getWidthOffset())-0}px`, }} type='range' step='0.01' min={getMinValue(false, false, false)} max ={getMaxValue(false, false, false)} value={temperatureMode ? CLIMATE[i].temperatureAverage : CLIMATE[i].humidityAverage} />\r\n                <input className='none climate-slider-range-bar' style={{width: `${(calculatedWidth*1)-(1*getWidthOffset())-0}px`, }} type='range' step='0.01' min={getMinValue(false, false, false)} max ={getMaxValue(false, false, false)} value={temperatureMode ? CLIMATE[i].temperature : CLIMATE[i].humidity} onChange={(event)=>{temperatureMode ? CLIMATE[i].temperature=event.target.value : CLIMATE[i].humidity=event.target.value;  setCLIMATE([...CLIMATE]); setSaveButtonText('Save Changes');}} />\r\n                {/* <input className='none climate-slider-range-bar' style={{width: `${(calculatedWidth*1)-(1*getWidthOffset())-0}px`, }}  type='range' step='0.01'  min={getMinValue(false)} max ={getMaxValue(false)} value={sample} onChange={(event)=>{console.log(event.target.value, formatTemperature(event.target.value)); setSample(event.target.value);}} /> */}\r\n\r\n                <div id={`data-${i}`} className='none climate-slider-value-box' style={{width: `${(calculatedWidth*1)-(1*getWidthOffset())-0}px`, }}>\r\n                    {getRange((i % 2) == 0).map((v,j) => <label key={`climate-slider-range-value-${i}-${j}`} className='climate-slider-range-value' style={{gridColumn: (j+1), textAlign: j==0 ? 'left' : (j == (getRange((i % 2) == 0).length-1)) ? 'right' : 'center'}}>{v}</label>)}\r\n                </div>\r\n                </div>)}\r\n        </div>\r\n        {verification ?\r\n            <Verify\r\n                prompt={verification}\r\n                onSubmit={sendChanges}\r\n                onCancel={()=>{setVerification(undefined); setSaveButtonText(''); fetchClimate();}}\r\n            />  : <div className='none no-size' style={{position:'absolute'}}></div>}\r\n    </div>);\r\n}\r\nexport default Climate;","\r\nimport React, {useState, useEffect} from 'react';\r\nimport { useSelector} from 'react-redux';\r\nimport { Link, useHistory, useLocation} from \"react-router-dom\";\r\nimport '../index.css';\r\nimport './ErrorBar.css';\r\n\r\nconst ErrorBar = (props) => {\r\n    const DATA = useSelector(root => root.data);\r\n    const [ERROR_LIST, setERROR_LIST] = useState([]);\r\n    const routeHistory = useHistory();\r\n    const routeLocation = useLocation();\r\n\r\n    useEffect(()=>{ const list = [];\r\n        if(DATA.sensorErrorCode == undefined) list.push('SERVER DISCONNECTED');\r\n        if(DATA.sensorErrorCode) list.push('SENSOR ERROR');\r\n        if(DATA.maximumTemperatureErrorCode) list.push('MAXIMUM TEMPERATURE');\r\n        if(DATA.minimumTemperatureErrorCode) list.push('MINIMUM TEMPERATURE');\r\n        if(DATA.maximumHumidityErrorCode) list.push('MAXIMUM HUMIDITY');\r\n        if(DATA.minimumHumidityErrorCode) list.push('MINIMUM HUMIDITY');\r\n        if(DATA.accessDatabase != undefined && !DATA.accessDatabase) list.push('DATABASE DISCONNECTED');\r\n    setERROR_LIST(list); },[DATA]);\r\n\r\n    return(\r\n        <div id='error-bar-container'  style={{display: ERROR_LIST.length ? 'block': 'none'}} onClick={()=>{\r\n            if(routeLocation.pathname == '/settings') routeHistory.push('/log');\r\n                else routeHistory.push('/settings');\r\n        }}>\r\n            <div id='error-bar-wrap' >\r\n                {ERROR_LIST.map(e=><strong key={e} className='error-bar-text'>{e}</strong>)}\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default ErrorBar;","import React, {useState, useEffect} from 'react';\r\nimport { useSelector, useDispatch} from 'react-redux';\r\nimport Verify from '../Verify';\r\n\r\nimport '../index.css';\r\nimport './Settings.css';\r\n\r\nconst getButtonColor=(buttonText)=>(buttonText=='') ? 'transparent' : (buttonText=='UPDATE') ? 'var(--main-color)' : (buttonText=='PASS' || buttonText=='INVALID') ? '#e8000d' : (buttonText=='PENDING' || buttonText=='BLANK') ? 'orange' : '#cc5500';\r\n\r\nconst SettingsList = (props) => { \r\n    const [verification, setVerification] = useState(undefined);\r\n    const openList = useSelector(root => root.dropListOpen);\r\n    const dispatch = useDispatch();\r\n    const [current, setCurrent] = useState(props.current == undefined ? [] : Array.isArray(props.current) ? props.current : [props.current]);\r\n    const [options, setOptions] = useState(props.options == undefined ? current : Array.isArray(props.options) ? props.options : [props.options]);\r\n    const [list, setList] = useState(props.current == undefined ? [] : Array.isArray(props.current) ? props.current : [props.current]);\r\n    const [custom, setCustom] = useState('');\r\n    const [buttonText, setButtonText] = useState('');\r\n\r\n    useEffect(()=>{//Syncing Props b/c initial render redux.data == {} -> fetchData() //Not proper solution, but others didn't work :: https://tkdodo.eu/blog/putting-props-to-use-state\r\n        const newCurrent = props.current == undefined ? [] : Array.isArray(props.current) ? props.current : [props.current];\r\n        const newOptions = props.options == undefined ? newCurrent : Array.isArray(props.options) ? props.options : [props.options];\r\n        setCurrent(newCurrent);\r\n        setOptions(newOptions); \r\n        setList(newCurrent);\r\n    },[props]);\r\n\r\n    //Guidelines Abstracted\r\n    const verifyLevel = (props.verifyLevel != undefined) ? props.verifyLevel : 2;\r\n    const selectMultiple = (props.selectMultiple != undefined) ? props.selectMultiple : (Array.isArray(props.current));\r\n    const inputType = (props.inputType != undefined) ? props.inputType : (isNaN(props.current) ? 'text' : 'number' );\r\n    const addCustom = (props.addCustom != undefined) ? props.addCustom : false;\r\n    const condense = (props.condense != undefined) ? props.condense : false;\r\n\r\n    const isChanged=(latestList)=>{\r\n        const l = latestList || list;\r\n        if(Array.isArray(l))\r\n            for(var i=0; i<l.length; i++) {\r\n                    if(!current.includes(l[i])) return true;\r\n            } \r\n        if(Array.isArray(current))\r\n            for(var y=0; y<current.length; y++) {\r\n                if(!l.includes(current[y])) return true;\r\n        }return false;\r\n    }\r\n\r\n    const updateButton = async(latestList) => { const l = latestList || list;\r\n        let text = isChanged(l) ? 'UPDATE' : ''; \r\n        if(Array.isArray(l)){\r\n        l.forEach(v=>{if(!options.includes(v)) text='INVALID';});\r\n        if(!selectMultiple && l.length > 1) text='INVALID';\r\n        if(l.length == 0) text='BLANK';\r\n        for(var i=0; i<l.length; i++) {\r\n            if(l[i] == undefined) text='BLANK';\r\n        } \r\n    } setButtonText(text);\r\n        return text; }\r\n    useEffect(()=>updateButton(), [list]);\r\n\r\n    //*********************************\r\n    //   API REQUEST & VERIFICATION\r\n    //*********************************\r\n    const makeRequest=async(password, latestList)=>{ setVerification(undefined); //saving local until fetch up stream is called to replace data\r\n        if(verifyLevel == 1 && !localStorage.getItem(\"password\")) await localStorage.setItem(\"password\", password.toString());\r\n\r\n        const success = await props.onUpdate(selectMultiple ? JSON.stringify(latestList || list) : list[0], password);\r\n        if(success == true || isNaN(success)) { setButtonText((success != true) ? success : 'SAVED'); setCurrent(list); setTimeout(()=>setButtonText(''), 5000); }\r\n        else if(success == 401) { setButtonText('PASS'); setTimeout(()=>setList(current), 5000); localStorage.clear();}\r\n        else if(success == 404) { setButtonText('INVALID'); setTimeout(()=>setList(current), 5000); localStorage.clear();}\r\n        else {setButtonText('FAILED'); setTimeout(()=>setList(current), 5000); }\r\n    }\r\n\r\n    const processUpdate=async(latestList)=>{ if(await updateButton(latestList) == 'UPDATE') { setButtonText('PENDING'); dispatch({type: 'setDropList'});\r\n        if(verifyLevel == 0) makeRequest(undefined, latestList); //No Security\r\n        else if(verifyLevel == 1 && !localStorage.getItem(\"password\")) setVerification('Enter Control Password to Continue:'); //Only Request if not stored\r\n        else if(verifyLevel == 1) makeRequest(localStorage.getItem(\"password\"), latestList); //Use Saved Password\r\n        else setVerification('Enter Advanced Passphrase to Proceed:'); //undefined || >1\r\n    }}\r\n\r\n    const toggleOption=async(option)=>{ let latest = [...list]; let allowed = [...options];\r\n    //Special Email Verification\r\n        if(props.inputType == 'email' && !(/^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/).test(option)) {setButtonText('Email'); return 'Email';}\r\n    //Add Custom to Options\r\n        if(addCustom && !allowed.includes(option)) allowed = [...options, option];\r\n        //Add to Select List\r\n            if(!selectMultiple && (addCustom || allowed.includes(option))) latest=[option]; //Single set as list\r\n            else if(list.includes(option)) latest= [...list.filter((o) => (o != option && allowed.includes(o)))]; //remove list\r\n            else latest =  [...list.filter((o) => allowed.includes(o)), option]; //add list\r\n\r\n            setOptions([...allowed]); setList([...latest]);\r\n            if(!selectMultiple) processUpdate(latest);\r\n        return await updateButton(latest);\r\n    }\r\n    \r\n    //*********************************\r\n    //   HTML DISPLAY\r\n    //*********************************\r\n    const getOldOptions = () => [...list.filter(c=>!options.includes(c))]; //old/changed control names\r\n\r\n    return(<div id={props.title} className='settings-value-box'  style={{ gridTemplateColumns: (condense) ? 'auto 40%' : null}} onFocus={()=>{}} onBlur={()=>{}} >\r\n        {(props.title==undefined) ?  <div className='none no-size' style={{position:'absolute'}}></div> : <strong className='settings-value-title' >{props.title}</strong>}\r\n            {(openList == props.dropListId) ? <div ><button className='settings-value-input ' onClick={()=>dispatch({type: 'setDropList', payload: props.dropListId})} >{list ? list.toString() : ''}</button>\r\n                        <div className='drop-menu-list' style={{top: options.length <= 5 ? null : '5vh', position: options.length <= 5 ? 'absolute' : 'fixed'}}>\r\n                            <button key='settings-close-button' className='drop-menu-item' style={{border: 'none', borderRadius: 0, borderBottom: '1px solid whitesmoke', backgroundColor: 'whitesmoke', color: 'black'}} onClick={()=>{\r\n                                        dispatch({type: 'setDropList'});\r\n                                    }}>Close</button>\r\n                        {getOldOptions().map((option, i) => \r\n                            <label key={option+i+'old'} className='drop-menu-item' style={{gridRow: (i+2), color: 'gold'}} onClick={()=>{ \r\n                                setList(old => [...old.filter((o) => (o != option && options.includes(o)))])\r\n                                if(!selectMultiple) dispatch({type: 'setDropList'});\r\n                                if(!selectMultiple) processUpdate();\r\n                            }}>{option.toString()}</label>\r\n                        )}\r\n                        {options.map((option, i) => \r\n                            <label key={option+i} className='drop-menu-item' style={{gridRow: (i+2+getOldOptions().length), border: list.includes(option) ? '1px solid var(--main-color)' : 'none', color: list.includes(option) ? 'var(--main-color)' : 'white'}} onClick={async()=>{\r\n                                await toggleOption(option);\r\n                                if(!selectMultiple) dispatch({type: 'setDropList'});\r\n                                if(!selectMultiple) processUpdate();\r\n                            }}>{option.toString()}</label>\r\n                        )}\r\n                         {addCustom ? <div className='none' style={{display:'inline-grid', gridRow: (getOldOptions().length + options.length+3), gridColumn: 1}}>\r\n                                <input key='settings-add-input' type={inputType} className='drop-menu-item' style={{gridRow: (1), gridColumn: 1, width: '10.0rem', borderRadius: 0, border: '1px solid whitesmoke', backgroundColor: 'black', color: 'white'}} \r\n                                    value={custom}\r\n                                    onChange={(c)=>setCustom(c.target.value)}\r\n                                    onKeyPress={async(e)=>{ if (e.charCode == 13) {\r\n                                        if(await toggleOption(custom) == 'UPDATE') setCustom('');\r\n                                        if(!selectMultiple) dispatch({type: 'setDropList'});\r\n                                        if(!selectMultiple) processUpdate();\r\n                                    }}}/>\r\n                                <button key='settings-add-button' className='drop-menu-item' style={{gridRow: (1), gridColumn: 2, border: 'none', borderRadius: 0, borderBottom: '1px solid whitesmoke', backgroundColor: 'whitesmoke', color: 'black'}} onClick={async()=>{\r\n                                        if(await toggleOption(custom) == 'UPDATE') setCustom('');\r\n                                        if(!selectMultiple) dispatch({type: 'setDropList'});\r\n                                    }}>ADD</button>\r\n                        </div> : <div className='none no-size'></div>}\r\n                        {(condense || buttonText == 'UPDATE') ? <button key='settings-save-button' className='drop-menu-item' style={{border: 'none', borderRadius: 0, border: 'none', backgroundColor: getButtonColor(buttonText), color: 'white'}} onClick={()=>{\r\n                                        processUpdate();\r\n                                    }}>{buttonText}</button> : <div className='none no-size'></div>}\r\n                </div></div> \r\n            : <button className='settings-value-input ' onClick={()=>dispatch({type: 'setDropList', payload: props.dropListId})} >{list ? list.toString() : ''}</button>}\r\n        {(condense && !selectMultiple) ?  <div className='none no-size' style={{position:'absolute'}}></div> : <button className='settings-value-button' onClick={processUpdate}  style={{backgroundColor: getButtonColor(buttonText)}}>{buttonText}</button> }\r\n        {verification ?\r\n            <Verify\r\n                prompt={verification}\r\n                onSubmit={makeRequest}\r\n                onCancel={()=>{setVerification(undefined); setButtonText('UPDATE'); if(condense) setList([...current]); }}\r\n            />  : <div className='none no-size' style={{position:'absolute'}}></div>}\r\n    </div>);\r\n}\r\n\r\nexport default SettingsList;\r\n","import React from 'react';\r\nimport { useHistory} from \"react-router-dom\";\r\nimport { useSelector, useDispatch} from 'react-redux';\r\nimport axios from 'axios';\r\nimport SettingsList from './SettingsList';\r\nimport SettingsBlank from './SettingsBlank';\r\nimport SettingsButton from './SettingsButton';\r\nimport {fetchData} from '../index';\r\n\r\nimport '../index.css';\r\nimport './Settings.css';\r\n\r\n/*SETTINGS Props Key : 9-26-2021\r\nSettingsList.jsx\r\n    + dropListId\r\n    + title\r\n    + current\r\n    + options\r\n    + onUpdate\r\n    ? verifyLevel = 2\r\n    ? selectMultiple = current type\r\n    ? addCustom = false\r\nSettingsBlank.jsx\r\n    + title\r\n    + current\r\n    + onUpdate\r\n    ? verifyLevel = 2\r\n    ? inputType = current type: text/number\r\n    ? numberStep = 1\r\n    ? cache: true/false //Won't clear Input on Failed Request\r\nSettingsButton.jsx\r\n    + title\r\n    + onUpdate\r\n    ? verifyLevel = 1\r\n*/\r\n\r\nconst Settings = (props) => {\r\n// console.log(props);\r\nconst SERVER_URL = useSelector(root => root.serverURL);\r\nconst DATA = useSelector(root => root.data);\r\nconst SCREENSAVER_BRIGHTNESS = useSelector(root => root.screenSaverBrightness);\r\nconst convertToFahrenheit = useSelector(root => root.convertToFahrenheit);\r\nconst dispatch = useDispatch();\r\nconst routeHistory = useHistory();\r\n\r\n    const post = async(route, body, onSuccess) => axios.post(`${SERVER_URL}${route}/`, body).then((response)=>onSuccess == 'response' ? response : onSuccess || true).catch((error)=>error.response ? error.response.status : false);\r\n    const put = async(route, body, onSuccess) => axios.put(`${SERVER_URL}${route}/`, body).then((response)=>onSuccess == 'response' ? response : onSuccess || true).catch((error)=>error.response ? error.response.status : false);\r\n\r\n    const LOCAL_SETTINGS = [\r\n        <SettingsList title='Temperature:'\r\n            dropListId='temperature-conversion'\r\n            current={convertToFahrenheit ? 'Fahrenheit' : 'Celsius'}\r\n            options={['Celsius', 'Fahrenheit']}\r\n            verifyLevel={0}\r\n            onUpdate={(value, password)=>{dispatch({type: 'toggleConvertToFahrenheit', payload: (value == 'Fahrenheit')}); return true;}}/>, \r\n        <SettingsButton title='Deactivate Screen Saver' pendingText='Deactivating'\r\n            onUpdate={async()=>{props.deactivateScreenSaver(300000); return '5 Minutes';}} />,\r\n        <SettingsList title='ScreenSaver Brightness:'\r\n            dropListId='screensaver-brightness'\r\n            current={SCREENSAVER_BRIGHTNESS.setting}\r\n            options={SCREENSAVER_BRIGHTNESS.settingOptions}\r\n            verifyLevel={0}\r\n            onUpdate={(value, password)=>{\r\n                if(SCREENSAVER_BRIGHTNESS.settingOptions.includes(value)) {dispatch({type: 'setting', payload: value}); return true;}\r\n                else return false;}}/>, \r\n        <div style={{borderBottom: '1px solid var(--main-color)', margin: '0.5rem 0', width: '100%'}}></div>,\r\n        <SettingsBlank title='Server URL:'\r\n                current={SERVER_URL}\r\n                verifyLevel={0}\r\n                cache={true}\r\n                onUpdate={async(value, password)=>{dispatch({type: 'setServerURL', payload: value}); const response = await fetchData(); if(response == true) routeHistory.push('/'); return (response == true) ? 'UPDATING' : response;}}/>,\r\n        <SettingsButton title='Update Data' pendingText='RETRIEVING'\r\n        onUpdate={async()=>{const response = await fetchData(); return (response == true) ? 'UPDATED' : response;}} />\r\n    ];\r\n    if(SCREENSAVER_BRIGHTNESS.setting == 'Scheduled') \r\n        LOCAL_SETTINGS.splice(2,0,\r\n            <SettingsBlank title='ScreenSaver Day Hour Start: (0-23/24)'\r\n                current={SCREENSAVER_BRIGHTNESS.dayHourStart}\r\n                verifyLevel={0}\r\n                onUpdate={(value, password)=>{const hour = parseInt(value);\r\n                    if(hour >=0 && hour <= 24) {dispatch({type: 'dayHourStart', payload: hour}); return true;} //24 is disabled\r\n                    else return false;}}/>,\r\n            <SettingsBlank title='ScreenSaver Day Opacity: (%)'\r\n                current={SCREENSAVER_BRIGHTNESS.dayOpacity*100}\r\n                verifyLevel={0}\r\n                onUpdate={(value, password)=>{const opacity = (parseInt(value)/100);\r\n                    if(opacity >=0 && opacity <= 1) {dispatch({type: 'dayOpacity', payload: opacity}); return true;}\r\n                    else return false;}}/>,  \r\n            <SettingsBlank title='ScreenSaver Night Hour Start: (0-23/24)'\r\n                current={SCREENSAVER_BRIGHTNESS.nightHourStart}\r\n                verifyLevel={0}\r\n                onUpdate={(value, password)=>{const hour = parseInt(value);\r\n                    if(hour >=0 && hour <= 24) {dispatch({type: 'nightHourStart', payload: hour}); return true;}\r\n                    else return false;}}/>,\r\n            <SettingsBlank title='ScreenSaver Night Opacity: (%)'\r\n                current={SCREENSAVER_BRIGHTNESS.nightOpacity*100}\r\n                verifyLevel={0}\r\n                onUpdate={(value, password)=>{const opacity = (parseInt(value)/100);\r\n                    if(opacity >=0 && opacity <= 1) {dispatch({type: 'nightOpacity', payload: opacity}); return true;}\r\n                    else return false;}}/>,  \r\n            <SettingsBlank title='ScreenSaver Black Hour Start: (0-23/24)'\r\n                current={SCREENSAVER_BRIGHTNESS.blackHourStart}\r\n                verifyLevel={0}\r\n                onUpdate={(value, password)=>{const hour = parseInt(value);\r\n                    if(hour >=0 && hour <= 24) {dispatch({type: 'blackHourStart', payload: hour}); return true;}\r\n                    else return false;}}/>            \r\n            );\r\n    \r\n    return((DATA == {} || DATA.CONTROLS == undefined) ? <div id='settings-container'>{LOCAL_SETTINGS}</div>\r\n    : <div id='settings-container'>\r\n        {LOCAL_SETTINGS}\r\n        <SettingsButton title='Evaluate Conditions' pendingText='EXECUTING'\r\n            onUpdate={async(password)=>{setTimeout(()=>fetchData(), 60000); return await put('/evaluate', {PASSWORD: password}, 'COMPLETE');}} />  \r\n        <SettingsBlank title='Postpone Next Evaluation: (ms)'\r\n            current={0}\r\n            numberStep={60000}\r\n            verifyLevel={1}\r\n            onUpdate={(value, password)=>post('/postpone-evaluation', {PASSWORD: password,\r\n                duration: value,\r\n            })}/>  \r\n        <SettingsList title='Status Email Recipients:'\r\n            dropListId='status-email'\r\n            current={DATA.emailStatusRecipients}\r\n            verifyLevel={1}\r\n            addCustom={true}\r\n            inputType='email'\r\n            onUpdate={(value, password)=>post('/set-settings', {PASSWORD: password,\r\n                tag: 'emailStatusRecipients',\r\n                emailStatusRecipients: value,\r\n            })}/> \r\n        <SettingsButton title='Send Update Email' pendingText='SENDING'\r\n            onUpdate={(password)=>put('/send-update-email', {PASSWORD: password}, 'SENT')}/>\r\n        <SettingsList title='Issue Email Recipients:'\r\n            dropListId='issue-email'\r\n            current={DATA.emailIssueRecipients}\r\n            addCustom={true}\r\n            inputType='email'\r\n            onUpdate={(value, password)=>post('/set-settings', {ADVANCED_PASSPHRASE: password,\r\n                tag: 'emailIssueRecipients',\r\n                emailIssueRecipients: value,\r\n            })}/> \r\n        <SettingsBlank title='Email Report:'\r\n            current={''}\r\n            inputType='textarea'\r\n            verifyLevel={1}\r\n            onUpdate={(value, password)=>post('/save-log', {PASSWORD: password, email: true,\r\n                message: value,\r\n            })}/> \r\n        <SettingsList title='Email Update Regularity:'\r\n            dropListId='email-update-regularity'\r\n            current={DATA.updateRegularity}\r\n            options={DATA.updateRegularityOptions}\r\n            onUpdate={(value, password)=>post('/set-settings', {ADVANCED_PASSPHRASE: password,\r\n                tag: 'updateRegularity',\r\n                updateRegularity: value,\r\n            })}/> \r\n        <SettingsList title='Allow Database Access:'\r\n            dropListId='allow-database'\r\n            current={DATA.accessDatabase}\r\n            options={[true, false]}\r\n            onUpdate={(value, password)=>post('/set-settings', {ADVANCED_PASSPHRASE: password,\r\n                tag: 'accessDatabase',\r\n                accessDatabase: value,\r\n            })}/>  \r\n        <SettingsBlank title='Evaluation Frequency: (m)'\r\n            current={DATA.evaluationFrequency/(60000)}\r\n            numberStep={1}\r\n            onUpdate={(value, password)=>post('/set-settings', {ADVANCED_PASSPHRASE: password,\r\n                tag: 'evaluationFrequency',\r\n                evaluationFrequency: (value*60000),\r\n            })}/> \r\n        <SettingsBlank title='Maximum Temperature: (c)'\r\n            current={DATA.maximumTemperature}\r\n            numberStep={0.5}\r\n            onUpdate={(value, password)=>post('/set-settings', {ADVANCED_PASSPHRASE: password,\r\n                tag: 'maximumTemperature',\r\n                maximumTemperature: value,\r\n            })}/> \r\n        <SettingsBlank title='Minimum Temperature: (c)'\r\n            current={DATA.minimumTemperature}\r\n            numberStep={0.5}\r\n            onUpdate={(value, password)=>post('/set-settings', {ADVANCED_PASSPHRASE: password,\r\n                tag: 'minimumTemperature',\r\n                minimumTemperature: value,\r\n            })}/> \r\n        <SettingsBlank title='Maximum Humidity: (%)'\r\n            current={DATA.maximumHumidity}\r\n            onUpdate={(value, password)=>post('/set-settings', {ADVANCED_PASSPHRASE: password,\r\n                tag: 'maximumHumidity',\r\n                maximumHumidity: value,\r\n            })}/> \r\n        <SettingsBlank title='Minimum Humidity: (%)'\r\n            current={DATA.minimumHumidity}\r\n            onUpdate={(value, password)=>post('/set-settings', {ADVANCED_PASSPHRASE: password,\r\n                tag: 'minimumHumidity',\r\n                minimumHumidity: value,\r\n            })}/> \r\n        <SettingsBlank title='Hour Day Starts: (h)'\r\n            current={DATA.dayHourStart}\r\n            onUpdate={(value, password)=>post('/set-settings', {ADVANCED_PASSPHRASE: password,\r\n                tag: 'dayHourStart',\r\n                dayHourStart: value,\r\n            })}/> \r\n        <SettingsBlank title='Hour Night Starts: (h)'\r\n            current={DATA.nightHourStart}\r\n            onUpdate={(value, password)=>post('/set-settings', {ADVANCED_PASSPHRASE: password,\r\n                tag: 'nightHourStart',\r\n                nightHourStart: value,\r\n            })}/> \r\n        <SettingsList title='Sensor Type:'\r\n            dropListId='sensor-type'\r\n            current={DATA.sensorType}\r\n            options={DATA.sensorTypes}\r\n            onUpdate={(value, password)=>post('/set-settings', {ADVANCED_PASSPHRASE: password,\r\n                tag: 'sensorType',\r\n                sensorType: value,\r\n            })}/>  \r\n        <SettingsList title='Sensor Mode:'\r\n            dropListId='sensor-mode'\r\n            current={DATA.sensorMode}\r\n            options={DATA.sensorModes}\r\n            onUpdate={(value, password)=>post('/set-settings', {ADVANCED_PASSPHRASE: password,\r\n                tag: 'sensorMode',\r\n                sensorMode: value,\r\n            })}/>\r\n        <SettingsButton title='Test Sensor' pendingText='Redirecting'\r\n            verifyLevel={0}\r\n            onUpdate={(password)=>routeHistory.push('/sensor-testing')} />\r\n        {DATA.CONTROLS.map((c,i)=><div key={`${c.id}-${i}`} ><SettingsBlank key={`name-${c.id}`} title={`[${c.id}] Control Name:`}\r\n                current={c.name}\r\n                onUpdate={(value, password)=>post('/set-settings', {ADVANCED_PASSPHRASE: password,\r\n                    tag: 'controls-name',\r\n                    id: c.id,\r\n                    name: value,\r\n                })}/> \r\n            <SettingsList key={`types-${c.id}`} title={`[${c.id}] Control Types:`}\r\n                dropListId={`control-types-${c}-${i}`}\r\n                current={c.types}\r\n                options={DATA.controlTypes}\r\n                selectMultiple={true}\r\n                addCustom={true}\r\n                onUpdate={(value, password)=>post('/set-settings', {ADVANCED_PASSPHRASE: password,\r\n                    tag: 'controls-types',\r\n                    id: c.id,\r\n                    types: value,\r\n                })}/></div>)}\r\n\r\n        <SettingsButton title='Reset Settings' pendingText='CONFIGURING'\r\n            verifyLevel={3}\r\n            onUpdate={async(password)=>{const result = await post('/reset-settings', {ADVANCED_PASSPHRASE: password}, 'RESETTING'); fetchData(); return result;}} />\r\n        <SettingsButton title='Reset File System' pendingText='CONFIGURING'\r\n            verifyLevel={3}\r\n            onUpdate={async(password)=>{const result = await post('/reset-file-system', {ADVANCED_PASSPHRASE: password}, 'RESETTING'); fetchData(); return result;}} />\r\n        <SettingsButton title='Terminate Server' pendingText='CONFIGURING'\r\n            verifyLevel={3}\r\n            onUpdate={(password)=>post('/terminate', {ADVANCED_PASSPHRASE: password}, 'TERMINATING')} />\r\n        <SettingsButton title='Restart PI' pendingText='CONFIGURING'\r\n            verifyLevel={3}\r\n            onUpdate={(password)=>post('/restart-pi', {ADVANCED_PASSPHRASE: password}, 'RESTARTING')} />\r\n        <SettingsList dropListId={`Error_Lights_Override`}\r\n                title='Error Lights:'\r\n                current={'Select Mode'}\r\n                options={['on', 'off', 'flash', 'bounce', 'max', 'min', 'humid', 'lock', 'unlock', 'reset']}\r\n                selectMultiple={false}\r\n                addCustom={true}\r\n                verifyLevel={1}\r\n                onUpdate={(value, password)=>post('/execute-error-lights', {PASSWORD: password,\r\n                    tag: 'error-lights',\r\n                    mode: new Array(value).pop(),\r\n                })}/>\r\n        <SettingsButton title='Server Log' pendingText='Redirecting'\r\n            verifyLevel={0}\r\n            onUpdate={(password)=>routeHistory.push('/log')} />\r\n        <SettingsBlank title='Save to Log:'\r\n            current={''}\r\n            inputType='textarea'\r\n            verifyLevel={1}\r\n            onUpdate={(value, password)=>post('/save-log', {PASSWORD: password,\r\n                message: value,\r\n            })}/> \r\n        <SettingsButton title='Log Out' pendingText='CLEARING'\r\n            verifyLevel={0}\r\n            onUpdate={()=>{localStorage.clear(); return 'CLEARED PASSWORD'}} />\r\n\r\n    </div>);\r\n}\r\nexport default Settings;","import React, {useEffect, useState} from 'react';\r\nimport { useSelector} from 'react-redux';\r\nimport axios from 'axios';\r\nimport SettingsList from '../SettingsList';\r\nimport SettingsBlank from '../SettingsBlank';\r\nimport SettingsButton from '../SettingsButton';\r\n\r\n\r\nimport '../../index.css';\r\nimport '../Settings.css';\r\n\r\n\r\nconst SensorTest = (props) => {\r\n    const SERVER_URL = useSelector(root => root.serverURL);\r\n    const DATA = useSelector(root => root.data);\r\n    const [current, setCurrent] = useState('');\r\n    const [testingDuration, setTestingDuration] = useState(60000);\r\n    const [testingInterval, setTestingInterval] = useState(5000);\r\n    const [fetchingError, setFetchingError] = useState('');\r\n\r\n    let interval = null;\r\n    let timer = null;\r\n    const startTesting = () => { clearInterval(interval); clearTimeout(timer); setFetchingError('');\r\n        interval = setInterval(async()=>await axios.get(`${SERVER_URL}/sensor-test/`)\r\n                .then((response)=>{setCurrent(response.data); setFetchingError('');})\r\n                .catch((error)=>{console.log('Failed to Get Sensor Testing Data', error); setFetchingError(error);}), 500);\r\n        timer = setTimeout(()=>{clearInterval(interval); setFetchingError('');}, testingDuration+30000);\r\n        }\r\n    \r\n    return(<div id='sensor-test-container' >\r\n    <div className='sensor-test-first-header' >\r\n        {/* <section style={{gridColumn: 1, gridRow:1, width: '100%'}}> */}\r\n        <SettingsList title='Sensor Type:' \r\n            dropListId='sensor-testing-sensor-type'\r\n            current={DATA.sensorType}\r\n            options={DATA.sensorTypes}\r\n            condense={true}\r\n            onUpdate={async(value, password)=>await axios.get(`${SERVER_URL}/settings/`, {ADVANCED_PASSPHRASE: password,\r\n                tag: 'sensorType',\r\n                sensorType: value,\r\n            }).then((response)=>true)\r\n            .catch((error)=>error.response ? error.response.status : false)}/> \r\n        {/* </section><section style={{gridColumn: 3, gridRow:1, width: '100%'}}> */}\r\n        <SettingsBlank title='Test Duration: (m)'\r\n            current={testingDuration/60000}\r\n            condense={true}\r\n            verifyLevel={0}\r\n            onUpdate={(value, password)=>{const minutes = parseInt(value); if(!isNaN(minutes) && value == minutes && minutes > 0) {setTestingDuration(minutes*60000); return true;} else return false;}}/> \r\n        {/* </section><section style={{gridColumn: 4, gridRow:1, width: '100%'}}> */}\r\n        <SettingsBlank title='Test Interval: (s)'\r\n            current={testingInterval/1000}\r\n            condense={true}\r\n            verifyLevel={0}\r\n            onUpdate={(value, password)=>{const seconds = parseInt(value); if(!isNaN(seconds) && value == seconds && seconds > 0) {setTestingInterval(seconds*1000); return true;} else return false;}}/>\r\n            {/* </section> */}\r\n    </div><div className='sensor-test-second-header' >\r\n        <SettingsButton title={fetchingError == '' ? 'RESTART' : 'fetchingError'} pendingText='QUEUING'\r\n            buttonColor={fetchingError != '' ? 'darkred' : ''}\r\n            condense={true}\r\n            verifyLevel={2}\r\n            onUpdate={async(password)=>await axios.post(`${SERVER_URL}/sensor-test-restart/`, {ADVANCED_PASSPHRASE: password,\r\n                duration: testingDuration, interval: testingInterval,\r\n            }).then((response)=>{startTesting(); return 'INITIATING';})\r\n            .catch((error)=>error.response ? error.response.status : false)}\r\n            />\r\n        <SettingsButton title='UPDATE' pendingText='LOADING'\r\n            condense={true}\r\n            verifyLevel={0}\r\n            onUpdate={async(password)=>await axios.get(`${SERVER_URL}/sensor-test/`)\r\n                .then((response)=>{setCurrent(response.data); return 'CURRENT';})\r\n                .catch((error)=>error.response ? error.response.status : false)}\r\n            />\r\n    </div><div className='sensor-test-results'>\r\n        <table style={{margin: 0, width: '100%', border: 'none', borderSpacing: '4px'}}>\r\n            <tr>\r\n                <th style={{padding: '3px', textAlign: 'center'}} >Time</th>\r\n                <th style={{padding: '3px', textAlign: 'center'}} >Temperature</th>\r\n                <th style={{padding: '3px', textAlign: 'center'}} >Humidity</th>\r\n                <th style={{padding: '3px', textAlign: 'center'}} >Message</th>\r\n            </tr>\r\n            {current.split('\\n').map((p,i) => (p=='') ? <br key={`${p}-${current.length}`}/> : <tr key={`${p}-${current.length}`}> \r\n                {p.split('|').map((r, i) => <td key={`${r}-${p}-${current.length}`} style={{padding: '3px', textAlign: (i == 0) ? 'left' : 'center'}} colspan={((4 / p.split('|').length) > 1) ? Math.floor((4 / p.split('|').length)) : 1}>{r}</td>)}\r\n            </tr>)}\r\n\r\n        </table>\r\n    </div>\r\n    </div>);\r\n}\r\nexport default SensorTest;\r\n","import React, {useState,  useEffect, useRef} from 'react';\r\nimport { useSelector} from 'react-redux';\r\nimport { useHistory, useLocation } from 'react-router-dom'\r\nimport axios from 'axios';\r\nimport SettingsButton from '../SettingsButton';\r\n\r\n\r\nimport '../../index.css';\r\nimport '../Settings.css';\r\n\r\n\r\nconst LogView = (props) => {\r\n    const SERVER_URL = useSelector(root => root.serverURL);\r\n    const [current, setCurrent] = useState('');\r\n    const [fileName, setFileName] = useState('');\r\n    const topRef = useRef();\r\n    const location = useLocation();\r\n    const routeHistory = useHistory();\r\n\r\n    //USAGE: http://localhost:3000/log/5 => Loads the 5th log file ago\r\n    const getFileNumber = () => { console.log(SERVER_URL);\r\n        const result = /^\\/log\\/([0-9]+)*/.exec(location.pathname) || [0,0];\r\n        return result[1];\r\n    }\r\n\r\n    const updateLog = async (latest = false) => await axios.put(`${SERVER_URL}/log/`, latest ? {} : {fileName: fileName, fileNumber: `${getFileNumber()}`})\r\n        .then((response)=>{\r\n            setCurrent(response.data); \r\n            setFileName(response.headers['content-name']); \r\n            if(response.headers['content-name'] == 'log.txt') routeHistory.replace('/log');\r\n        return 'LOADING';})\r\n        .catch((error)=>error.response ? error.response.status : false);\r\n    useEffect(()=>updateLog(),[SERVER_URL]);\r\n\r\n    //Text Log Message Type Per Line\r\n    const isError = (line) => (/error|fail/i.test(line));\r\n    const isHeader = (line) => (/\\[\\d{1,2}-\\d{1,2}-\\d{4} \\d{1,2}:\\d{1,2}:\\d{1,2}]/.test(line));\r\n    const isClimate = (line) => (/severe|high|low/i.test(line));\r\n    const isTrace = (line) => (/^\\s*\\>{1}/.test(line));\r\n    const isSystem = (line) => (/restart|server/i.test(line));\r\n\r\n    \r\n    return(<div id='sensor-test-container' >\r\n        <SettingsButton title='UPDATE' pendingText='RETRIEVING'\r\n            condense={true}\r\n            verifyLevel={0}\r\n            onUpdate={async(password)=>await updateLog(true)}\r\n            />\r\n        <strong id='title' ref={topRef} className='settings-value-title' style={{marginTop: '1.5rem'}}>File: {fileName}</strong>\r\n    <div className='sensor-test-results'>\r\n    {current.split(/(?=\\[\\d{1,2}-\\d{1,2}-\\d{4} \\d{1,2}:\\d{1,2}:\\d{1,2}])/g).reverse()\r\n        .map(entry=>entry.split(/\\n/g)\r\n            .map((line, k) => !line.length ? <span key={k} className='no-size'></span>\r\n                : <p key={k} style={{\r\n                    color: (isHeader(line) && isError(line)) ? 'red' \r\n                        : isSystem(line) ? 'goldenrod' \r\n                        : isClimate(line) ? 'orangered' \r\n                        : isHeader(line) ? 'white'\r\n                        : isTrace(line) ? 'var(--main-color)'\r\n                        : '#848884',\r\n                    fontSize: isHeader(line) ? '14px'\r\n                        : isTrace(line) ? '12px'\r\n                        : '12px',\r\n                    fontWeight: isHeader(line) ? '500'\r\n                        : isTrace(line) ? '300'\r\n                        : '400',\r\n                    fontStyle: isTrace(line) ? 'italic' : 'normal',\r\n                    margin: isTrace(line) ? '0.1rem' : '0.2rem',\r\n                    marginLeft: isHeader(line) ? '0' \r\n                        : isTrace(line) ? '3.0rem' : '2.0rem',\r\n                    marginTop: isHeader(line) ? '1.0rem' \r\n                        : isTrace(line) ? '0.05rem' : '0.2rem'\r\n                    }}\r\n            >{line}</p>))}    </div>\r\n    {(fileName == undefined) ?  <div className='none no-size' style={{position:'absolute'}}></div> \r\n    : <SettingsButton title='PREVIOUS LOG' pendingText='SEARCHING'\r\n            condense={true}\r\n            verifyLevel={0}\r\n            onUpdate={async(password)=>await updateLog()\r\n                .then((response)=>{\r\n                    topRef.current.scrollIntoView({block: 'nearest', inline: 'start' });\r\n                    routeHistory.replace(`/log/${getFileNumber()+1}`);\r\n                    return 'LOADING';})\r\n                .catch((error)=>error.response ? error.response.status : false)}\r\n            />}\r\n    </div>);\r\n}\r\nexport default LogView;","import React, {useState, useEffect} from 'react';\r\nimport { useSelector} from 'react-redux';\r\nimport axios from 'axios';\r\nimport dateFormat from 'dateformat';\r\nimport SettingsButton from '../Settings/SettingsButton';\r\n\r\n\r\nimport '../index.css';\r\nimport './History.css';\r\n\r\n\r\nconst History = (props) => {\r\n    const SERVER_URL = useSelector(root => root.serverURL);\r\n    const DATA = useSelector(root => root.data);\r\n    const convertToFahrenheit = useSelector(root => root.convertToFahrenheit);\r\n    const [dayList, setDayList] = useState([]);\r\n    const [climate, setClimate] = useState([]);\r\n\r\n    const formatTemperature = (temp) => convertToFahrenheit ? (Math.round(((temp*(9/5)+32)) * 100) / 100) : temp;\r\n\r\n    const getTemperatureOff = (current = DATA.operatingTemperature, goal = DATA.goalTemperature) => (Math.abs(current - goal) < 1) ? <span></span> : <span>[<small>{current > goal ? '+' : '-'}</small>{Math.floor(Math.abs(current - goal))}<span>&#176;</span>]</span>;\r\n\r\n    const getHumidityOff = (current = DATA.operatingHumidity, goal = DATA.goalHumidity) => (Math.abs(current - goal) < 1) ? <span></span> : <span>[<small>{current > goal ? '+' : '-'}</small>{Math.floor(Math.abs(current - goal))}<small>%</small>]</span>;\r\n\r\n    const getEfficiency = (value, time, temperature = true) => {if(climate == undefined) return '-';\r\n        const hour = new Date(time).getHours(); \r\n        let current = undefined;  for(var i=0; i<climate.length; i++) { if(hour == climate[i].hour) { current = climate[i]; break;}}\r\n      return !current ? 0 : Math.floor((value/(temperature ? current.temperature : current.humidity)) * 100);\r\n    }\r\n    \r\n    const getDuration = (ms) => `${Math.floor(ms/60000)}:${Math.abs(ms)%60000<10000?'0':''}${Math.floor((Math.abs(ms)%60000)/1000)}`;\r\n    \r\n    const updateHistory = async() => {\r\n        axios.get(`${SERVER_URL}/data-climate/`).then((response) => { setClimate(response.data.climate);  console.log('CLIMATE', response.data);\r\n                    }).catch((error) => console.log('Failed to Fetch Climate Information', error));\r\n        return await axios.get(`${SERVER_URL}/data-history/`)\r\n                    .then((response)=>{setDayList(response.data);  console.log('HISTORY', response.data); return 'LOADING'})\r\n                    .catch((error)=>error.response ? error.response.status : false);;\r\n    }\r\n    useEffect(()=>updateHistory(),[]);\r\n    \r\n    return(<div id='history-container' >\r\n        <SettingsButton title='UPDATE' pendingText='RETRIEVING'\r\n            condense={true}\r\n            verifyLevel={0}\r\n            onUpdate={()=>updateHistory()}\r\n            />\r\n        <table style={{margin: 0, width: '100%', border: '2px solid #013214', color: 'white', borderSpacing: '4px'}}>\r\n            <thead>\r\n                <tr>\r\n                    <th style={{padding: '3px', fontWeight: 700,  fontFamily: `'New Tegomin', serif`, textAlign: 'center',}} >Time</th>\r\n                    <th style={{padding: '3px', fontWeight: 700,  fontFamily: `'New Tegomin', serif`, textAlign: 'center',}} >Temperature</th>\r\n                    <th style={{padding: '3px', fontWeight: 700,  fontFamily: `'New Tegomin', serif`, textAlign: 'center',}} >Humidity</th>\r\n                    <th style={{padding: '3px', fontWeight: 700,  fontFamily: `'New Tegomin', serif`, textAlign: 'center',}} >Active</th>\r\n                    <th style={{padding: '3px', fontWeight: 700,  fontFamily: `'New Tegomin', serif`, textAlign: 'center',}} >Inactive</th>\r\n                </tr>\r\n            </thead>\r\n            <tbody>\r\n            {!(dayList && dayList.length) ? <tr><td style={{padding: '3px', textAlign: 'center' }} >No History Available</td></tr>\r\n                : dayList.map(r=><tr>\r\n                    <td style={{padding: '3px', border: '0.05rem solid #013214', textAlign: 'center' }} >{dateFormat(r.time, ((new Date().getTime() - r.time)<(6*24*60*60*1000)) ? 'DDDD, H:MM' : 'mmm-d H:MM')}</td>\r\n                    <td style={{padding: '3px', border: '0.05rem solid #013214', textAlign: 'center' }} >{formatTemperature(r.temperature)}{convertToFahrenheit ? <small>&#8457;</small> : <small>&#8451;</small>} {getTemperatureOff(formatTemperature(r.temperature), formatTemperature(r.goalTemperature))}</td>\r\n                    <td style={{padding: '3px', border: '0.05rem solid #013214', textAlign: 'center' }} >{r.humidity}% {getHumidityOff(r.humidity, r.goalHumidity)}</td>\r\n                    <td style={{padding: '3px', border: '0.05rem solid #013214', textAlign: 'center', fontSize: '0.7em' }} >{\r\n                        !r.active.length ? null : <table style={{margin: 0, width: '100%', borderSpacing: '2px' }}><tbody>\r\n                        {r.active.map(c=><tr>\r\n                                <td style={{textAlign: 'center' }} >{`${c.name}  [${c.settings[0].reason}]`}</td>\r\n                            </tr>)}\r\n                            </tbody>\r\n                        </table>\r\n                    }</td>\r\n                    <td style={{padding: '3px', border: '0.05rem solid #013214', textAlign: 'center', fontSize: '0.7em' }} >{\r\n                        !r.active.length ? null : <table style={{margin: 0, width: '100%', borderSpacing: '2px' }}><tbody>\r\n                        {r.inactive.map(c=><tr>\r\n                                <td style={{textAlign: 'center' }} >{`${c.name}  [${c.settings[0].reason}]`}</td>\r\n                            </tr>)}\r\n                            </tbody>\r\n                        </table>\r\n                    }</td>\r\n                </tr>)}             \r\n            </tbody> \r\n        </table>\r\n    </div>);\r\n}\r\nexport default History;","import React, {useRef, useEffect} from 'react';\nimport { BrowserRouter as Router, Switch, Route, } from \"react-router-dom\";\nimport Readings from './Readings/Readings';\nimport Background from './Background/Background';\nimport ScreenSaver from './Background/ScreenSaver/ScreenSaver';\nimport Menu from './Menu/Menu';\nimport Control from './Control/Control';\nimport Schedule from './Control/Schedule/Schedule';\nimport Climate from './Climate/Climate';\nimport ErrorBar from './Readings/ErrorBar';\nimport Settings from './Settings/Settings';\nimport SensorTest from './Settings/Details/SensorTest';\nimport LogView from './Settings/Details/LogView';\n\n\nimport './App.css';\nimport History from './History/History';\n\n\n\nconst App = () => {\n\n  //ScreenSaver Detection\n  //https://stackoverflow.com/questions/37949981/call-child-method-from-parent\n  const screenSaverRef = useRef();\n  \n  const deactivateScreenSaver = () => { if(screenSaverRef.current) screenSaverRef.current.deactivateScreenSaver(); }\n  useEffect(() => window.addEventListener('scroll', deactivateScreenSaver, false), []); //https://stackoverflow.com/questions/5657292/why-is-false-used-after-this-simple-addeventlistener-function   \n\n  return (\n    <Router basename={window.location.pathname || ''}>\n      <div id=\"App\" className=' border-box' \n      onClick={()=>screenSaverRef.current.deactivateScreenSaver()}\n      onMouseMove={()=>screenSaverRef.current.deactivateScreenSaver()}\n      onWheel={()=>screenSaverRef.current.deactivateScreenSaver()}\n      >\n        <Background /> \n        {/* Screen saver toggle to not render and diable timer is reduct screenSaverBrightness.setting == 'Disabled' */}\n        <ScreenSaver ref={screenSaverRef}/>\n            \n        {/* <div id='page-box' className=' border-box' style={{ top: 0, padding: '1.0rem', height: `${menuRef.current ?  (window.innerHeight - (menuRef.current.offsetHeight) - 75) : window.innerHeight}px` }}>  */}\n        \n          <Switch>\n            <Route exact path=\"/\">\n            <div id='page-box' className=' border-box' style={{boxSizing: 'border-box'}}>\n              <Readings hideDetails={false}/>\n              <Menu />\n            </div>\n            </Route>\n            <Route path=\"/controls\">\n              <ErrorBar />\n              <div id='page-box' className=' border-box' style={{boxSizing: 'border-box'}}>\n                <Control/>\n                <Menu />\n              </div>\n            </Route>\n            <Route path=\"/schedules\">\n              <ErrorBar />\n              <div id='page-box' className=' border-box' style={{boxSizing: 'border-box'}}>\n                <Schedule/>\n                <Menu />\n              </div>\n            </Route>\n            <Route path=\"/climate\">\n              <ErrorBar />\n              <div id='page-box' className=' border-box' style={{boxSizing: 'border-box'}}>\n                <Climate/>\n                <Menu />\n              </div>\n            </Route>\n            <Route path=\"/history\">\n              <ErrorBar />\n              <div id='page-box' className=' border-box' style={{boxSizing: 'border-box'}}>\n                <History/>\n                <Menu />\n              </div>\n            </Route>\n            <Route path=\"/settings\">\n              <ErrorBar />\n              <div id='page-box' className=' border-box' style={{boxSizing: 'border-box'}}>\n                <Settings deactivateScreenSaver={(d)=>screenSaverRef.current.deactivateScreenSaver(d)}/>\n                <Menu />\n              </div>\n            </Route>\n            <Route path=\"/log\">\n              <ErrorBar />\n              <div id='page-box' className=' border-box' style={{boxSizing: 'border-box'}}>\n                <LogView/>\n                <Menu />\n              </div>\n            </Route>\n            <Route path=\"/sensor-testing\">\n              <ErrorBar />\n              <div id='page-box' className=' border-box' style={{boxSizing: 'border-box'}}>\n                <SensorTest/>\n                <Menu />\n              </div>\n            </Route>\n          </Switch>       \n        </div>\n    </Router>\n    ); //top layer last\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\nimport axios from 'axios';\nimport{Provider} from 'react-redux';\nimport {createStore, combineReducers} from 'redux';\n\nimport defaultImage from './Background/terrarium-buddies.jpg';\n\n\n\n//Action Creators (manipulate State) => Doing in Component | Traditional Method is to predefine here and import into component, just to send back to reducer\n\n//Single State with one Reducer | Could all be separate with separate reducers and combine with: 'combineReducers'\n\n//Reducers : Perform state Update\nconst setServerURLReducer = (state = '' || '', action) => {\n  if(action.type == 'setServerURL')  return action.payload;\n  else return state;\n}\n\nconst initialImage = {\n  IMAGE_INTERVAL: 6000,\n  TRANSITION_INTERVAL: 1000,\n  SCREENSAVER_INACTIVE_TIME: 60000,\n  location: defaultImage,\n  isVisible: false,  // https://stackoverflow.com/questions/40064249/react-animate-mount-and-unmount-of-a-single-component\n}\nconst setImageReducer = (state = initialImage, action) => {\n  if(action.type == 'setImage') { return {...state, location: action.payload, isVisible: true};}\n  else if(action.type == 'setImageVisible') return {...state, isVisible: true};\n  else if(action.type == 'setImageInvisible') return {...state, isVisible: false};\n  else return state;\n}\nconst screenSaverActiveReducer = (state = true, action) => { //Image Opacity on/off -> transition css\n  if(action.type == 'activateScreenSaver')  return true; \n  else if(action.type == 'deactivateScreenSaver')  return false;\n  else return state;\n}\nconst initialScreenSaverBrightness = {\n  settingOptions: ['Default', 'Scheduled', 'Black', 'Disabled'],\n  setting: 'Default',\n  dayOpacity: 1.00,\n  dayHourStart: 7,\n  nightOpacity: 0.35,\n  nightHourStart: 19,\n  blackHourStart: 21,\n}\nconst ScreenSaverBrightnessReducer = (state = initialScreenSaverBrightness, action) => {\n  switch(action.type) {\n    case 'setting':\n      if(state.settingOptions.includes(action.payload)) return {...state, setting: action.payload};\n      else return state;\n    case 'dayOpacity':\n      return {...state, setting: 'Scheduled', dayOpacity: action.payload};\n    case 'dayHourStart':\n      return {...state, setting: 'Scheduled', dayHourStart: action.payload};\n    case 'nightOpacity':\n      return {...state, setting: 'Scheduled', nightOpacity: action.payload};\n    case 'nightHourStart':\n      return {...state, setting: 'Scheduled', nightHourStart: action.payload};\n    case 'blackHourStart':\n      return {...state, setting: 'Scheduled', blackHourStart: action.payload};\n    default: return state;\n  }\n}\nconst setDataReducer = (state = {}, action) => {\n  if(action.type == 'setData') return {...action.payload};\n  else return state;\n}\n\nconst toggleConvertToFahrenheitReducer = (state = true, action) => { \n  if(action.type == 'toggleConvertToFahrenheit') return !state; \n  else return state;\n}\n\nconst setDropListReducer = (state = 'OFF', action) => { \n  if(action.type == 'setDropList' && state == action.payload) return 'OFF';\n  else if(action.type == 'setDropList' && action.payload == undefined) return 'OFF';  \n  else if(action.type == 'setDropList') return action.payload; \n  else return state;\n}\n\n/*********************\n  Setup Redux Store\n********************/\nconst allStateDomains = combineReducers({\n  serverURL: setServerURLReducer,\n  image: setImageReducer,\n  isScreenSaverActive: screenSaverActiveReducer, \n  screenSaverBrightness: ScreenSaverBrightnessReducer,\n  data: setDataReducer,\n  convertToFahrenheit: toggleConvertToFahrenheitReducer,\n  dropListOpen: setDropListReducer\n});\n\nconst store = createStore(allStateDomains,{});\n\n\n/*********************\n     Fetch Background Image\n********************/\nsetInterval(()=>{//console.log('fetching Image', store.getState().image.image);\n  axios.get(`${store.getState().serverURL}/${(window.innerHeight > window.innerWidth) ? 'image-portrait' : 'image-landscape'}/`, { responseType: \"blob\" })\n  .then((response) => {\n    store.dispatch({type: 'setImageInvisible'});\n    setTimeout(() => {\n      store.dispatch({type: 'setImage', payload: URL.createObjectURL(response.data)});//also sets image viable // CSS transitions\n    \n    }, store.getState().image.TRANSITION_INTERVAL/2);\n  })\n  .catch((error) => {\n      console.error(error);\n      // setImage(defaultImage);\n    });\n}, store.getState().image.IMAGE_INTERVAL+store.getState().image.TRANSITION_INTERVAL || 5000);\n\n/*********************\n     Fetch Data\n********************/\nexport const fetchData = async(testURL)=> {\n  const url = testURL || store.getState().serverURL;\n\n  // return await axios.get(`${url}/data/`, { responseType: \"json\", timeout: testURL ? 500 : undefined })\n  //   .then((res) => {const response = res.data;\n  //     store.dispatch({type: 'setData', payload: response});\n\n  //     store.dispatch({type: 'setServerURL', payload: url});\n  //     localStorage.setItem(\"server\", url);\n\n  //     console.log('Fetching Data Successful: ', url, response);\n  //     setTimeout(()=>fetchData(), response ? (((response.timeNextEvaluation) - new Date().getTime())+30000) : (60*1000));\n  //     return true;\n  //   })\n  //   .catch((error) => {\n  //       console.error('Failed to Fetch Data:', url, error);\n  //       // store.dispatch({type: 'setData'});\n  //     if(!testURL) \n  //       setTimeout(()=>fetchData(), (60*1000));\n  //     return false;\n  //   });\n  return false;\n  }\n\n/**************************************\n Initialization and Find Server URL\n***************************************/\n//Sample URL: https://terrarium-control.tech/?server=70.124.144.161:4750&server=192.168.1.240:4700&redirect=http://192.168.1.240:4700/\nconst start = async() => {\n\nconst redirectURL = /(?<=redirect=).*?(?:(?!&|$).)*/.exec(window.location.search);\nconst serverPramList = window.location.search.match(/(?<=server=).*?(?:(?!\\/|&|$).)*/g);\nlet foundServer = false;\nconsole.log(redirectURL);\nif(serverPramList) {\n  for(let serverPram of serverPramList) { console.log(\"Server Pram:\", serverPram, serverPramList);\n    //Query Parameter HTTPS Secure\n    if(!foundServer && await fetchData(`https://${serverPram}`)) {\n      console.log('HTTPS Query Server Identified:', store.getState().serverURL);\n      foundServer = true;\n      break;\n    }\n\n    //Query Parameter HTTP\n    else if(!foundServer && await fetchData(`http://${serverPram}`)) {\n      console.log('HTTP Query Server Identified:', store.getState().serverURL);\n      foundServer = true;\n      break;\n    } \n  }\n} \n\n  //Local Storage\nif(!foundServer && await fetchData(localStorage.getItem(\"server\"))) {\n      console.log('LocalStorage Server Identified:', store.getState().serverURL);\n  }\n  //Failed: Assign Current URL\nelse if(!foundServer && redirectURL) {\n  window.location.replace(redirectURL[0]);\n}\nif(!foundServer) {\n  console.error('Failed to Identify Server');\n  store.dispatch({type: 'setServerURL', payload: window.location.origin});\n  fetchData(); //Enter Reattempt State\n}\n}\n\n// start();\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store} >\n          <App />\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n\n\n\n"],"sourceRoot":""}