(this["webpackJsonpterrarium-display"]=this["webpackJsonpterrarium-display"]||[]).push([[0],{12:function(e,t,n){},21:function(e,t,n){},53:function(e,t,n){},83:function(e,t,n){},84:function(e,t,n){},85:function(e,t,n){},86:function(e,t,n){},87:function(e,t,n){},88:function(e,t,n){},89:function(e,t,n){},90:function(e,t,n){},91:function(e,t,n){"use strict";n.r(t),n.d(t,"fetchData",(function(){return le}));n(43);var r=n(2),a=n(5),c=n(9),o=n(1),i=n.n(o),s=n(27),u=n.n(s),l=(n(12),n(18)),d=n(10),b=n(3),m=n(4),p=n(19);function j(e,t,n){var r=Object(o.useRef)();Object(o.useEffect)((function(){r.current=e}),[e]),Object(o.useEffect)((function(){var e=setInterval((function(){r.current()}),t);return n&&setTimeout((function(){clearInterval(e)}),n),function(){clearInterval(e)}}),[t])}n(53);var O=n(7),f=n.n(O),h=n(0),g=function(e){var t=Object(o.useState)(),n=Object(b.a)(t,2),r=n[0],a=n[1],c=Object(o.useState)(!1),i=Object(b.a)(c,2),s=i[0],u=i[1],l=function(){return e.prompt.toLowerCase().includes("advance")};return Object(h.jsx)("div",{id:"verify-container",style:{position:"fixed",zIndex:35,width:"100vw",height:"100vh",top:0,left:0,backgroundColor:"rgba(0,0,0,".concat(l()?"1.0":"0.7",")"),display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},children:Object(h.jsxs)("div",{id:"verify-inside",style:{position:"relative",display:"grid",textAlign:"center",padding:"1.0rem 2.0rem",backgroundColor:l()?"darkred":"var(--main-color)",borderRadius:"5px"},children:[Object(h.jsxs)("strong",{style:{margin:"0.5rem",width:"100%",textAlign:"left",color:l()?"whitesmoke":"black"},children:[e.prompt,":"]}),Object(h.jsxs)("div",{style:{display:"grid",backgroundColor:"black",borderRadius:"5px",padding:"0.25rem 0.5rem"},children:[Object(h.jsx)("input",{autoFocus:!0,style:{gridColumn:1,border:"none",backgroundColor:"black",color:"whitesmoke"},type:s?"text":"password",onChange:function(e){return a(e.target.value)},onKeyPress:function(t){13==t.charCode&&void 0!=r&&""!=r&&e.onSubmit(r)}}),Object(h.jsx)("input",{type:"checkbox",value:s,onClick:function(){return u(!s)},style:{gridColumn:2,border:"none",color:"var(--main-color)",height:"1.2rem",width:"1.2rem",marginLeft:"1.0rem"}})]}),Object(h.jsxs)("div",{children:[Object(h.jsx)("button",{style:{border:"2px solid white",backgroundColor:"whitesmoke",color:"black",padding:"0.25rem",margin:"0.5rem"},onClick:function(){return e.onCancel()},children:"CANCEL"}),Object(h.jsx)("button",{style:{border:"none",backgroundColor:"black",color:"white",padding:"0.35rem",margin:"0.5rem"},onClick:function(){void 0!=r&&""!=r&&e.onSubmit(r)},children:"SUBMIT"})]})]})})},v=(n(21),function(e){var t=Object(o.useState)(void 0),n=Object(b.a)(t,2),i=n[0],s=n[1],u=Object(o.useState)("UPDATE"),l=Object(b.a)(u,2),d=l[0],m=l[1],p=void 0!=e.verifyLevel?e.verifyLevel:1,j=void 0!=e.condense&&e.condense,O=void 0!=e.pendingText?e.pendingText:"PENDING",f=void 0!=e.buttonColor?e.buttonColor:"var(--main-color)",v=function(e){return"UPDATE"==e?f:"PASS"==e||"INVALID"==e||"FAILED"==e?"#e8000d":"PENDING"==e||"BLANK"==e?"orange":"#cc5500"},x=function(){var t=Object(a.a)(Object(r.a)().mark((function t(n){var a;return Object(r.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(s(void 0),1!=p||localStorage.getItem("password")){t.next=4;break}return t.next=4,localStorage.setItem("password",n.toString());case 4:return t.next=6,e.onUpdate(n);case 6:null==(a=t.sent)||void 0==a?m("UPDATE"):1==a||isNaN(a)?(m(1!=a?a:"SAVED"),setTimeout((function(){return m("UPDATE")}),3e3)):401==a?(m("PASS"),setTimeout((function(){return m("UPDATE")}),5e3),localStorage.clear()):404==a?(m("INVALID"),setTimeout((function(){return m("UPDATE")}),5e3)):(m("FAILED"),setTimeout((function(){return m("UPDATE")}),5e3));case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),y=function(){"UPDATE"==d&&(m("PENDING"),0==p?x(void 0):1!=p||localStorage.getItem("password")?1==p?x(localStorage.getItem("password")):s("Enter Advanced Passphrase to Proceed:"):s("Enter Control Password to Continue:"))};return Object(h.jsxs)("section",{style:{overflow:"hidden"},children:[j?Object(h.jsxs)("button",{className:"settings-single-button",onClick:function(){return y()},style:Object(c.a)(Object(c.a)({},e.buttonStyle),{},{overflow:"hidden",backgroundColor:f}),children:[e.title,Object(h.jsx)("label",{className:"settings-single-button-overlay",style:{display:"UPDATE"==d?"none":"flex",overflow:"hidden",backgroundColor:v(d)},children:d})]}):Object(h.jsx)("div",{className:"settings-value-box",style:{display:j?"block":"grid"},children:Object(h.jsx)("button",{className:"settings-single-button",onClick:function(){return y()},style:Object(c.a)(Object(c.a)({},e.buttonStyle),{},{overflow:"hidden",backgroundColor:v(d)}),children:"UPDATE"==d?e.title:"PENDING"==d?O:d})}),i?Object(h.jsx)(g,{prompt:i,onSubmit:x,onCancel:function(){s(void 0),m("UPDATE")}}):Object(h.jsx)("div",{className:"none no-size",style:{position:"absolute"}})]})}),x=v,y=function(e){var t=Object(m.c)((function(e){return e.serverURL})),n=Object(m.c)((function(e){return e.data})),r=Object(o.useState)(0),a=Object(b.a)(r,2),c=a[0],i=a[1];Object(o.useEffect)((function(){return i(n.timeNextEvaluation)}),[n]);var s=Object(o.useState)(0),u=Object(b.a)(s,2),l=u[0],d=u[1];return j((function(){return d(c-(new Date).getTime())}),1e3),Object(h.jsx)(v,{title:"".concat(n.frequencyActive?"HOLD":"HOLDING","    -  ").concat(l<=0?"evaluating":"".concat(l>36e5?"".concat(Math.floor(l/36e5),":"):"").concat(l>6e4?"".concat(Math.floor(l%36e5/6e4),":"):"").concat(l>6e4&&l%6e4<1e4?"0":"").concat(Math.floor(l%6e4/1e3))),condense:!0,buttonStyle:e.buttonStyle,buttonColor:n.frequencyActive?e.buttonColor:"#cc5500",verifyLevel:e.verifyLevel||1,onUpdate:function(r){return setTimeout((function(){return le()}),5e3),f.a.post("".concat(t,"/postpone-evaluation/"),{PASSWORD:r,duration:e.duration||n.evaluationFrequency}).then((function(t){return i((e.duration||n.evaluationFrequency)+(new Date).getTime()),"HOLDING"})).catch((function(e){return!!e.response&&e.response.status}))}})},S=function(e){return""==e||"SEND"==e?"transparent":"UPDATE"==e?"var(--main-color)":"PASS"==e||"INVALID"==e||"FAILED"==e?"#e8000d":"PENDING"==e||"BLANK"==e?"orange":"#cc5500"},N=function(e){var t=Object(o.useState)(void 0),n=Object(b.a)(t,2),c=n[0],i=n[1],s=Object(o.useState)(e.current),u=Object(b.a)(s,2),l=u[0],d=u[1],m=Object(o.useState)(l),p=Object(b.a)(m,2),j=p[0],O=p[1],f=Object(o.useState)(""),v=Object(b.a)(f,2),x=v[0],y=v[1],N=void 0!=e.verifyLevel?e.verifyLevel:2,T=void 0!=e.inputType&&void 0==e.condense?e.inputType:isNaN(e.current)?"text":"number",C=void 0!=e.numberStep?e.numberStep:1,E=void 0!=e.condense&&e.condense,A=function(){var t=Object(a.a)(Object(r.a)().mark((function t(){var n;return Object(r.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=j==l&&void 0==e.current?"BLANK":"number"==T&&isNaN(j)?"NUMBER":j!=l?"UPDATE":e.overrideValidation?"SEND":"",y(n),t.abrupt("return",n);case 3:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();Object(o.useEffect)((function(){return A()}),[j]);var w=function(){var t=Object(a.a)(Object(r.a)().mark((function t(n){var a;return Object(r.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i(void 0),1!=N||localStorage.getItem("password")){t.next=4;break}return t.next=4,localStorage.setItem("password",n.toString());case 4:return t.next=6,e.onUpdate(j,n);case 6:1==(a=t.sent)||isNaN(a)?(y(1!=a?a:"SAVED"),d("textarea"==T?"":j),"textarea"==T&&O(""),setTimeout((function(){return y("")}),5e3)):401==a?(e.cache||y("PASS"),setTimeout((function(){return O(l)}),5e3),localStorage.clear()):404==a?(e.cache||y("INVALID"),setTimeout((function(){return O(l)}),5e3)):(y("FAILED"),e.cache||setTimeout((function(){return O(l)}),5e3));case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),D=function(){var t=Object(a.a)(Object(r.a)().mark((function t(){return Object(r.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=e.overrideValidation,t.t0){t.next=6;break}return t.next=4,A();case 4:t.t1=t.sent,t.t0="UPDATE"==t.t1;case 6:if(!t.t0){t.next=9;break}y("PENDING"),0==N?w(void 0):1!=N||localStorage.getItem("password")?1==N?w(localStorage.getItem("password")):i("Enter Advanced Passphrase to Proceed:"):i("Enter Control Password to Continue:");case 9:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(h.jsxs)("div",{className:"settings-value-box",style:{gridTemplateColumns:E?"1fr 1fr":null},children:[void 0==e.title?Object(h.jsx)("div",{className:"none no-size",style:{position:"absolute"}}):Object(h.jsx)("strong",{className:"settings-value-title",children:e.title}),"textarea"==T?Object(h.jsx)("textarea",{name:"textarea",value:j,onChange:function(e){return O(e.target.value)}}):Object(h.jsx)("input",{className:"settings-value-input",style:{color:E&&""!=x?S(x):null},type:T,step:"number"==T?C:null,value:j,onChange:function(e){return O(e.target.value)},onKeyPress:function(e){13==e.charCode&&D()}}),E?Object(h.jsx)("div",{className:"none no-size",style:{position:"absolute"}}):Object(h.jsx)("button",{className:"settings-value-button",onClick:D,style:{backgroundColor:S(x)},children:"textarea"==T&&""!=j?"SAVE":x}),c?Object(h.jsx)(g,{prompt:c,onSubmit:w,onCancel:function(){i(void 0),y("UPDATE")}}):Object(h.jsx)("div",{className:"none no-size",style:{position:"absolute"}})]})},T="darkred",C=Object(o.forwardRef)((function(e,t){var n=Object(o.useState)(0),c=Object(b.a)(n,2),i=c[0],s=c[1],u=Object(o.useState)(0),l=Object(b.a)(u,2),O=l[0],f=l[1],g=Object(o.useState)("rgba(24, 98, 24, 0.5)"),v=Object(b.a)(g,2),y=v[0],S=v[1],C=Object(o.useState)(2),E=Object(b.a)(C,2),A=E[0],w=E[1],D=Object(o.useState)(["SERVER DISCONNECTED"]),R=Object(b.a)(D,2),I=R[0],L=R[1],k=Object(m.c)((function(e){return e.data})),U=Object(m.c)((function(e){return e.serverURL})),P=Object(m.c)((function(e){return e.convertToFahrenheit})),M=Object(m.b)(),H=Object(d.f)(),V=Object(o.useRef)(),F=function(){return!e.hideDetails||0!=A},z=function(){return F()?"rgba(24, 98, 24, 0.85)":"rgba(24, 98, 24, 0.3)"},G=function(){return y!=T&&A&&k.frequencyActive?T:"white"},B=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:k.operatingTemperature,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:k.goalTemperature,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:k.minimumTemperature,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:k.maximumTemperature;return e>=r?2+1/(r-n)*(e-r):e<=n?1/(r-n)*(e-n):1-1/(r-n)*(t-e)},W=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:k.operatingHumidity,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:k.goalHumidity,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:k.minimumHumidity,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:k.maximumHumidity;return e>=r?2+1/(r-n)*(e-r):e<=n?1/(r-n)*(e-n):1-1/(r-n)*(t-e)};Object(o.useEffect)((function(){var e=0,t=[];void 0==k.sensorErrorCode?(e=2,t.push("SERVER DISCONNECTED")):(k.sensorErrorCode&&(e=Math.max(e,k.sensorErrorCode),t.push("SENSOR ERROR")),k.maximumTemperatureErrorCode&&(e=Math.max(e,k.maximumTemperatureErrorCode),t.push("MAXIMUM TEMPERATURE")),k.minimumTemperatureErrorCode&&(e=Math.max(e,k.minimumTemperatureErrorCode),t.push("MINIMUM TEMPERATURE")),k.maximumHumidityErrorCode&&(e=Math.max(e,k.maximumHumidityErrorCode),t.push("MAXIMUM HUMIDITY")),k.minimumHumidityErrorCode&&(e=Math.max(e,k.minimumHumidityErrorCode),t.push("MINIMUM HUMIDITY")),void 0==k.accessDatabase||k.accessDatabase||(e=Math.max(e,1),t.push("DATABASE LOCKED"))),w(e),L(t)}),[k]),j((function(){s(k.timeNextEvaluation-(new Date).getTime()),f((new Date).getTime()-k.timeLastReading),S((function(e){return 1==A||"whitesmoke"==e?T:A>1?"whitesmoke":z()}))}),1e3);var _=function(e){return Math.round(100*(P?1.8*e+32:e))/100},J=Object(o.useState)(window.innerWidth<900),K=Object(b.a)(J,2),q=K[0],X=K[1];Object(o.useEffect)((function(){setTimeout((function(){var e=document.getElementById("temperature-section").getBoundingClientRect().top,t=document.getElementById("humidity-section").getBoundingClientRect().top;void 0!=e&&e!=t&&X(!0)}),500)}),[]);var Y=function(){var e=Object(a.a)(Object(r.a)().mark((function e(t){var n;return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,le();case 2:return n=e.sent,H.push("/"),e.abrupt("return",1==n?"UPDATING":n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Z=function(){var e=Object(a.a)(Object(r.a)().mark((function e(t){return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return M({type:"toggleConvertToFahrenheit"}),e.abrupt("return",null);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),$=function(){var e=Object(a.a)(Object(r.a)().mark((function e(t){return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return A&&void 0!=k.sensorErrorCode?H.push("/log"):H.push("/settings"),e.abrupt("return",null);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Q=[{mobile:1,desktop:2,getWidget:function(){return k.operatingTemperature&&!F()?Object(h.jsx)("div",{className:"none no-size"}):Object(h.jsxs)("div",{ref:V,id:"condition-details",className:"none readings-box-outer",style:{color:G()},children:[Object(h.jsxs)("div",{className:"readings-box-inner",style:{backgroundColor:y},children:[Object(h.jsxs)("div",{className:" readings-value-box",children:[I.length?Object(h.jsx)("strong",{id:"readings-top-error",style:{color:y==T?"white":T},children:I[0]}):Object(h.jsx)("div",{className:"none no-size"}),I.length>1?I.slice(1).map((function(e,t){return Object(h.jsx)("strong",{className:" ",style:{gridRow:t+3,gridColumn:1,overflowX:"auto",fontSize:"1.2rem",fontFamily:"'New Tegomin', serif",margin:0,color:y==T?"white":T},children:e},"error-".concat(t))})):Object(h.jsx)("div",{className:"none no-size"}),I.length>1?Object(h.jsx)("hr",{style:{borderColor:G()}}):Object(h.jsx)("div",{className:"none no-size"}),k.statusMessage&&k.statusMessage.length?Object(h.jsxs)("div",{style:{display:"inline-grid",gridRow:2,gridColumn:1},children:[k.statusMessage.match(/[^\r\n]+/g).reverse().map((function(e,t){return Object(h.jsxs)("section",{className:"readings-status-message",style:{gridRow:t+2},children:["\u27b3 ",e]},"statusMessage-".concat(t))}))," "]}):Object(h.jsx)("div",{className:"none no-size"}),(k.operatingSchedules||[]).length?Object(h.jsx)("p",{className:"readings-schedule-list",children:k.operatingSchedules.join(" | ")}):Object(h.jsx)("div",{className:"none no-size"})]}),k.operatingTemperature?Object(h.jsxs)("section",{className:"readings-value-box",children:[Object(h.jsx)("hr",{style:{borderColor:G()}}),Object(h.jsx)("p",{className:"none readings-description",style:{gridRow:2,gridColumn:1},children:"Last Sensor Reading:"}),Object(h.jsxs)("strong",{className:"none readings-value",style:{gridRow:2,gridColumn:2},children:[Object(p.a)(k.timeLastReading,"m-d-yy HH:MM"),O>k.evaluationFrequency?" [".concat("".concat(O>36e5?"".concat(Math.floor(O/36e5),":"):"").concat(O>6e4?"".concat(Math.floor(O%36e5/6e4),":"):"").concat(O>6e4&&O%6e4<1e4?"0":"").concat(Math.floor(O%6e4/1e3)),"]"):""]}),Object(h.jsx)("p",{className:"none readings-description",style:{gridRow:3,gridColumn:1},children:"Sensor Frequency:"}),Object(h.jsxs)("strong",{className:"none readings-value",style:{gridRow:3,gridColumn:2},children:[k.evaluationFrequency/6e4," minutes"]}),Object(h.jsx)("p",{className:"none readings-description",style:{gridRow:4,gridColumn:1},children:"Next Evaluation:"}),Object(h.jsx)("strong",{className:"none readings-value",style:{gridRow:4,gridColumn:2},children:i<=0?"Reading":i>6e4?"".concat(Math.floor(i/6e4),":").concat(i%6e4<1e4?"0":"").concat(Math.floor(i%6e4/1e3)):"".concat(Math.floor(i/1e3)," seconds")})]}):Object(h.jsx)("div",{className:"none no-size"})]}),void 0==k.sensorErrorCode?Object(h.jsx)("div",{className:"readings-box-inner",style:{backgroundColor:"rgba(0,0,0,0.75)"},children:Object(h.jsx)(N,{title:"Server URL:",current:U,verifyLevel:0,cache:!0,overrideValidation:!0,onUpdate:function(){var e=Object(a.a)(Object(r.a)().mark((function e(t,n){var a;return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return M({type:"setServerURL",payload:t}),e.next=3,le();case 3:return 1==(a=e.sent)&&H.push("/"),e.abrupt("return",1==a?"UPDATING":a);case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()})}):Object(h.jsx)("div",{className:"none no-size"})]})},getUpdate:$,pendingText:"DIRECTING"},{mobile:2,desktop:1,getWidget:function(){return k.operatingTemperature?Object(h.jsx)("div",{id:"temperature-section",className:"none readings-box-outer",style:{marginLeft:q?"auto":0},children:Object(h.jsxs)("div",{className:"readings-box-inner",style:{backgroundColor:A?T:z()},children:[Object(h.jsxs)("section",{className:"none readings-value-box",style:{columnGap:"0"},children:[Object(h.jsx)("strong",{className:"none readings-main-value",style:{},children:_(k.operatingTemperature)}),Object(h.jsx)("p",{className:"none ",style:{gridRow:1,gridColumn:2,verticalAlign:"top",fontSize:"1.0rem"},children:P?Object(h.jsx)("span",{children:"\u2109"}):Object(h.jsx)("span",{children:"\u2103"})})]}),F()?Object(h.jsxs)("section",{className:"readings-value-box",children:[Object(h.jsx)("p",{className:"none readings-title",style:{},children:"Temperature"}),Object(h.jsx)("p",{className:"none readings-description",style:{gridRow:2,gridColumn:1},children:"Efficiency:"}),Object(h.jsxs)("strong",{className:"none readings-value",style:{gridRow:2,gridColumn:2},children:[Math.floor(100*B()),"%"]}),Object(h.jsx)("p",{className:"none readings-description",style:{gridRow:3,gridColumn:1},children:"Range:"}),Object(h.jsxs)("strong",{className:"none readings-value",style:{gridRow:3,gridColumn:2},children:[_(k.minimumTemperature)," - ",_(k.maximumTemperature),P?Object(h.jsx)("span",{children:"\u2109"}):Object(h.jsx)("span",{children:"\u2103"})]})]}):Object(h.jsx)("div",{className:"none no-size"})]})}):Object(h.jsx)("div",{id:"temperature-section",className:"none no-size"})},getUpdate:Z,pendingText:"CONVERTING"},{mobile:3,desktop:3,getWidget:function(){return k.operatingHumidity?Object(h.jsx)("div",{id:"humidity-section",className:"none readings-box-outer",style:{marginRight:q?"auto":"0"},children:Object(h.jsxs)("div",{className:"readings-box-inner",style:{backgroundColor:A?T:z()},children:[Object(h.jsxs)("section",{className:"none readings-value-box",style:{columnGap:"0"},children:[Object(h.jsx)("strong",{className:"none readings-main-value",style:{},children:Math.round(100*k.operatingHumidity)/100}),Object(h.jsx)("p",{className:"none ",style:{gridRow:1,gridColumn:2,verticalAlign:"top",fontSize:"1.0rem"},children:"%"})]}),F()?Object(h.jsxs)("section",{className:"readings-value-box",children:[Object(h.jsx)("p",{className:"none readings-title",style:{textAlign:"center"},children:"Humidity"}),Object(h.jsx)("p",{className:"none readings-description",style:{gridRow:2,gridColumn:1},children:"Efficiency:"}),Object(h.jsxs)("strong",{className:"none readings-value",style:{gridRow:2,gridColumn:2},children:[Math.floor(100*W()),"%"]}),Object(h.jsx)("p",{className:"none readings-description",style:{gridRow:3,gridColumn:1},children:"Range:"}),Object(h.jsxs)("strong",{className:"none readings-value",style:{gridRow:3,gridColumn:2},children:[k.minimumHumidity," - ",k.maximumHumidity,"%"]})]}):Object(h.jsx)("div",{className:"none no-size"})]})}):Object(h.jsx)("div",{id:"humidity-section",className:"none no-size"})},getUpdate:Y,pendingText:"RETRIEVING"}];return Object(h.jsx)("div",{ref:t,id:"readings-container",className:q?"readings-align":"readings-top",children:Q.sort((function(e,t){return q?e.mobile-t.mobile:e.desktop-t.desktop})).map((function(e){return Object(h.jsx)("div",{style:{margin:"auto",padding:"2.0rem"},children:Object(h.jsx)(x,{title:e.getWidget(),condense:!0,buttonColor:"transparent",buttonStyle:{border:"none",margin:"0",padding:"0",borderRadius:"0.75rem"},verifyLevel:0,pendingText:e.pendingText,onUpdate:e.getUpdate})})}))})})),E=C,A=n.p+"static/media/terrarium-buddies.3158d65c.jpg",w=(n(83),function(e){var t=Object(m.c)((function(e){return e.image}));return Object(h.jsxs)("div",{children:[Object(h.jsx)("div",{style:{position:"absolute",zIndex:0,height:"100vh",width:"100vw",backgroundColor:"black"}},"background-black"),Object(h.jsx)("div",{style:{position:"absolute"},children:Object(h.jsx)("img",{className:"blur-effect",src:t.location||A,alt:"background-image",style:{zIndex:"2",display:"block",objectFit:"cover",overflow:"hidden",width:"100vw",height:"100vh",opacity:t.visible?.9:.3,transition:"all ".concat(.6*t.TRANSITION_INTERVAL,"ms ease")}})},"Background Image")]},"Background Component")}),D=function(e){var t=Object(m.c)((function(e){return e.data})),n=Object(o.useState)(0),r=Object(b.a)(n,2),a=r[0],c=r[1];return j((function(){c((new Date).getTime()-t.timeLastReading)}),1e3),Object(h.jsxs)("div",{className:"none border-box",style:{position:"fixed",bottom:0,width:"100%",padding:"0.3rem 1.0rem",display:"flex",justifyContent:"space-between",backgroundColor:"black",color:"whitesmoke",fontSize:"0.8rem",whiteSpace:"wrap",overflowX:"scroll"},children:[Object(h.jsx)("p",{className:"none",style:{whiteSpace:"nowrap",left:0},children:Object(p.a)((new Date).getTime(),"dddd, mmmm d, yyyy h:MM")}),Object(h.jsx)("p",{className:"none",style:{whiteSpace:"nowrap",right:"100vw"},children:isNaN(a)?"Disconnected":a>6e4?"".concat(Math.floor(a/6e4),":").concat(a%6e4<1e4?"0":"").concat(Math.floor(a%6e4/1e3)):"".concat(Math.floor(a/1e3)," seconds")})]})},R=i.a.forwardRef((function(e,t){var n=Object(m.c)((function(e){return e.image})),r=Object(m.c)((function(e){return e.data})),a=Object(o.useState)(!1),c=Object(b.a)(a,2),i=c[0],s=c[1],u=Object(m.c)((function(e){return e.isScreenSaverActive})),l=Object(o.useState)(!0),p=Object(b.a)(l,2),j=p[0],O=p[1],f=Object(o.useState)("0"),g=Object(b.a)(f,2),v=g[0],x=g[1];Object(o.useEffect)((function(){u&&!i?(O(!0),setTimeout((function(){return x("1")}),600)):(setTimeout((function(){return x("0")}),600),setTimeout((function(){return O(!1)}),1e3))}),[u,i]);var y=Object(m.c)((function(e){return e.screenSaverBrightness})),S=Object(m.b)(),N=Object(d.f)(),T=function(){if("Black"==y.setting)return 1;if("Scheduled"==y.setting){var e=19,t=[{hour:y.blackHourStart,opacity:0},{hour:y.dayHourStart,opacity:y.dayOpacity},{hour:y.nightHourStart,opacity:y.nightOpacity}];if(t=t.sort((function(e,t){return e.hour-t.hour})),console.log(t),e>=t[0].hour&&(e<t[1].hour||t[0].hour==t[1].hour)&&t[0].hour>=0&&t[0].hour<=23)return t[0].opacity;if(e>=t[1].hour&&(e<t[2].hour||t[1].hour==t[2].hour)&&t[1].hour>=0&&t[1].hour<=23)return t[1].opacity;if(e>=t[2].hour||e<t[0].hour&&t[2].hour>=0&&t[2].hour<=23)return t[2].opacity}return 1};Object(o.useEffect)((function(){void 0==r.sensorErrorCode||r.sensorErrorCode||r.maximumTemperatureErrorCode||r.minimumTemperatureErrorCode||r.maximumHumidityErrorCode||r.minimumHumidityErrorCode||void 0!=r.accessDatabase&&!r.accessDatabase?s(!0):s(!1)}),[r]);var C=Object(o.useRef)(),w=Object(o.useRef)(),R=Object(o.useCallback)((function(e){S({type:"deactivateScreenSaver"}),clearTimeout(C.current),C.current=setTimeout((function(){return S({type:"activateScreenSaver"})}),e||n.SCREENSAVER_INACTIVE_TIME),clearTimeout(w.current),u&&(w.current=setTimeout((function(){return N.push("/")}),3*(e||n.SCREENSAVER_INACTIVE_TIME)))}),[]);return Object(o.useEffect)((function(){return R()}),[]),Object(o.useImperativeHandle)(t,(function(){return{deactivateScreenSaver:function(){R()}}})),j?Object(h.jsxs)("div",{style:{zIndex:20,position:"absolute",width:"100vw",height:"100vh",opacity:v,transition:"all ".concat(.5*n.TRANSITION_INTERVAL,"ms ease")},children:[Object(h.jsx)("div",{style:{position:"absolute",height:"100vh",width:"100vw",backgroundColor:"black"}},"ScreenSaver-black"),Object(h.jsx)("div",{style:{position:"absolute"},children:Object(h.jsx)("img",{className:"",src:n.location||A,alt:"screensaver",style:{display:"block",objectFit:"cover",overflow:"hidden",width:"100vw",height:"100vh",opacity:n.isVisible?T():T()>.2?.2:0,transition:"all ".concat(.6*n.TRANSITION_INTERVAL,"ms ease")}})},"ScreenSaver Image"),Object(h.jsx)(E,{hideDetails:!0}),Object(h.jsx)(D,{})]},"ScreenSaver Component"):Object(h.jsx)("div",{className:"none no-size"})})),I=(n(84),n.p+"static/media/frog-logo.61394956.png"),L=Object(o.forwardRef)((function(e,t){var n=Object(d.f)(),r=Object(d.g)(),a=Object(m.b)();return Object(h.jsxs)("div",{children:[Object(h.jsx)("div",{id:"menu-container-spacer"}),Object(h.jsxs)("div",{ref:t,id:"menu-container",className:" border-box",children:[Object(h.jsxs)("div",{className:"menu-icon-box",style:{textDecoration:"none"},onClick:function(){"/"==r.pathname?setTimeout((function(){return a({type:"activateScreenSaver"})}),1500):n.push("/")},children:[Object(h.jsx)("img",{className:"menu-icon",src:I}),Object(h.jsx)("strong",{className:"menu-icon-text",children:"Current"})]}),Object(h.jsxs)(l.b,{to:"/controls",className:"menu-icon-box",style:{textDecoration:"none"},children:[Object(h.jsx)("img",{className:"menu-icon",src:I}),Object(h.jsx)("strong",{className:"menu-icon-text",children:"Controls"})]}),Object(h.jsxs)(l.b,{to:"/schedules",className:"menu-icon-box",style:{textDecoration:"none"},children:[Object(h.jsx)("img",{className:"menu-icon",src:I}),Object(h.jsx)("strong",{className:"menu-icon-text",children:"Schedules"})]}),Object(h.jsxs)(l.b,{to:"/climate",className:"menu-icon-box",style:{textDecoration:"none"},children:[Object(h.jsx)("img",{className:"menu-icon",src:I}),Object(h.jsx)("strong",{className:"menu-icon-text",children:"Climate"})]}),Object(h.jsxs)(l.b,{to:"/history",className:"menu-icon-box",style:{textDecoration:"none"},children:[Object(h.jsx)("img",{className:"menu-icon",src:I}),Object(h.jsx)("strong",{className:"menu-icon-text",children:"History"})]}),Object(h.jsxs)("div",{className:"menu-icon-box",style:{textDecoration:"none"},onClick:function(){"/settings"==r.pathname?n.push("/log"):n.push("/settings")},children:[Object(h.jsx)("img",{className:"menu-icon",src:I}),Object(h.jsx)("strong",{className:"menu-icon-text",children:"Settings"})]})]})]})})),k=n(6),U=[{name:"1m",value:6e4},{name:"2m",value:12e4},{name:"3m",value:18e4},{name:"4m",value:24e4},{name:"5m",value:3e5},{name:"6m",value:36e4},{name:"7m",value:42e4},{name:"8m",value:48e4},{name:"9m",value:54e4},{name:"10m",value:6e5},{name:"15m",value:9e5},{name:"30m",value:18e5},{name:"45m",value:27e5},{name:"1h",value:36e5},{name:"2h",value:72e5},{name:"3h",value:108e5},{name:"4h",value:144e5},{name:"5h",value:18e6},{name:"6h",value:216e5},{name:"12h",value:432e5},{name:"1d",value:864e5},{name:"3d",value:2592e5},{name:"1w",value:6048e5},{name:"2w",value:12096e5},{name:"1M",value:2592e6}],P=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;try{var n=parseInt(e);return n/2592e6>=1?"".concat(Math.floor(n/2592e6*(10*t))/(10*t),"M"):n/6048e5>=1?"".concat(Math.floor(n/6048e5*(10*t))/(10*t),"w"):n/864e5>=1?"".concat(Math.floor(n/864e5*(10*t))/(10*t),"d"):n/36e5>=1?"".concat(Math.floor(n/36e5*(10*t))/(10*t),"h"):n/6e4>=1?"".concat(Math.floor(n/6e4),"m"):"ZERO"}catch(r){return"INVALID"}},M=function(e){try{var t=/\d+/.exec(e)[0],n=parseInt(t),r=/[a-zA-Z]+/.exec(e)[0];return"m"==r?60*n*1e3:"h"==r?60*n*60*1e3:"d"==r?24*n*60*60*1e3:"w"==r?7*n*24*60*60*1e3:"M"==r?30*n*24*60*60*1e3:n}catch(a){return 0}},H=(n(85),["On","Off"]),V=function(e){var t=Object(o.useState)(1),n=Object(b.a)(t,2),r=n[0],a=n[1],c=(j((function(){a((e.until-(new Date).getTime())*(e.until-(new Date).getTime()<0?-1:1))}),1e3),/(severe|schedule|toggle|immediate)/i.test(e.topReason)),i=/(severe|extreme)/i.test(e.topReason);return Object(h.jsx)("div",{className:"none control-toggle-outer",style:{},onClick:e.onClick,children:Object(h.jsxs)("div",{className:"none control-toggle-inner",style:{borderColor:e.isSelected?"whitesmoke":e.select?"transparent":c?"var(--accent-color)":"transparent",backgroundColor:i?"darkred":e.active?"rgba(0, 102, 0, 0.6)":"rgba(0, 0, 0, 0.5)"},children:[Object(h.jsx)("strong",{className:"none control-toggle-text",children:e.title}),Object(h.jsx)("p",{className:"none control-toggle-timer",style:{},children:e.topReason}),Object(h.jsx)("p",{className:"none control-toggle-timer",style:{fontSize:"0.75rem",color:e.until-(new Date).getTime()<0?"gold":null},children:e.until<=0?"".concat(e.active?"ON":"OFF"," : INDEFINITELY"):"".concat(r>36e5?"".concat(Math.floor(r/36e5),":"):"").concat(r>6e4?"".concat(Math.floor(r%36e5/6e4),":"):"").concat(r>6e4&&r%6e4<1e4?"0":"").concat(Math.floor(r%6e4/1e3))})]})})};function F(e){var t=Object(m.c)((function(e){return e.serverURL})),n=Object(m.c)((function(e){return e.data})),c=Object(o.useState)(10),i=Object(b.a)(c,2),s=i[0],u=i[1],l=Object(o.useState)(!1),d=Object(b.a)(l,2),p=d[0],j=d[1],O=Object(o.useState)([]),g=Object(b.a)(O,2),v=g[0],S=g[1],N=Object(o.useState)([]),T=Object(b.a)(N,2),C=(T[0],T[1]);Object(o.useEffect)((function(){void 0!=n.controlTypes&&C(n.controlTypes);var e=U.findIndex((function(e){return e.value>n.timeNextEvaluation-(new Date).getTime()}))-1;e>4&&u(e)}),[n]);var E=function(e){for(var t=0;t<n.controlTypes.length;t++){for(var r=!0,a=0;a<n.CONTROLS.length;a++)if(e.includes(n.CONTROLS[a].name)&&!n.CONTROLS[a].types.includes(n.controlTypes[t])||!e.includes(n.CONTROLS[a].name)&&n.CONTROLS[a].types.includes(n.controlTypes[t])){r=!1;break}if(r)return"[".concat(n.controlTypes[t],"]")}var c="";return e.forEach((function(e){return c+="-"+e.match(/\b(\w)/g).join(".")})),"(".concat(c.substring(1).toUpperCase(),")")},A=function(){var e=Object(a.a)(Object(r.a)().mark((function e(n,a){var c,o,i=arguments;return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=!(i.length>2&&void 0!==i[2])||i[2],o=i.length>3&&void 0!==i[3]?i[3]:"Immediate ".concat(E(a)),e.next=4,f.a.post("".concat(t,"/schedule-add/"),{PASSWORD:n,time:(new Date).getTime(),title:o,names:JSON.stringify(a),duration:U[s].value,set:c||"true"==c,repeat:0}).then((function(e){return setTimeout((function(){return le()}),1e4),"EXECUTING"})).catch((function(e){return!!e.response&&e.response.status}));case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();return Object(h.jsxs)("div",{id:"control-container",children:[Object(h.jsxs)("div",{id:"duration-box",children:[Object(h.jsx)("label",{id:"duration-label",style:{color:"white"},onClick:function(){return u(10)},children:U[s].name}),Object(h.jsx)("input",{id:"duration-slider",type:"range",min:0,max:U.length-1,value:s,onChange:function(e){return u(e.target.value)}})]}),Object(h.jsx)("div",{id:"control-box",children:void 0===n.CONTROLS?Object(h.jsx)("div",{}):n.CONTROLS.map((function(e){return Object(h.jsx)(x,{title:Object(h.jsx)(V,{title:e.name,active:e.settings[0].set||"true"==e.settings[0].set,topReason:e.settings[0].reason,until:e.settings[0].until,select:p,isSelected:v.includes(e.name),onClick:function(){}}),pendingText:"SCHEDULING",condense:!0,buttonColor:"transparent",buttonStyle:{border:"none",margin:"1.0rem",padding:"0",width:"15.0rem"},verifyLevel:1,onUpdate:function(t){return p?(v.includes(e.name)?S((function(t){return Object(k.a)(t.filter((function(t){return t!==e.name})))})):S((function(t){return[].concat(Object(k.a)(t),[e.name])})),null):A(t,[e.name],!(e.settings[0].set||"true"==e.settings[0].set),"Toggle ".concat(E([e.name])))}},e.name)}))}),Object(h.jsxs)("div",{id:"control-select-box",children:[Object(h.jsx)(x,{title:p?"ALL":"ON",pendingText:"ACTIVATING",condense:!0,buttonColor:"rgba(0, 0, 0, 0.95)",buttonStyle:{border:"none",padding:"0.70rem 2rem",fontSize:"0.9rem",width:"auto",minWidth:"6.0rem",borderRadius:"0.5rem"},verifyLevel:1,onUpdate:function(e){return p?S(Object(k.a)(n.CONTROLS.map((function(e){return e.name})))):A(e,Object(k.a)(n.CONTROLS.map((function(e){return e.name}))),!0,"ALL ON")}}),Object(h.jsx)(x,{title:"ACTIVE",pendingText:"SCHEDULING",condense:!0,buttonColor:"rgba(0, 0, 0, 0.95)",buttonStyle:{display:p?null:"none",border:"none",padding:"0.70rem 2rem",fontSize:"0.9rem",width:"auto",minWidth:"6.0rem",borderRadius:"0.5rem"},verifyLevel:1,onUpdate:function(e){return p?S(Object(k.a)(n.CONTROLS.filter((function(e){return e.settings[0].set})).map((function(e){return e.name})))):A(e,Object(k.a)(n.CONTROLS.filter((function(e){return e.settings[0].set})).map((function(e){return e.name}))),!1,"DEACTIVATING")}}),Object(h.jsx)(x,{title:"INACTIVE",pendingText:"SCHEDULING",condense:!0,buttonColor:"rgba(0, 0, 0, 0.95)",buttonStyle:{display:p?null:"none",border:"none",padding:"0.70rem 2rem",fontSize:"0.9rem",width:"auto",minWidth:"6.0rem",borderRadius:"0.5rem"},verifyLevel:1,onUpdate:function(e){return p?S(Object(k.a)(n.CONTROLS.filter((function(e){return!e.settings[0].set})).map((function(e){return e.name})))):A(e,Object(k.a)(n.CONTROLS.filter((function(e){return!e.settings[0].set})).map((function(e){return e.name}))),!0,"ACTIVATING")}}),function(){var e=new Map;return n.CONTROLS.forEach((function(t,n){return t.types.forEach((function(n){return e.set(n,[].concat(Object(k.a)(e.get(n)||[]),[t.id]))}))})),Object(k.a)(e).filter((function(e,t,n){var r=Object(b.a)(e,2),a=r[0],c=r[1];return c.length>1&&(p||!H.includes(a))&&n.findIndex((function(e,t){var n=Object(b.a)(e,2);n[0];return n[1].toString()==c.toString()}))===t})).map((function(e){var t=Object(b.a)(e,2),n=t[0];t[1];return n}))}().map((function(e,t){return Object(h.jsx)(x,{title:e,pendingText:"SCHEDULING",condense:!0,buttonColor:"rgba(0, 0, 0, 0.95)",buttonStyle:{border:"none",padding:"0.70rem 2rem",fontSize:"0.9rem",width:"auto",minWidth:"6.0rem",borderRadius:"0.5rem"},verifyLevel:1,onUpdate:function(t){return p?S((function(t){return Object(k.a)(n.CONTROLS.filter((function(t){return t.types.includes(e)})).map((function(e){return e.name}))).every((function(e,t,n){return v.includes(e)}))?Object(k.a)(n.CONTROLS.filter((function(n){return!n.types.includes(e)&&t.includes(e)})).map((function(e){return e.name}))):Object(k.a)(n.CONTROLS.filter((function(t){return t.types.includes(e)})).map((function(e){return e.name})))})):A(t,Object(k.a)(n.CONTROLS.filter((function(t){return t.types.includes(e)})).map((function(e){return e.name}))),!Object(k.a)(n.CONTROLS.filter((function(t){return t.types.includes(e)}))).every((function(e,t,n){return e.settings[0].set==n[0].settings[0].set}))||!Object(k.a)(n.CONTROLS.filter((function(t){return t.types.includes(e)}))).length||!Object(k.a)(n.CONTROLS.filter((function(t){return t.types.includes(e)})))[0].settings[0].set,"Immediate ".concat(e))}},e)})),Object(h.jsx)(x,{title:p?"NONE":"OFF",pendingText:"DEACTIVATING",condense:!0,buttonColor:"rgba(0, 0, 0, 0.95)",buttonStyle:{border:"none",padding:"0.70rem 2rem",fontSize:"0.9rem",width:"auto",minWidth:"6.0rem",borderRadius:"0.5rem"},verifyLevel:1,onUpdate:function(e){return p?S([]):A(e,Object(k.a)(n.CONTROLS.map((function(e){return e.name}))),!1,"ALL OFF")}})]}),p?Object(h.jsxs)("div",{id:"control-select-box",children:[Object(h.jsx)(x,{title:"ON",pendingText:"ACTIVATING",condense:!0,buttonStyle:{border:"none",padding:"0.45rem 2rem",width:"auto",minWidth:"6.0rem",borderRadius:"0.5rem",color:"black"},verifyLevel:1,onUpdate:function(e){return A(e,v,!0)}}),Object(h.jsx)(x,{title:"OFF",pendingText:"DEACTIVATING",condense:!0,buttonStyle:{border:"none",padding:"0.45rem 2rem",width:"auto",minWidth:"6.0rem",borderRadius:"0.5rem",color:"black"},verifyLevel:1,onUpdate:function(e){return A(e,v,!1)}}),Object(h.jsx)("button",{className:"none control-button control-button-exit",onClick:function(){j(!1),S([])},children:"Exit"})]}):Object(h.jsx)("div",{id:"control-select-box",children:Object(h.jsx)("button",{className:"none control-button",onClick:function(){return j(!0)},children:"Select"})}),Object(h.jsx)(y,{duration:U[s].value,verifyLevel:U[s].value<864e5?1:2,buttonStyle:{padding:"0.4rem"}})]})}var z=n(13),G=(n(86),function(e){return"UPDATE"==e||""==e?"var(--main-color)":"PASS"==e||"INVALID"==e||"FAILED"==e?"#e8000d":"PENDING"==e||"BLANK"==e?"orange":"#cc5500"}),B=function(e){var t,n=Object(o.useState)(e.customDefault),r=Object(b.a)(n,2),a=r[0],c=r[1],i=Object(o.useState)(e.multipleList),s=Object(b.a)(i,2),u=s[0],l=s[1],d=Object(m.c)((function(e){return e.dropListOpen})),p=Object(m.b)();Object(o.useEffect)((function(){l(e.multipleList)}),[e.multipleList]),Object(o.useEffect)((function(){c(e.customDefault)}),[e.customDefault]);var j=void 0!=e.buttonColor?e.buttonColor:"",O=void 0!=e.customName&&e.customName,f=void 0!=e.inputType?e.inputType:"text",g=void 0!=u;return Object(h.jsxs)("div",{className:"schedule-drop-menu-container",style:e.outerStyle,onFocus:function(){},onBlur:function(){},children:[Object(h.jsxs)("button",{className:"schedule-input schedule-drop-menu-button ".concat(e.buttonStyleClass||""),style:{color:isNaN(e.value)?"white":j,backgroundColor:isNaN(e.value)?j:null},onClick:function(){return p({type:"setDropList",payload:e.dropListId})},children:[void 0!=e.value?e.value:void 0!=e.multipleList?e.multipleList.toString():"",e.subValue?Object(h.jsxs)("span",{children:[Object(h.jsx)("label",{style:{color:"grey",margin:"0 0.5rem"},children:"|"}),Object(h.jsx)("label",{style:{color:"orange"},children:e.subValue||""})]}):null]}),d==e.dropListId?Object(h.jsxs)("div",{className:"schedule-drop-menu-list",style:{top:e.options.length<=5?null:"5vh"},children:[Object(h.jsx)("button",{className:"schedule-drop-menu-item",style:{borderBottom:"1px solid whitesmoke",color:"var(--main-color)"},onClick:function(){p({type:"setDropList"})},children:"Cancel"},"cancel-button"),g?Object(h.jsx)("button",{className:"schedule-drop-menu-item schedule-save-button",style:{borderBottom:"1px solid whitesmoke",marginTop:0},onClick:function(){e.onSelect(u),p({type:"setDropList"})},children:"SAVE"},"save-button-1"):Object(h.jsx)("div",{className:"none no-size"}),e.options.map((function(t,n){return Object(h.jsx)("button",{className:"schedule-drop-menu-item",style:{border:(g?u.includes(t):e.value==t)?"1px solid var(--main-color)":"none",backgroundColor:"UPDATE"==t?"var(--main-color)":"DELETE"==t?"red":"",color:"UPDATE"==t?"white":"DELETE"==t?"black":""},onClick:function(){g&&u.includes(t)?l(u.filter((function(e){return e!=t}))):g?l([].concat(Object(k.a)(u),[t])):(e.onSelect(t),p({type:"setDropList"}))},children:t},"".concat(t,"-").concat(JSON.stringify(u)))})),e.extraList&&g?Object(h.jsx)("button",{className:"schedule-drop-menu-item schedule-save-button",style:{borderTop:"1px solid whitesmoke",borderBottom:"1px solid whitesmoke"},onClick:function(){e.onSelect(u),p({type:"setDropList"})},children:e.extraName||"SAVE"},"save-button-2"):Object(h.jsx)("div",{className:"none no-size"}),e.extraList?e.extraList.map((function(t,n){return Object(h.jsx)("button",{className:"schedule-drop-menu-item",style:{border:(g?u.includes(t):e.value==t)?"1px solid var(--main-color)":"none",backgroundColor:"UPDATE"==t?"var(--main-color)":"DELETE"==t?"red":"",color:"UPDATE"==t?"white":"DELETE"==t?"black":""},onClick:function(){e.onExtra(t),p({type:"setDropList"})},children:t},"".concat(t,"-").concat(JSON.stringify(u)))})):null,O?Object(h.jsxs)("div",{className:"none",style:{display:"inline-grid",gridColumn:1},children:[Object(h.jsx)("input",{type:f,className:"schedule-drop-menu-item",style:(t={gridColumn:1,width:"10.0rem",border:"none",borderRadius:0},Object(z.a)(t,"border","1px solid whitesmoke"),Object(z.a)(t,"backgroundColor","black"),Object(z.a)(t,"color","white"),t),value:a,onChange:function(e){return c(e.target.value)},onKeyPress:function(t){13==t.charCode&&(e.onSelect(g?[].concat(Object(k.a)(u),[a]):a),p({type:"setDropList"}))}},"settings-add-input"),Object(h.jsx)("button",{className:"schedule-drop-menu-item",style:{gridColumn:2,border:"none",borderRadius:0,borderBottom:"1px solid whitesmoke",backgroundColor:"whitesmoke",color:"black"},onClick:function(){e.onSelect(g?[].concat(Object(k.a)(u),[a]):a),p({type:"setDropList"})},children:O},"settings-add-button")]}):Object(h.jsx)("div",{className:"none no-size"}),g?Object(h.jsx)("button",{className:"schedule-save-button schedule-drop-menu-item ",style:{borderTop:"1px solid whitesmoke",marginBottom:0},onClick:function(){e.onSelect(u),p({type:"setDropList"})},children:"SAVE"},"save-button-3"):Object(h.jsx)("div",{className:"none no-size"})]}):Object(h.jsx)("div",{})]})},W=function(e){var t=parseInt(e)||0,n=new Date;n.setHours(0,0,0,0);var r=new Date(n.getTime()+864e5),a=new Date(n.getTime()-864e5);if(t>=n.getTime()&&t<r.getTime())return"Today";if(t>=r.getTime()&&t<new Date(r.getTime()+864e5).getTime())return"Tomorrow";if(t>=new Date(a.getTime()-864e5).getTime()&&t<n.getTime())return"Yesterday";if(t>=new Date(n.getTime()-5184e5).getTime()&&t<=new Date(n.getTime()+6048e5).getTime()){var c=new Date(t).getDay();return 0==c?"Sunday":1==c?"Monday":2==c?"Tuesday":3==c?"Wednesday":4==c?"Thursday":5==c?"Friday":6==c?"Saturday":"New Day"}return function(e){var t=parseInt(e)||0,n=new Date(t).getDate();return 1==n||21==n||31==n?"".concat(Object(p.a)(t,"mmm"),", ").concat(n,"st"):2==n||22==n?"".concat(Object(p.a)(t,"mmm"),", ").concat(n,"nd"):3==n||23==n?"".concat(Object(p.a)(t,"mmm"),", ").concat(n,"rd"):"".concat(Object(p.a)(t,"mmm"),", ").concat(n,"th")}(t)},_=function(){var e=[],t=new Date;t=t.setHours(7,0,0,0);for(var n=0;n<30;n++)e.push(t),t+=864e5;return e},J=function(e){var t,n,r=Object(m.c)((function(e){return e.dropListOpen})),a=Object(o.useState)(e.time),c=Object(b.a)(a,2),i=c[0],s=c[1],u=Object(m.b)();return Object(h.jsxs)("div",{className:"schedule-drop-menu-container",style:e.outerStyle,onFocus:function(){},onBlur:function(){},children:[Object(h.jsx)("button",{className:"schedule-input schedule-drop-menu-button ".concat(e.buttonStyleClass||""),onClick:function(){return u({type:"setDropList",payload:e.dropListId})},children:"".concat(W(e.time)," ").concat(Object(p.a)(parseInt(e.time)||0,"H:MM"))}),r==e.dropListId?Object(h.jsxs)("div",{className:"schedule-drop-date-menu",style:{},children:[Object(h.jsxs)("div",{className:"schedule-drop-menu-list",style:{top:"5vh",gridRow:1,gridColumn:1,left:"2.0rem"},children:[Object(h.jsx)("label",{className:"schedule-drop-menu-item",style:{gridRow:1,borderBottom:"1px solid whitesmoke",color:"var(--main-color)"},onClick:function(){u({type:"setDropList"})},children:"Cancel"},"cancel-button"),_().map((function(t,n){return Object(h.jsx)("label",{className:"schedule-drop-menu-item",style:{gridRow:n+2,border:new Date(e.time).getMonth()==new Date(t).getMonth()&&new Date(e.time).getDate()==new Date(t).getDate()?"1px solid var(--main-color)":"none"},onClick:function(){e.onSelect(t)},children:W(t)},t)})),Object(h.jsxs)("div",{className:"none",style:{display:"inline-grid",gridColumn:1},children:[Object(h.jsx)("input",{type:"number",step:864e5,className:"schedule-drop-menu-item",style:(t={gridColumn:1,width:"10.0rem",border:"none",borderRadius:0},Object(z.a)(t,"border","1px solid whitesmoke"),Object(z.a)(t,"backgroundColor","black"),Object(z.a)(t,"color","white"),t),value:i,onChange:function(e){return s(e.target.value)},onKeyPress:function(t){13==t.charCode&&(e.onSelect(i),u({type:"setDropList"}))}},"settings-add-input"),Object(h.jsx)("button",{className:"schedule-drop-menu-item",style:{gridColumn:2,border:"none",borderRadius:0,borderBottom:"1px solid whitesmoke",backgroundColor:"whitesmoke",color:"black"},onClick:function(){e.onSelect(i),u({type:"setDropList"})},children:"EPOCH"},"settings-add-button")]})]}),Object(h.jsxs)("div",{className:"schedule-drop-menu-list",style:{top:"5vh",gridRow:1,gridColumn:1,right:"2.0rem"},children:[Object(h.jsx)("label",{className:"schedule-drop-menu-item",style:{gridRow:1,borderBottom:"1px solid whitesmoke",color:"var(--main-color)"},onClick:function(){u({type:"setDropList"})},children:"Cancel"},"cancel-button"),[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24].map((function(t,n){return Object(h.jsxs)("label",{className:"schedule-drop-menu-item",style:{gridRow:n+2,border:new Date(e.time).getHours()==t?"1px solid var(--main-color)":"none"},onClick:function(){e.onSelect(new Date(e.time).setHours(t,0,0,0)),s(new Date(e.time).setHours(t,0,0,0)),u({type:"setDropList"})},children:[t," : 00"]},t)})),Object(h.jsxs)("div",{className:"none",style:{display:"inline-grid",gridColumn:1},children:[Object(h.jsx)("input",{type:"number",step:60,className:"schedule-drop-menu-item",style:(n={gridColumn:1,width:"10.0rem",border:"none",borderRadius:0},Object(z.a)(n,"border","1px solid whitesmoke"),Object(z.a)(n,"backgroundColor","black"),Object(z.a)(n,"color","white"),n),value:60*new Date(i).getHours()+new Date(i).getMinutes(),onChange:function(t){return s(new Date(e.time).setHours(0,t.target.value,0,0))},onKeyPress:function(t){13==t.charCode&&(e.onSelect(i),u({type:"setDropList"}))}},"settings-add-input"),Object(h.jsx)("button",{className:"schedule-drop-menu-item",style:{gridColumn:2,border:"none",borderRadius:0,borderBottom:"1px solid whitesmoke",backgroundColor:"whitesmoke",color:"black"},onClick:function(){e.onSelect(i),u({type:"setDropList"})},children:"Time (m)"},"settings-add-button")]})]})]}):Object(h.jsx)("div",{})]})},K=function(e){var t=Object(m.c)((function(e){return e.data})),n=Object(m.b)(),c=Object(o.useState)(void 0),i=Object(b.a)(c,2),s=i[0],u=i[1],l=Object(o.useState)(void 0),d=Object(b.a)(l,2),p=d[0],j=d[1],O=Object(o.useState)(""),f=Object(b.a)(O,2),v=f[0],y=f[1],S=Object(o.useState)(e.priority||null),N=Object(b.a)(S,2),T=N[0],C=N[1],E=Object(o.useState)(e.time||(new Date).setMinutes(0,0,0)),A=Object(b.a)(E,2),w=A[0],D=A[1],R=Object(o.useState)(e.title||""),I=Object(b.a)(R,2),L=I[0],H=I[1],V=Object(o.useState)(!1),F=Object(b.a)(V,2),z=F[0],W=F[1],_=Object(o.useState)(e.names||[]),K=Object(b.a)(_,2),q=K[0],X=K[1],Y=Object(o.useState)(e.duration||9e5),Z=Object(b.a)(Y,2),$=Z[0],Q=Z[1],ee=Object(o.useState)(e.set||!0),te=Object(b.a)(ee,2),ne=te[0],re=te[1],ae=Object(o.useState)(e.repeat||0),ce=Object(b.a)(ae,2),oe=ce[0],ie=ce[1],se=function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];C(e.priority||null),D(t||void 0==e.time?(new Date).setMinutes(0,0,0):e.time),H(t||void 0==e.title?"":e.title),X(t||void 0==e.names?[]:e.names),Q(t||void 0==e.duration?9e5:e.duration),re(!(!t&&void 0!=e.set)||e.set),ie(t||void 0==e.repeat?0:e.repeat),t&&y("NEW")};Object(o.useEffect)((function(){return se()}),[e]),Object(o.useEffect)((function(){return se()}),[e]);var ue=void 0!=e.verifyLevel?e.verifyLevel:1,le=void 0!=e.insertNew,de=function(){if(!e.names)return!0;if(Array.isArray(e.names))for(var t=0;t<e.names.length;t++)if(!q.includes(e.names[t]))return!0;if(Array.isArray(q))for(var n=0;n<q.length;n++)if(!e.names.includes(q[n]))return!0;return!1},be=function(){return!e.time||e.time!=w},me=function(){return!e.title||e.title!=L},pe=function(){return!e.duration||e.duration!=$},je=function(){return e.set!=ne},Oe=function(){return void 0==e.repeat||e.repeat!=oe},fe=function(){return!!be()||(!!me()||(!(e.names&&!de())||(!!pe()||(!!je()||!!Oe()))))},he=function(){if(Array.isArray(q)){if(0==q.length)return!1;for(var e=0;e<q.length;e++)if(void 0==q[e])return!1}else if(!q||!q.length)return!1;return!0},ge=function(){return w&&!isNaN(w)},ve=function(){return L&&""!=L},xe=function(){return $&&!isNaN($)},ye=function(){return 0==ne||1==ne},Se=function(){return null!=oe&&void 0!=oe&&!isNaN(oe)};Object(o.useEffect)((function(){var e=fe()?"UPDATE":"";ge()||(e="TIME"),ve()||(e="TITLE"),he()||(e="CONTROLS"),xe()||(e="DURATION"),ye()||(e="SET"),Se()||(e="REPEAT"),y(e),!z&&le&&q.length&&H("".concat(Ce()," ").concat(ne?"On":"Off"," for ").concat($>36e5?"".concat(Math.floor($/36e5),":"):"").concat($>6e4?"".concat(Math.floor($%36e5/6e4),":"):"").concat($>6e4&&$%6e4<1e4?"0":"").concat(Math.floor($%6e4/1e3)))}),[T,w,L,q,$,ne,oe]);var Ne=function(){var t=Object(a.a)(Object(r.a)().mark((function t(n,a){var c;return Object(r.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(j(void 0),1!=ue||localStorage.getItem("password")){t.next=4;break}return t.next=4,localStorage.setItem("password",n.toString());case 4:return t.next=6,e.onUpdate(a||s,n,T,w,L,q,$,ne,oe);case 6:return 1==(c=t.sent)||isNaN(c)?(y(1!=c?c:"SAVED"),setTimeout((function(){le&&se(!0)}),5e3)):401==c?(y("PASS"),localStorage.clear(),setTimeout((function(){return y("UPDATE")}),5e3)):404==c?(y("INVALID"),setTimeout((function(){return se()}),5e3)):(y("FAILED"),setTimeout((function(){return se()}),5e3)),u(void 0),t.abrupt("return",v);case 10:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),Te=function(){var e=Object(a.a)(Object(r.a)().mark((function e(t){return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:y("PENDING"),t&&u(t),0==ue?Ne(void 0,t):1!=ue||localStorage.getItem("password")?1==ue?Ne(localStorage.getItem("password"),t):j("Enter Advanced Passphrase to Proceed:"):j("Enter Control Password to Continue:");case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ce=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window.innerWidth;if(!t.CONTROLS||!q||0==q.length)return"-";if(void 0!=t.CONTROLS&&q.length==t.CONTROLS.length)return"[ALL]";if(q.length>1)for(var n=0;n<t.controlTypes.length;n++){for(var r=!0,a=0;a<t.CONTROLS.length;a++)if(q.includes(t.CONTROLS[a].name)&&!t.CONTROLS[a].types.includes(t.controlTypes[n])||!q.includes(t.CONTROLS[a].name)&&t.CONTROLS[a].types.includes(t.controlTypes[n])){r=!1;break}if(r)return"[".concat(t.controlTypes[n],"]")}var c="";return q.forEach((function(t){return c+=" - "+(e>900?t:t.match(/\b(\w)/g).join("."))})),c.substring(3).toUpperCase()};return Object(h.jsxs)("div",{className:"none schedule-row",children:[le?Object(h.jsx)(x,{title:"UPDATE"!=v?v:"SAVE",buttonColor:"UPDATE"!=v?"orange":"var(--main-color)",buttonStyle:{gridRow:1,gridColumn:1,height:"85%",width:"auto",maxWidth:"100%",overflowX:"auto"},pendingText:"SCHEDULING",condense:!0,verifyLevel:1,onUpdate:function(){var e=Object(a.a)(Object(r.a)().mark((function e(t){return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("UPDATE"!=v){e.next=6;break}return e.next=3,Ne(t,"INSERT");case 3:e.t0=e.sent,e.next=7;break;case 6:e.t0=!1;case 7:return e.abrupt("return",e.t0);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}):Object(h.jsx)("section",{className:"none schedule-value-box",style:{gridRow:1,gridColumn:1,backgroundColor:""!=v?"transparent":w<t.timeNextEvaluation?"black":null},children:Object(h.jsx)(B,{value:""==v?T:v,dropListId:"".concat(JSON.stringify(e),"-update"),subValue:e.overriddenList&&e.overriddenList.length?"".concat(e.overriddenList.join(", ")):void 0,buttonColor:G(v),customName:"PRIORITY",inputType:"number",customDefault:T,options:function(){var e=["DELETE","INCREASE","DECREASE"];return fe()&&e.unshift("RESET"),"UPDATE"==v&&e.unshift("UPDATE"),e}(),onSelect:function(e){"RESET"==e?se(le):Te(e)}})}),Object(h.jsx)("section",{className:"none schedule-value-box",style:{gridRow:1,gridColumn:2,backgroundColor:w<t.timeNextEvaluation?"black":null,border:ge()?be()?"1px solid var(--main-color)":null:"1px solid darkred"},children:Object(h.jsx)(J,{dropListId:"".concat(JSON.stringify(e),"-time"),time:w,onSelect:function(e){return D(parseInt(e)||w)}})}),Object(h.jsx)("section",{className:"none schedule-value-box",style:{gridRow:1,gridColumn:3,backgroundColor:w<t.timeNextEvaluation?"black":null,border:ve()?me()?"1px solid var(--main-color)":null:"1px solid darkred"},children:Object(h.jsx)("input",{type:"text",className:"schedule-input schedule-drop-menu-button",onClick:function(){W(!0),n({type:"setDropList"})},value:L,onChange:function(e){return H(e.target.value)}})}),Object(h.jsx)("section",{className:"none schedule-value-box",style:{gridRow:1,gridColumn:4,backgroundColor:w<t.timeNextEvaluation?"black":null,border:he()?de()?"1px solid var(--main-color)":null:"1px solid darkred"},children:Object(h.jsx)(B,{value:Ce(),dropListId:"".concat(JSON.stringify(e),"-names"),multipleList:Object(k.a)(q),options:t.CONTROLS?Object(k.a)(t.CONTROLS.map((function(e){return e.name}))):[],onSelect:function(e){return X(Array.isArray(e)?Object(k.a)(e):[e])},extraName:"TYPES",extraList:t.controlTypes?["[ALL]","[NONE]"].concat(Object(k.a)(t.controlTypes.map((function(e){return"[".concat(e,"]")})))):[],onExtra:function(e){return X("[ALL]"==e?Object(k.a)(t.CONTROLS.map((function(e){return e.name}))):"[NONE]"==e?[]:Object(k.a)(t.CONTROLS.filter((function(t){return t.types.includes(e.replace(/\[|\]/g,""))})).map((function(e){return e.name}))))}})}),Object(h.jsx)("section",{className:"none schedule-value-box",style:{gridRow:1,gridColumn:5,backgroundColor:w<t.timeNextEvaluation?"black":null,border:xe()?pe()?"1px solid var(--main-color)":null:"1px solid darkred"},children:Object(h.jsx)(B,{value:P($),dropListId:"".concat(JSON.stringify(e),"-duration"),options:U.map((function(e){return e.name})),customName:"Minutes",inputType:"number",customDefault:$/6e4,onSelect:function(e){return Q(isNaN(e)?M(e):6e4*e)}})}),Object(h.jsx)("section",{className:"none schedule-value-box",style:{gridRow:1,gridColumn:6,backgroundColor:w<t.timeNextEvaluation?"black":null,border:ye()?je()?"1px solid var(--main-color)":null:"1px solid darkred"},children:Object(h.jsx)(B,{value:ne?"ON":"OFF",dropListId:"".concat(JSON.stringify(e),"-set"),options:["ON","OFF"],onSelect:function(e){re("ON"==e)}})}),Object(h.jsx)("section",{className:"none schedule-value-box",style:{gridRow:1,gridColumn:7,backgroundColor:w<t.timeNextEvaluation?"black":null,border:Se()?Oe()?"1px solid var(--main-color)":null:"1px solid darkred"},children:Object(h.jsx)(B,{value:oe?P(oe):"ONCE",dropListId:"".concat(JSON.stringify(e),"-repeat"),options:["ONCE"].concat(Object(k.a)(U.map((function(e){return e.name})))),customName:"Minutes",inputType:"number",customDefault:oe/6e4,onSelect:function(e){return ie("ONCE"==e?0:isNaN(e)?M(e):6e4*e)}})}),p?Object(h.jsx)(g,{prompt:p,onSubmit:function(e){return Ne(e,s)},onCancel:function(){j(void 0),y("UPDATE")}}):Object(h.jsx)("div",{className:"none no-size",style:{position:"absolute"}})]})},q=function(e){var t=Object(m.c)((function(e){return e.serverURL})),n=Object(o.useState)([]),c=Object(b.a)(n,2),i=c[0],s=c[1],u=Object(o.useState)(!0),l=Object(b.a)(u,2),d=l[0],p=l[1],j=Object(o.useState)([]),O=Object(b.a)(j,2),g=O[0],v=O[1],S=function(){return f.a.get("".concat(t,"/data-schedules/")).then((function(e){console.log("SCHEDULES",e.data.schedules),s(e.data.schedules),function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3;if(e&&e.length){var n=0,r=0,a=(new Date).getTime()+24*t*60*60*1e3,c=0,o=Object(k.a)(e.map((function(e){return{time:e.time,duration:e.duration,repeat:e.repeat,priority:e.priority,names:e.names||[],overrides:[]}}))),s=function(){n=o.reduce((function(e,t){return t.time<e&&t.time>r?t.time:e}),a),c++;var e=o.find((function(e){return n==e.time}));return void 0==e?"break":(o.forEach((function(t){!e.overrides.includes(t.priority)&&e.priority>t.priority&&t.time<e.time+e.duration&&t.time+t.duration>e.time&&e.names.some((function(e){return t.names.includes(e)}))&&e.overrides.push(t.priority)})),r=e.time,e.time+=e.repeat,c>1e3?(console.log("Schedule.calculateOccurrenceList() Maxed Search: ",c,o),"break"):void 0)};do{if("break"===s())break}while(n<a);v(Object(k.a)(o.map((function(e){return{priority:e.priority,overrides:Object(k.a)(e.overrides.sort((function(e,t){return t-e})))}}))))}}(e.data.schedules)})).catch((function(e){return console.log("Failed to Fetch Schedule Information",e),!!e.response&&e.response.status}))};Object(o.useEffect)((function(){return S()}),[]);var N=function(e){if(!g||i.length!=g.length||void 0==e)return[];var t=g.find((function(t){return t.priority==e}));return t?t.overrides:[]};return Object(h.jsxs)("div",{id:"schedule-list",className:"none border-box",children:[Object(h.jsxs)("div",{className:"none schedule-row",children:[Object(h.jsx)("label",{className:"schedule-header",style:{gridColumn:1},children:"Edit"}),Object(h.jsx)("label",{className:"schedule-header",style:{gridColumn:2},children:"Occurrence"}),Object(h.jsx)("label",{className:"schedule-header",style:{gridColumn:3},children:"Title"}),Object(h.jsx)("label",{className:"schedule-header",style:{gridColumn:4},children:"Control"}),Object(h.jsx)("label",{className:"schedule-header",style:{gridColumn:5},children:"Duration"}),Object(h.jsx)("label",{className:"schedule-header",style:{gridColumn:6},children:"Set"}),Object(h.jsx)("label",{className:"schedule-header",style:{gridColumn:7},children:"Repeat"})]}),Object(h.jsx)(K,{insertNew:!0,onUpdate:function(){var e=Object(a.a)(Object(r.a)().mark((function e(n,a,c,o,i,s,u,l,d){return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("INSERT"!=n){e.next=4;break}return e.next=3,f.a.post("".concat(t,"/schedule-add/"),{PASSWORD:a,time:o,title:i,names:JSON.stringify(s),duration:u,set:l,repeat:d}).then((function(e){return S(),!0})).catch((function(e){return!!e.response&&e.response.status}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t,n,r,a,c,o,i,s,u){return e.apply(this,arguments)}}()}),Object(h.jsxs)("div",{className:"schedule-button-row",children:[Object(h.jsx)(x,{title:d?"Sort Priority":"Sort Time",buttonStyle:{padding:"0.40rem"},condense:!0,buttonColor:"orange",verifyLevel:0,onUpdate:function(){var e=Object(a.a)(Object(r.a)().mark((function e(t){return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return p(!d),e.abrupt("return","Sorting");case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}),Object(h.jsx)(y,{buttonColor:"black",buttonStyle:{padding:"0.45rem"}}),Object(h.jsx)(x,{title:"UPDATE",buttonStyle:{padding:"0.40rem"},pendingText:"RETRIEVING",condense:!0,verifyLevel:1,onUpdate:function(){var e=Object(a.a)(Object(r.a)().mark((function e(t){var n;return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S();case 2:return n=e.sent,e.abrupt("return",1==n?"UPDATED":n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()})]}),Object(k.a)(i.sort((function(e,t){return d?e.time-t.time:t.priority-e.priority}))).map((function(e,n){return Object(h.jsx)(K,{verifyLevel:1,priority:e.priority,time:e.time,title:e.title,names:e.names,duration:e.duration,set:1==e.set||1==e.set,repeat:e.repeat,overriddenList:N(e.priority),onUpdate:function(){var n=Object(a.a)(Object(r.a)().mark((function n(a,c,o,i,s,u,l,d,b){return Object(r.a)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if("DELETE"!=a){n.next=6;break}return n.next=3,f.a.post("".concat(t,"/schedule-delete/"),{PASSWORD:c,priority:e.priority}).then((function(e){return S(),!0})).catch((function(e){return!!e.response&&e.response.status}));case 3:case 9:case 15:case 21:return n.abrupt("return",n.sent);case 6:if("UPDATE"!=a){n.next=12;break}return n.next=9,f.a.post("".concat(t,"/schedule-replace/"),{PASSWORD:c,currentPriority:e.priority,priority:o,time:i,title:s,names:JSON.stringify(u),duration:l,set:d,repeat:b}).then((function(e){return S(),!0})).catch((function(e){return!!e.response&&e.response.status}));case 12:if("INCREASE"!=a&&"DECREASE"!=a){n.next=18;break}return n.next=15,f.a.post("".concat(t,"/schedule-priority-increase/"),{PASSWORD:c,priority:e.priority,increase:"INCREASE"==a}).then((function(e){return S(),!0})).catch((function(e){return!!e.response&&e.response.status}));case 18:if(isNaN(parseInt(a))){n.next=22;break}return n.next=21,f.a.post("".concat(t,"/schedule-update/"),{PASSWORD:c,priority:e.priority,attributeName:"priority",value:parseInt(a)||0}).then((function(e){return S(),!0})).catch((function(e){return!!e.response&&e.response.status}));case 22:case"end":return n.stop()}}),n)})));return function(e,t,r,a,c,o,i,s,u){return n.apply(this,arguments)}}()},"Schedule-".concat(n))}))]})},X=(n(87),function(e){var t=Object(m.c)((function(e){return e.convertToFahrenheit})),n=Object(m.c)((function(e){return e.serverURL})),r=Object(o.useState)([]),a=Object(b.a)(r,2),c=a[0],i=a[1],s=Object(o.useState)({maximumTemperature:24,maximumHumidity:75,minimumTemperature:24,minimumHumidity:75}),u=Object(b.a)(s,2),l=u[0],d=u[1],p=Object(o.useState)(!0),j=Object(b.a)(p,2),O=j[0],v=j[1],x=Object(o.useState)("Pending"),y=Object(b.a)(x,2),S=y[0],N=y[1],T=Object(o.useState)(void 0),C=Object(b.a)(T,2),E=C[0],A=C[1],w=function(){return f.a.get("".concat(n,"/data-climate/")).then((function(e){console.log("CLIMATE",e.data),i(e.data.climate),N(""),d({maximumTemperature:e.data.maximumTemperature,maximumHumidity:e.data.maximumHumidity,minimumTemperature:e.data.minimumTemperature,minimumHumidity:e.data.minimumHumidity})})).catch((function(e){return console.log("Failed to Fetch Climate Information",e)}))};Object(o.useEffect)((function(){return w()}),[O]);var D=function(e){return t?Math.round(10*(1.8*e+32))/10:e},R=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=O!=t?e?D(l.maximumTemperature):l.maximumTemperature:l.maximumHumidity;return n?Math.ceil(r):r},I=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=O!=t?e?D(l.minimumTemperature):l.minimumTemperature:l.minimumHumidity;return n?Math.floor(r):r},L=function(){return 5*parseFloat(getComputedStyle(document.documentElement).fontSize)},U=function(){for(var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=[],n=(window.innerWidth-L())/((R(e)-I(e))*(2*parseFloat(getComputedStyle(document.documentElement).fontSize))),r=I(e);r<R(e);r+=Math.ceil(1/n))t.push(r);return t.push(R(e)),t},P=3.5*U(!0).length*(1*parseFloat(getComputedStyle(document.documentElement).fontSize))+L();return Object(h.jsxs)("div",{id:"climate-container",children:[Object(h.jsxs)("div",{id:"climate-header-box",children:[Object(h.jsx)("button",{className:"climate-header-button",style:{backgroundColor:O?"rgba(0, 102, 0, 0.6)":"rgba(255, 255, 255, 0.4)",color:O?"white":"black"},onClick:function(){return v(!0)},children:"Temperature"}),Object(h.jsx)("button",{className:"climate-header-button",style:{backgroundColor:O?"rgba(255, 255, 255, 0.4)":"rgba(0, 102, 0, 0.6)",color:O?"black":"white"},onClick:function(){return v(!1)},children:"Humidity"}),""!=S?Object(h.jsx)("button",{className:"climate-header-button",style:{backgroundColor:"Saved"==S||"Save Changes"==S?"#cc5500":"Pending"==S?"orange":"#e8000d",color:"black"},onClick:function(){N("Pending"),A("Enter Advanced Passphrase to Proceed:")},children:S}):Object(h.jsx)("section",{className:"none no-size"})]}),Object(h.jsxs)("div",{id:"climate-slider-box",className:"none ",style:{maxWidth:"".concat(P,"px")},children:[Object(h.jsx)("div",{className:"none climate-slider-value-box",style:{gridRow:1,gridColumn:1,paddingLeft:"4.0rem",paddingRight:"2.0rem",width:"".concat(1*P-1*L()-0,"px")},children:U(!1).map((function(e,t){return Object(h.jsx)("label",{className:"climate-slider-range-value",style:{gridColumn:t+1,textAlign:0==t?"left":t==U(!1).length-1?"right":"center"},children:e},"climate-slider-range-value-$first-".concat(t))}))}),c.map((function(e,t){return Object(h.jsxs)("div",{className:"none climate-slider-outer-box",style:{gridRow:t+2},children:[Object(h.jsxs)("strong",{className:"climate-hour-value",style:{},children:[e.hour,":00"]}),Object(h.jsxs)("strong",{className:"climate-hour-value",style:{gridRow:2,color:"var(--main-color)",fontSize:"0.8rem"},children:[O?parseFloat(e.temperature).toFixed(1):parseFloat(e.humidity).toFixed(1)," ",O?Object(h.jsx)("span",{className:"none",style:{fontSize:"0.65rem",verticalAlign:"top"},children:"\u2109"}):"%"]}),Object(h.jsx)("input",{readOnly:!0,className:"none climate-slider-range-bar climate-slider-range-bar-ghost",style:{width:"".concat(1*P-1*L()-0,"px")},type:"range",step:"0.01",min:I(!1,!0,!1),max:R(!1,!0,!1),value:O?c[t].humidity:c[t].temperature}),Object(h.jsx)("input",{readOnly:!0,className:"none climate-slider-range-bar climate-slider-range-bar-ghost-dot",style:{width:"".concat(1*P-1*L()-0,"px")},type:"range",step:"0.01",min:I(!1,!1,!1),max:R(!1,!1,!1),value:O?c[t].temperatureAverage:c[t].humidityAverage}),Object(h.jsx)("input",{className:"none climate-slider-range-bar",style:{width:"".concat(1*P-1*L()-0,"px")},type:"range",step:"0.01",min:I(!1,!1,!1),max:R(!1,!1,!1),value:O?c[t].temperature:c[t].humidity,onChange:function(e){O?c[t].temperature=e.target.value:c[t].humidity=e.target.value,i(Object(k.a)(c)),N("Save Changes")}}),Object(h.jsx)("div",{id:"data-".concat(t),className:"none climate-slider-value-box",style:{width:"".concat(1*P-1*L()-0,"px")},children:U(t%2==0).map((function(e,n){return Object(h.jsx)("label",{className:"climate-slider-range-value",style:{gridColumn:n+1,textAlign:0==n?"left":n==U(t%2==0).length-1?"right":"center"},children:e},"climate-slider-range-value-".concat(t,"-").concat(n))}))})]},"slider-".concat(t))}))]}),E?Object(h.jsx)(g,{prompt:E,onSubmit:function(e){A(void 0),f.a.post("".concat(n,"/set-settings/"),{ADVANCED_PASSPHRASE:e,tag:O?"climate-temperature":"climate-humidity",climate:JSON.stringify(c)}).then((function(e){N("Saved"),console.log(e),setTimeout((function(){w()}),5e3)})).catch((function(e){return console.log("Failed to Fetch Climate Information",e)}))},onCancel:function(){A(void 0),N(""),w()}}):Object(h.jsx)("div",{className:"none no-size",style:{position:"absolute"}})]})}),Y=(n(88),function(e){var t=Object(m.c)((function(e){return e.data})),n=Object(o.useState)([]),r=Object(b.a)(n,2),a=r[0],c=r[1],i=Object(d.f)(),s=Object(d.g)();return Object(o.useEffect)((function(){var e=[];void 0==t.sensorErrorCode&&e.push("SERVER DISCONNECTED"),t.sensorErrorCode&&e.push("SENSOR ERROR"),t.maximumTemperatureErrorCode&&e.push("MAXIMUM TEMPERATURE"),t.minimumTemperatureErrorCode&&e.push("MINIMUM TEMPERATURE"),t.maximumHumidityErrorCode&&e.push("MAXIMUM HUMIDITY"),t.minimumHumidityErrorCode&&e.push("MINIMUM HUMIDITY"),void 0==t.accessDatabase||t.accessDatabase||e.push("DATABASE DISCONNECTED"),c(e)}),[t]),Object(h.jsx)("div",{id:"error-bar-container",style:{display:a.length?"block":"none"},onClick:function(){"/settings"==s.pathname?i.push("/log"):i.push("/settings")},children:Object(h.jsx)("div",{id:"error-bar-wrap",children:a.map((function(e){return Object(h.jsx)("strong",{className:"error-bar-text",children:e},e)}))})})}),Z=function(e){return""==e?"transparent":"UPDATE"==e?"var(--main-color)":"PASS"==e||"INVALID"==e?"#e8000d":"PENDING"==e||"BLANK"==e?"orange":"#cc5500"},$=function(e){var t,n=Object(o.useState)(void 0),c=Object(b.a)(n,2),i=c[0],s=c[1],u=Object(m.c)((function(e){return e.dropListOpen})),l=Object(m.b)(),d=Object(o.useState)(void 0==e.current?[]:Array.isArray(e.current)?e.current:[e.current]),p=Object(b.a)(d,2),j=p[0],O=p[1],f=Object(o.useState)(void 0==e.options?j:Array.isArray(e.options)?e.options:[e.options]),v=Object(b.a)(f,2),x=v[0],y=v[1],S=Object(o.useState)(void 0==e.current?[]:Array.isArray(e.current)?e.current:[e.current]),N=Object(b.a)(S,2),T=N[0],C=N[1],E=Object(o.useState)(""),A=Object(b.a)(E,2),w=A[0],D=A[1],R=Object(o.useState)(""),I=Object(b.a)(R,2),L=I[0],U=I[1];Object(o.useEffect)((function(){var t=void 0==e.current?[]:Array.isArray(e.current)?e.current:[e.current],n=void 0==e.options?t:Array.isArray(e.options)?e.options:[e.options];O(t),y(n),C(t)}),[e]);var P=void 0!=e.verifyLevel?e.verifyLevel:2,M=void 0!=e.selectMultiple?e.selectMultiple:Array.isArray(e.current),H=void 0!=e.inputType?e.inputType:isNaN(e.current)?"text":"number",V=void 0!=e.addCustom&&e.addCustom,F=void 0!=e.condense&&e.condense,G=function(e){var t=e||T;if(Array.isArray(t))for(var n=0;n<t.length;n++)if(!j.includes(t[n]))return!0;if(Array.isArray(j))for(var r=0;r<j.length;r++)if(!t.includes(j[r]))return!0;return!1},B=function(){var e=Object(a.a)(Object(r.a)().mark((function e(t){var n,a,c;return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=G(n=t||T)?"UPDATE":"",Array.isArray(n))for(n.forEach((function(e){x.includes(e)||(a="INVALID")})),!M&&n.length>1&&(a="INVALID"),0==n.length&&(a="BLANK"),c=0;c<n.length;c++)void 0==n[c]&&(a="BLANK");return U(a),e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();Object(o.useEffect)((function(){return B()}),[T]);var W=function(){var t=Object(a.a)(Object(r.a)().mark((function t(n,a){var c;return Object(r.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(s(void 0),1!=P||localStorage.getItem("password")){t.next=4;break}return t.next=4,localStorage.setItem("password",n.toString());case 4:return t.next=6,e.onUpdate(M?JSON.stringify(a||T):T[0],n);case 6:1==(c=t.sent)||isNaN(c)?(U(1!=c?c:"SAVED"),O(T),setTimeout((function(){return U("")}),5e3)):401==c?(U("PASS"),setTimeout((function(){return C(j)}),5e3),localStorage.clear()):404==c?(U("INVALID"),setTimeout((function(){return C(j)}),5e3),localStorage.clear()):(U("FAILED"),setTimeout((function(){return C(j)}),5e3));case 8:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),_=function(){var e=Object(a.a)(Object(r.a)().mark((function e(t){return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,B(t);case 2:if(e.t0=e.sent,"UPDATE"!=e.t0){e.next=7;break}U("PENDING"),l({type:"setDropList"}),0==P?W(void 0,t):1!=P||localStorage.getItem("password")?1==P?W(localStorage.getItem("password"),t):s("Enter Advanced Passphrase to Proceed:"):s("Enter Control Password to Continue:");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),J=function(){var t=Object(a.a)(Object(r.a)().mark((function t(n){var a,c;return Object(r.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a=Object(k.a)(T),c=Object(k.a)(x),"email"!=e.inputType||/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(n)){t.next=5;break}return U("Email"),t.abrupt("return","Email");case 5:return V&&!c.includes(n)&&(c=[].concat(Object(k.a)(x),[n])),a=M||!V&&!c.includes(n)?T.includes(n)?Object(k.a)(T.filter((function(e){return e!=n&&c.includes(e)}))):[].concat(Object(k.a)(T.filter((function(e){return c.includes(e)}))),[n]):[n],y(Object(k.a)(c)),C(Object(k.a)(a)),M||_(a),t.next=12,B(a);case 12:return t.abrupt("return",t.sent);case 13:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),K=function(){return Object(k.a)(T.filter((function(e){return!x.includes(e)})))};return Object(h.jsxs)("div",{id:e.title,className:"settings-value-box",style:{gridTemplateColumns:F?"auto 40%":null},onFocus:function(){},onBlur:function(){},children:[void 0==e.title?Object(h.jsx)("div",{className:"none no-size",style:{position:"absolute"}}):Object(h.jsx)("strong",{className:"settings-value-title",children:e.title}),u==e.dropListId?Object(h.jsxs)("div",{children:[Object(h.jsx)("button",{className:"settings-value-input ",onClick:function(){return l({type:"setDropList",payload:e.dropListId})},children:T?T.toString():""}),Object(h.jsxs)("div",{className:"drop-menu-list",style:{top:x.length<=5?null:"5vh",position:x.length<=5?"absolute":"fixed"},children:[Object(h.jsx)("button",{className:"drop-menu-item",style:{border:"none",borderRadius:0,borderBottom:"1px solid whitesmoke",backgroundColor:"whitesmoke",color:"black"},onClick:function(){l({type:"setDropList"})},children:"Close"},"settings-close-button"),K().map((function(e,t){return Object(h.jsx)("label",{className:"drop-menu-item",style:{gridRow:t+2,color:"gold"},onClick:function(){C((function(t){return Object(k.a)(t.filter((function(t){return t!=e&&x.includes(t)})))})),M||l({type:"setDropList"}),M||_()},children:e.toString()},e+t+"old")})),x.map((function(e,t){return Object(h.jsx)("label",{className:"drop-menu-item",style:{gridRow:t+2+K().length,border:T.includes(e)?"1px solid var(--main-color)":"none",color:T.includes(e)?"var(--main-color)":"white"},onClick:Object(a.a)(Object(r.a)().mark((function t(){return Object(r.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,J(e);case 2:M||l({type:"setDropList"}),M||_();case 4:case"end":return t.stop()}}),t)}))),children:e.toString()},e+t)})),V?Object(h.jsxs)("div",{className:"none",style:{display:"inline-grid",gridRow:K().length+x.length+3,gridColumn:1},children:[Object(h.jsx)("input",{type:H,className:"drop-menu-item",style:{gridRow:1,gridColumn:1,width:"10.0rem",borderRadius:0,border:"1px solid whitesmoke",backgroundColor:"black",color:"white"},value:w,onChange:function(e){return D(e.target.value)},onKeyPress:function(){var e=Object(a.a)(Object(r.a)().mark((function e(t){return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(13!=t.charCode){e.next=8;break}return e.next=3,J(w);case 3:if(e.t0=e.sent,"UPDATE"!=e.t0){e.next=6;break}D("");case 6:M||l({type:"setDropList"}),M||_();case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},"settings-add-input"),Object(h.jsx)("button",{className:"drop-menu-item",style:{gridRow:1,gridColumn:2,border:"none",borderRadius:0,borderBottom:"1px solid whitesmoke",backgroundColor:"whitesmoke",color:"black"},onClick:Object(a.a)(Object(r.a)().mark((function e(){return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,J(w);case 2:if(e.t0=e.sent,"UPDATE"!=e.t0){e.next=5;break}D("");case 5:M||l({type:"setDropList"});case 6:case"end":return e.stop()}}),e)}))),children:"ADD"},"settings-add-button")]}):Object(h.jsx)("div",{className:"none no-size"}),F||"UPDATE"==L?Object(h.jsx)("button",{className:"drop-menu-item",style:(t={border:"none",borderRadius:0},Object(z.a)(t,"border","none"),Object(z.a)(t,"backgroundColor",Z(L)),Object(z.a)(t,"color","white"),t),onClick:function(){_()},children:L},"settings-save-button"):Object(h.jsx)("div",{className:"none no-size"})]})]}):Object(h.jsx)("button",{className:"settings-value-input ",onClick:function(){return l({type:"setDropList",payload:e.dropListId})},children:T?T.toString():""}),F&&!M?Object(h.jsx)("div",{className:"none no-size",style:{position:"absolute"}}):Object(h.jsx)("button",{className:"settings-value-button",onClick:_,style:{backgroundColor:Z(L)},children:L}),i?Object(h.jsx)(g,{prompt:i,onSubmit:W,onCancel:function(){s(void 0),U("UPDATE"),F&&C(Object(k.a)(j))}}):Object(h.jsx)("div",{className:"none no-size",style:{position:"absolute"}})]})},Q=function(e){var t=Object(m.c)((function(e){return e.serverURL})),n=Object(m.c)((function(e){return e.data})),c=Object(m.c)((function(e){return e.screenSaverBrightness})),o=Object(m.c)((function(e){return e.convertToFahrenheit})),i=Object(m.b)(),s=Object(d.f)(),u=function(){var e=Object(a.a)(Object(r.a)().mark((function e(n,a,c){return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",f.a.post("".concat(t).concat(n,"/"),a).then((function(e){return"response"==c?e:c||!0})).catch((function(e){return!!e.response&&e.response.status})));case 1:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),l=function(){var e=Object(a.a)(Object(r.a)().mark((function e(n,a,c){return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",f.a.put("".concat(t).concat(n,"/"),a).then((function(e){return"response"==c?e:c||!0})).catch((function(e){return!!e.response&&e.response.status})));case 1:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),b=[Object(h.jsx)($,{title:"Temperature:",dropListId:"temperature-conversion",current:o?"Fahrenheit":"Celsius",options:["Celsius","Fahrenheit"],verifyLevel:0,onUpdate:function(e,t){return i({type:"toggleConvertToFahrenheit",payload:"Fahrenheit"==e}),!0}}),Object(h.jsx)(x,{title:"Deactivate Screen Saver",pendingText:"Deactivating",onUpdate:Object(a.a)(Object(r.a)().mark((function t(){return Object(r.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.deactivateScreenSaver(3e5),t.abrupt("return","5 Minutes");case 2:case"end":return t.stop()}}),t)})))}),Object(h.jsx)($,{title:"ScreenSaver Brightness:",dropListId:"screensaver-brightness",current:c.setting,options:c.settingOptions,verifyLevel:0,onUpdate:function(e,t){return!!c.settingOptions.includes(e)&&(i({type:"setting",payload:e}),!0)}}),Object(h.jsx)("div",{style:{borderBottom:"1px solid var(--main-color)",margin:"0.5rem 0",width:"100%"}}),Object(h.jsx)(N,{title:"Server URL:",current:t,verifyLevel:0,cache:!0,onUpdate:function(){var e=Object(a.a)(Object(r.a)().mark((function e(t,n){var a;return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i({type:"setServerURL",payload:t}),e.next=3,le();case 3:return 1==(a=e.sent)&&s.push("/"),e.abrupt("return",1==a?"UPDATING":a);case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}),Object(h.jsx)(x,{title:"Update Data",pendingText:"RETRIEVING",onUpdate:Object(a.a)(Object(r.a)().mark((function e(){var t;return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,le();case 2:return t=e.sent,e.abrupt("return",1==t?"UPDATED":t);case 4:case"end":return e.stop()}}),e)})))})];return"Scheduled"==c.setting&&b.splice(2,0,Object(h.jsx)(N,{title:"ScreenSaver Day Hour Start: (0-23/24)",current:c.dayHourStart,verifyLevel:0,onUpdate:function(e,t){var n=parseInt(e);return n>=0&&n<=24&&(i({type:"dayHourStart",payload:n}),!0)}}),Object(h.jsx)(N,{title:"ScreenSaver Day Opacity: (%)",current:100*c.dayOpacity,verifyLevel:0,onUpdate:function(e,t){var n=parseInt(e)/100;return n>=0&&n<=1&&(i({type:"dayOpacity",payload:n}),!0)}}),Object(h.jsx)(N,{title:"ScreenSaver Night Hour Start: (0-23/24)",current:c.nightHourStart,verifyLevel:0,onUpdate:function(e,t){var n=parseInt(e);return n>=0&&n<=24&&(i({type:"nightHourStart",payload:n}),!0)}}),Object(h.jsx)(N,{title:"ScreenSaver Night Opacity: (%)",current:100*c.nightOpacity,verifyLevel:0,onUpdate:function(e,t){var n=parseInt(e)/100;return n>=0&&n<=1&&(i({type:"nightOpacity",payload:n}),!0)}}),Object(h.jsx)(N,{title:"ScreenSaver Black Hour Start: (0-23/24)",current:c.blackHourStart,verifyLevel:0,onUpdate:function(e,t){var n=parseInt(e);return n>=0&&n<=24&&(i({type:"blackHourStart",payload:n}),!0)}})),n=={}||void 0==n.CONTROLS?Object(h.jsx)("div",{id:"settings-container",children:b}):Object(h.jsxs)("div",{id:"settings-container",children:[b,Object(h.jsx)(x,{title:"Evaluate Conditions",pendingText:"EXECUTING",onUpdate:function(){var e=Object(a.a)(Object(r.a)().mark((function e(t){return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return setTimeout((function(){return le()}),6e4),e.next=3,l("/evaluate",{PASSWORD:t},"COMPLETE");case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}),Object(h.jsx)(N,{title:"Postpone Next Evaluation: (ms)",current:0,numberStep:6e4,verifyLevel:1,onUpdate:function(e,t){return u("/postpone-evaluation",{PASSWORD:t,duration:e})}}),Object(h.jsx)($,{title:"Status Email Recipients:",dropListId:"status-email",current:n.emailStatusRecipients,verifyLevel:1,addCustom:!0,inputType:"email",onUpdate:function(e,t){return u("/set-settings",{PASSWORD:t,tag:"emailStatusRecipients",emailStatusRecipients:e})}}),Object(h.jsx)(x,{title:"Send Update Email",pendingText:"SENDING",onUpdate:function(e){return l("/send-update-email",{PASSWORD:e},"SENT")}}),Object(h.jsx)($,{title:"Issue Email Recipients:",dropListId:"issue-email",current:n.emailIssueRecipients,addCustom:!0,inputType:"email",onUpdate:function(e,t){return u("/set-settings",{ADVANCED_PASSPHRASE:t,tag:"emailIssueRecipients",emailIssueRecipients:e})}}),Object(h.jsx)(N,{title:"Email Report:",current:"",inputType:"textarea",verifyLevel:1,onUpdate:function(e,t){return u("/save-log",{PASSWORD:t,email:!0,message:e})}}),Object(h.jsx)($,{title:"Email Update Regularity:",dropListId:"email-update-regularity",current:n.updateRegularity,options:n.updateRegularityOptions,onUpdate:function(e,t){return u("/set-settings",{ADVANCED_PASSPHRASE:t,tag:"updateRegularity",updateRegularity:e})}}),Object(h.jsx)($,{title:"Allow Database Access:",dropListId:"allow-database",current:n.accessDatabase,options:[!0,!1],onUpdate:function(e,t){return u("/set-settings",{ADVANCED_PASSPHRASE:t,tag:"accessDatabase",accessDatabase:e})}}),Object(h.jsx)(N,{title:"Evaluation Frequency: (m)",current:n.evaluationFrequency/6e4,numberStep:1,onUpdate:function(e,t){return u("/set-settings",{ADVANCED_PASSPHRASE:t,tag:"evaluationFrequency",evaluationFrequency:6e4*e})}}),Object(h.jsx)(N,{title:"Maximum Temperature: (c)",current:n.maximumTemperature,numberStep:.5,onUpdate:function(e,t){return u("/set-settings",{ADVANCED_PASSPHRASE:t,tag:"maximumTemperature",maximumTemperature:e})}}),Object(h.jsx)(N,{title:"Minimum Temperature: (c)",current:n.minimumTemperature,numberStep:.5,onUpdate:function(e,t){return u("/set-settings",{ADVANCED_PASSPHRASE:t,tag:"minimumTemperature",minimumTemperature:e})}}),Object(h.jsx)(N,{title:"Maximum Humidity: (%)",current:n.maximumHumidity,onUpdate:function(e,t){return u("/set-settings",{ADVANCED_PASSPHRASE:t,tag:"maximumHumidity",maximumHumidity:e})}}),Object(h.jsx)(N,{title:"Minimum Humidity: (%)",current:n.minimumHumidity,onUpdate:function(e,t){return u("/set-settings",{ADVANCED_PASSPHRASE:t,tag:"minimumHumidity",minimumHumidity:e})}}),Object(h.jsx)(N,{title:"Hour Day Starts: (h)",current:n.dayHourStart,onUpdate:function(e,t){return u("/set-settings",{ADVANCED_PASSPHRASE:t,tag:"dayHourStart",dayHourStart:e})}}),Object(h.jsx)(N,{title:"Hour Night Starts: (h)",current:n.nightHourStart,onUpdate:function(e,t){return u("/set-settings",{ADVANCED_PASSPHRASE:t,tag:"nightHourStart",nightHourStart:e})}}),Object(h.jsx)($,{title:"Sensor Type:",dropListId:"sensor-type",current:n.sensorType,options:n.sensorTypes,onUpdate:function(e,t){return u("/set-settings",{ADVANCED_PASSPHRASE:t,tag:"sensorType",sensorType:e})}}),Object(h.jsx)($,{title:"Sensor Mode:",dropListId:"sensor-mode",current:n.sensorMode,options:n.sensorModes,onUpdate:function(e,t){return u("/set-settings",{ADVANCED_PASSPHRASE:t,tag:"sensorMode",sensorMode:e})}}),Object(h.jsx)(x,{title:"Test Sensor",pendingText:"Redirecting",verifyLevel:0,onUpdate:function(e){return s.push("/sensor-testing")}}),n.CONTROLS.map((function(e,t){return Object(h.jsxs)("div",{children:[Object(h.jsx)(N,{title:"[".concat(e.id,"] Control Name:"),current:e.name,onUpdate:function(t,n){return u("/set-settings",{ADVANCED_PASSPHRASE:n,tag:"controls-name",id:e.id,name:t})}},"name-".concat(e.id)),Object(h.jsx)($,{title:"[".concat(e.id,"] Control Types:"),dropListId:"control-types-".concat(e,"-").concat(t),current:e.types,options:n.controlTypes,selectMultiple:!0,addCustom:!0,onUpdate:function(t,n){return u("/set-settings",{ADVANCED_PASSPHRASE:n,tag:"controls-types",id:e.id,types:t})}},"types-".concat(e.id))]},"".concat(e.id,"-").concat(t))})),Object(h.jsx)(x,{title:"Reset Settings",pendingText:"CONFIGURING",verifyLevel:3,onUpdate:function(){var e=Object(a.a)(Object(r.a)().mark((function e(t){var n;return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u("/reset-settings",{ADVANCED_PASSPHRASE:t},"RESETTING");case 2:return n=e.sent,le(),e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}),Object(h.jsx)(x,{title:"Reset File System",pendingText:"CONFIGURING",verifyLevel:3,onUpdate:function(){var e=Object(a.a)(Object(r.a)().mark((function e(t){var n;return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u("/reset-file-system",{ADVANCED_PASSPHRASE:t},"RESETTING");case 2:return n=e.sent,le(),e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}),Object(h.jsx)(x,{title:"Terminate Server",pendingText:"CONFIGURING",verifyLevel:3,onUpdate:function(e){return u("/terminate",{ADVANCED_PASSPHRASE:e},"TERMINATING")}}),Object(h.jsx)(x,{title:"Restart PI",pendingText:"CONFIGURING",verifyLevel:3,onUpdate:function(e){return u("/restart-pi",{ADVANCED_PASSPHRASE:e},"RESTARTING")}}),Object(h.jsx)($,{dropListId:"Error_Lights_Override",title:"Error Lights:",current:"Select Mode",options:["on","off","flash","bounce","max","min","humid","lock","unlock","reset"],selectMultiple:!1,addCustom:!0,verifyLevel:1,onUpdate:function(e,t){return u("/execute-error-lights",{PASSWORD:t,tag:"error-lights",mode:new Array(e).pop()})}}),Object(h.jsx)(x,{title:"Server Log",pendingText:"Redirecting",verifyLevel:0,onUpdate:function(e){return s.push("/log")}}),Object(h.jsx)(N,{title:"Save to Log:",current:"",inputType:"textarea",verifyLevel:1,onUpdate:function(e,t){return u("/save-log",{PASSWORD:t,message:e})}}),Object(h.jsx)(x,{title:"Log Out",pendingText:"CLEARING",verifyLevel:0,onUpdate:function(){return localStorage.clear(),"CLEARED PASSWORD"}})]})},ee=function(e){var t=Object(m.c)((function(e){return e.serverURL})),n=Object(m.c)((function(e){return e.data})),c=Object(o.useState)(""),i=Object(b.a)(c,2),s=i[0],u=i[1],l=Object(o.useState)(6e4),d=Object(b.a)(l,2),p=d[0],j=d[1],O=Object(o.useState)(5e3),g=Object(b.a)(O,2),v=g[0],y=g[1],S=Object(o.useState)(""),T=Object(b.a)(S,2),C=T[0],E=T[1],A=null,w=null;return Object(h.jsxs)("div",{id:"sensor-test-container",children:[Object(h.jsxs)("div",{className:"sensor-test-first-header",children:[Object(h.jsx)($,{title:"Sensor Type:",dropListId:"sensor-testing-sensor-type",current:n.sensorType,options:n.sensorTypes,condense:!0,onUpdate:function(){var e=Object(a.a)(Object(r.a)().mark((function e(n,a){return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.a.get("".concat(t,"/settings/"),{ADVANCED_PASSPHRASE:a,tag:"sensorType",sensorType:n}).then((function(e){return!0})).catch((function(e){return!!e.response&&e.response.status}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}),Object(h.jsx)(N,{title:"Test Duration: (m)",current:p/6e4,condense:!0,verifyLevel:0,onUpdate:function(e,t){var n=parseInt(e);return!isNaN(n)&&e==n&&n>0&&(j(6e4*n),!0)}}),Object(h.jsx)(N,{title:"Test Interval: (s)",current:v/1e3,condense:!0,verifyLevel:0,onUpdate:function(e,t){var n=parseInt(e);return!isNaN(n)&&e==n&&n>0&&(y(1e3*n),!0)}})]}),Object(h.jsxs)("div",{className:"sensor-test-second-header",children:[Object(h.jsx)(x,{title:""==C?"RESTART":"fetchingError",pendingText:"QUEUING",buttonColor:""!=C?"darkred":"",condense:!0,verifyLevel:2,onUpdate:function(){var e=Object(a.a)(Object(r.a)().mark((function e(n){return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.a.post("".concat(t,"/sensor-test-restart/"),{ADVANCED_PASSPHRASE:n,duration:p,interval:v}).then((function(e){return clearInterval(A),clearTimeout(w),E(""),A=setInterval(Object(a.a)(Object(r.a)().mark((function e(){return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.a.get("".concat(t,"/sensor-test/")).then((function(e){u(e.data),E("")})).catch((function(e){console.log("Failed to Get Sensor Testing Data",e),E(e)}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),500),w=setTimeout((function(){clearInterval(A),E("")}),p+3e4),"INITIATING"})).catch((function(e){return!!e.response&&e.response.status}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}),Object(h.jsx)(x,{title:"UPDATE",pendingText:"LOADING",condense:!0,verifyLevel:0,onUpdate:function(){var e=Object(a.a)(Object(r.a)().mark((function e(n){return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.a.get("".concat(t,"/sensor-test/")).then((function(e){return u(e.data),"CURRENT"})).catch((function(e){return!!e.response&&e.response.status}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()})]}),Object(h.jsx)("div",{className:"sensor-test-results",children:Object(h.jsxs)("table",{style:{margin:0,width:"100%",border:"none",borderSpacing:"4px"},children:[Object(h.jsxs)("tr",{children:[Object(h.jsx)("th",{style:{padding:"3px",textAlign:"center"},children:"Time"}),Object(h.jsx)("th",{style:{padding:"3px",textAlign:"center"},children:"Temperature"}),Object(h.jsx)("th",{style:{padding:"3px",textAlign:"center"},children:"Humidity"}),Object(h.jsx)("th",{style:{padding:"3px",textAlign:"center"},children:"Message"})]}),s.split("\n").map((function(e,t){return""==e?Object(h.jsx)("br",{},"".concat(e,"-").concat(s.length)):Object(h.jsx)("tr",{children:e.split("|").map((function(t,n){return Object(h.jsx)("td",{style:{padding:"3px",textAlign:0==n?"left":"center"},colspan:4/e.split("|").length>1?Math.floor(4/e.split("|").length):1,children:t},"".concat(t,"-").concat(e,"-").concat(s.length))}))},"".concat(e,"-").concat(s.length))}))]})})]})},te=function(e){var t=Object(m.c)((function(e){return e.serverURL})),n=Object(o.useState)(""),c=Object(b.a)(n,2),i=c[0],s=c[1],u=Object(o.useState)(""),l=Object(b.a)(u,2),p=l[0],j=l[1],O=Object(o.useRef)(),g=Object(d.g)(),v=Object(d.f)(),y=function(){return console.log(t),(/^\/log\/([0-9]+)*/.exec(g.pathname)||[0,0])[1]},S=function(){var e=Object(a.a)(Object(r.a)().mark((function e(){var n,a=arguments;return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.length>0&&void 0!==a[0]&&a[0],e.next=3,f.a.put("".concat(t,"/log/"),n?{}:{fileName:p,fileNumber:"".concat(y())}).then((function(e){return s(e.data),j(e.headers["content-name"]),"log.txt"==e.headers["content-name"]&&v.replace("/log"),"LOADING"})).catch((function(e){return!!e.response&&e.response.status}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(o.useEffect)((function(){return S()}),[t]);var N=function(e){return/error|fail/i.test(e)},T=function(e){return/\[\d{1,2}-\d{1,2}-\d{4} \d{1,2}:\d{1,2}:\d{1,2}]/.test(e)},C=function(e){return/severe|high|low/i.test(e)},E=function(e){return/^\s*\>{1}/.test(e)},A=function(e){return/restart|server/i.test(e)};return Object(h.jsxs)("div",{id:"sensor-test-container",children:[Object(h.jsx)(x,{title:"UPDATE",pendingText:"RETRIEVING",condense:!0,verifyLevel:0,onUpdate:function(){var e=Object(a.a)(Object(r.a)().mark((function e(t){return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S(!0);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}),Object(h.jsxs)("strong",{id:"title",ref:O,className:"settings-value-title",style:{marginTop:"1.5rem"},children:["File: ",p]}),Object(h.jsxs)("div",{className:"sensor-test-results",children:[i.split(/(?=\[\d{1,2}-\d{1,2}-\d{4} \d{1,2}:\d{1,2}:\d{1,2}])/g).reverse().map((function(e){return e.split(/\n/g).map((function(e,t){return e.length?Object(h.jsx)("p",{style:{color:T(e)&&N(e)?"red":A(e)?"goldenrod":C(e)?"orangered":T(e)?"white":E(e)?"var(--main-color)":"#848884",fontSize:T(e)?"14px":(E(e),"12px"),fontWeight:T(e)?"500":E(e)?"300":"400",fontStyle:E(e)?"italic":"normal",margin:E(e)?"0.1rem":"0.2rem",marginLeft:T(e)?"0":E(e)?"3.0rem":"2.0rem",marginTop:T(e)?"1.0rem":E(e)?"0.05rem":"0.2rem"},children:e},t):Object(h.jsx)("span",{className:"no-size"},t)}))})),"    "]}),void 0==p?Object(h.jsx)("div",{className:"none no-size",style:{position:"absolute"}}):Object(h.jsx)(x,{title:"PREVIOUS LOG",pendingText:"SEARCHING",condense:!0,verifyLevel:0,onUpdate:function(){var e=Object(a.a)(Object(r.a)().mark((function e(t){return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S().then((function(e){return O.current.scrollIntoView({block:"nearest",inline:"start"}),v.replace("/log/".concat(y()+1)),"LOADING"})).catch((function(e){return!!e.response&&e.response.status}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()})]})},ne=(n(89),n(90),function(e){var t=Object(m.c)((function(e){return e.serverURL})),n=Object(m.c)((function(e){return e.data})),c=Object(m.c)((function(e){return e.convertToFahrenheit})),i=Object(o.useState)([]),s=Object(b.a)(i,2),u=s[0],l=s[1],d=Object(o.useState)([]),j=Object(b.a)(d,2),O=(j[0],j[1]),g=function(e){return c?Math.round(100*(1.8*e+32))/100:e},v=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n.operatingTemperature,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:n.goalTemperature;return Math.abs(e-t)<1?Object(h.jsx)("span",{}):Object(h.jsxs)("span",{children:["[",Object(h.jsx)("small",{children:e>t?"+":"-"}),Math.floor(Math.abs(e-t)),Object(h.jsx)("span",{children:"\xb0"}),"]"]})},y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n.operatingHumidity,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:n.goalHumidity;return Math.abs(e-t)<1?Object(h.jsx)("span",{}):Object(h.jsxs)("span",{children:["[",Object(h.jsx)("small",{children:e>t?"+":"-"}),Math.floor(Math.abs(e-t)),Object(h.jsx)("small",{children:"%"}),"]"]})},S=function(){var e=Object(a.a)(Object(r.a)().mark((function e(){return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return f.a.get("".concat(t,"/data-climate/")).then((function(e){O(e.data.climate),console.log("CLIMATE",e.data)})).catch((function(e){return console.log("Failed to Fetch Climate Information",e)})),e.next=3,f.a.get("".concat(t,"/data-history/")).then((function(e){return l(e.data),console.log("HISTORY",e.data),"LOADING"})).catch((function(e){return!!e.response&&e.response.status}));case 3:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(o.useEffect)((function(){return S()}),[]),Object(h.jsxs)("div",{id:"history-container",children:[Object(h.jsx)(x,{title:"UPDATE",pendingText:"RETRIEVING",condense:!0,verifyLevel:0,onUpdate:function(){return S()}}),Object(h.jsxs)("table",{style:{margin:0,width:"100%",border:"2px solid #013214",color:"white",borderSpacing:"4px"},children:[Object(h.jsx)("thead",{children:Object(h.jsxs)("tr",{children:[Object(h.jsx)("th",{style:{padding:"3px",fontWeight:700,fontFamily:"'New Tegomin', serif",textAlign:"center"},children:"Time"}),Object(h.jsx)("th",{style:{padding:"3px",fontWeight:700,fontFamily:"'New Tegomin', serif",textAlign:"center"},children:"Temperature"}),Object(h.jsx)("th",{style:{padding:"3px",fontWeight:700,fontFamily:"'New Tegomin', serif",textAlign:"center"},children:"Humidity"}),Object(h.jsx)("th",{style:{padding:"3px",fontWeight:700,fontFamily:"'New Tegomin', serif",textAlign:"center"},children:"Active"}),Object(h.jsx)("th",{style:{padding:"3px",fontWeight:700,fontFamily:"'New Tegomin', serif",textAlign:"center"},children:"Inactive"})]})}),Object(h.jsx)("tbody",{children:u&&u.length?u.map((function(e){return Object(h.jsxs)("tr",{children:[Object(h.jsx)("td",{style:{padding:"3px",border:"0.05rem solid #013214",textAlign:"center"},children:Object(p.a)(e.time,(new Date).getTime()-e.time<5184e5?"DDDD, H:MM":"mmm-d H:MM")}),Object(h.jsxs)("td",{style:{padding:"3px",border:"0.05rem solid #013214",textAlign:"center"},children:[g(e.temperature),c?Object(h.jsx)("small",{children:"\u2109"}):Object(h.jsx)("small",{children:"\u2103"})," ",v(g(e.temperature),g(e.goalTemperature))]}),Object(h.jsxs)("td",{style:{padding:"3px",border:"0.05rem solid #013214",textAlign:"center"},children:[e.humidity,"% ",y(e.humidity,e.goalHumidity)]}),Object(h.jsx)("td",{style:{padding:"3px",border:"0.05rem solid #013214",textAlign:"center",fontSize:"0.7em"},children:e.active.length?Object(h.jsx)("table",{style:{margin:0,width:"100%",borderSpacing:"2px"},children:Object(h.jsx)("tbody",{children:e.active.map((function(e){return Object(h.jsx)("tr",{children:Object(h.jsx)("td",{style:{textAlign:"center"},children:"".concat(e.name,"  [").concat(e.settings[0].reason,"]")})})}))})}):null}),Object(h.jsx)("td",{style:{padding:"3px",border:"0.05rem solid #013214",textAlign:"center",fontSize:"0.7em"},children:e.active.length?Object(h.jsx)("table",{style:{margin:0,width:"100%",borderSpacing:"2px"},children:Object(h.jsx)("tbody",{children:e.inactive.map((function(e){return Object(h.jsx)("tr",{children:Object(h.jsx)("td",{style:{textAlign:"center"},children:"".concat(e.name,"  [").concat(e.settings[0].reason,"]")})})}))})}):null})]})})):Object(h.jsx)("tr",{children:Object(h.jsx)("td",{style:{padding:"3px",textAlign:"center"},children:"No History Available"})})})]})]})}),re=function(){var e=Object(o.useRef)(),t=function(){e.current&&e.current.deactivateScreenSaver()};return Object(o.useEffect)((function(){return window.addEventListener("scroll",t,!1)}),[]),Object(h.jsx)(l.a,{basename:window.location.pathname||"",children:Object(h.jsxs)("div",{id:"App",className:" border-box",onClick:function(){return e.current.deactivateScreenSaver()},onMouseMove:function(){return e.current.deactivateScreenSaver()},onWheel:function(){return e.current.deactivateScreenSaver()},children:[Object(h.jsx)(w,{}),Object(h.jsx)(R,{ref:e}),Object(h.jsxs)(d.c,{children:[Object(h.jsx)(d.a,{exact:!0,path:"/",children:Object(h.jsxs)("div",{id:"page-box",className:" border-box",style:{boxSizing:"border-box"},children:[Object(h.jsx)(E,{hideDetails:!1}),Object(h.jsx)(L,{})]})}),Object(h.jsxs)(d.a,{path:"/controls",children:[Object(h.jsx)(Y,{}),Object(h.jsxs)("div",{id:"page-box",className:" border-box",style:{boxSizing:"border-box"},children:[Object(h.jsx)(F,{}),Object(h.jsx)(L,{})]})]}),Object(h.jsxs)(d.a,{path:"/schedules",children:[Object(h.jsx)(Y,{}),Object(h.jsxs)("div",{id:"page-box",className:" border-box",style:{boxSizing:"border-box"},children:[Object(h.jsx)(q,{}),Object(h.jsx)(L,{})]})]}),Object(h.jsxs)(d.a,{path:"/climate",children:[Object(h.jsx)(Y,{}),Object(h.jsxs)("div",{id:"page-box",className:" border-box",style:{boxSizing:"border-box"},children:[Object(h.jsx)(X,{}),Object(h.jsx)(L,{})]})]}),Object(h.jsxs)(d.a,{path:"/history",children:[Object(h.jsx)(Y,{}),Object(h.jsxs)("div",{id:"page-box",className:" border-box",style:{boxSizing:"border-box"},children:[Object(h.jsx)(ne,{}),Object(h.jsx)(L,{})]})]}),Object(h.jsxs)(d.a,{path:"/settings",children:[Object(h.jsx)(Y,{}),Object(h.jsxs)("div",{id:"page-box",className:" border-box",style:{boxSizing:"border-box"},children:[Object(h.jsx)(Q,{deactivateScreenSaver:function(t){return e.current.deactivateScreenSaver(t)}}),Object(h.jsx)(L,{})]})]}),Object(h.jsxs)(d.a,{path:"/log",children:[Object(h.jsx)(Y,{}),Object(h.jsxs)("div",{id:"page-box",className:" border-box",style:{boxSizing:"border-box"},children:[Object(h.jsx)(te,{}),Object(h.jsx)(L,{})]})]}),Object(h.jsxs)(d.a,{path:"/sensor-testing",children:[Object(h.jsx)(Y,{}),Object(h.jsxs)("div",{id:"page-box",className:" border-box",style:{boxSizing:"border-box"},children:[Object(h.jsx)(ee,{}),Object(h.jsx)(L,{})]})]})]})]})})},ae=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,92)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,c=t.getLCP,o=t.getTTFB;n(e),r(e),a(e),c(e),o(e)}))},ce=n(32),oe={IMAGE_INTERVAL:6e3,TRANSITION_INTERVAL:1e3,SCREENSAVER_INACTIVE_TIME:6e4,location:A,isVisible:!1},ie={settingOptions:["Default","Scheduled","Black","Disabled"],setting:"Default",dayOpacity:1,dayHourStart:7,nightOpacity:.35,nightHourStart:19,blackHourStart:21},se=Object(ce.a)({serverURL:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;return"setServerURL"==t.type?t.payload:e},image:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:oe,t=arguments.length>1?arguments[1]:void 0;return"setImage"==t.type?Object(c.a)(Object(c.a)({},e),{},{location:t.payload,isVisible:!0}):"setImageVisible"==t.type?Object(c.a)(Object(c.a)({},e),{},{isVisible:!0}):"setImageInvisible"==t.type?Object(c.a)(Object(c.a)({},e),{},{isVisible:!1}):e},isScreenSaverActive:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=arguments.length>1?arguments[1]:void 0;return"activateScreenSaver"==t.type||"deactivateScreenSaver"!=t.type&&e},screenSaverBrightness:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ie,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"setting":return e.settingOptions.includes(t.payload)?Object(c.a)(Object(c.a)({},e),{},{setting:t.payload}):e;case"dayOpacity":return Object(c.a)(Object(c.a)({},e),{},{setting:"Scheduled",dayOpacity:t.payload});case"dayHourStart":return Object(c.a)(Object(c.a)({},e),{},{setting:"Scheduled",dayHourStart:t.payload});case"nightOpacity":return Object(c.a)(Object(c.a)({},e),{},{setting:"Scheduled",nightOpacity:t.payload});case"nightHourStart":return Object(c.a)(Object(c.a)({},e),{},{setting:"Scheduled",nightHourStart:t.payload});case"blackHourStart":return Object(c.a)(Object(c.a)({},e),{},{setting:"Scheduled",blackHourStart:t.payload});default:return e}},data:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return"setData"==t.type?Object(c.a)({},t.payload):e},convertToFahrenheit:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=arguments.length>1?arguments[1]:void 0;return"toggleConvertToFahrenheit"==t.type?!e:e},dropListOpen:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"OFF",t=arguments.length>1?arguments[1]:void 0;return"setDropList"==t.type&&e==t.payload||"setDropList"==t.type&&void 0==t.payload?"OFF":"setDropList"==t.type?t.payload:e}}),ue=Object(ce.b)(se,{});setInterval((function(){f.a.get("".concat(ue.getState().serverURL,"/").concat(window.innerHeight>window.innerWidth?"image-portrait":"image-landscape","/"),{responseType:"blob"}).then((function(e){ue.dispatch({type:"setImageInvisible"}),setTimeout((function(){ue.dispatch({type:"setImage",payload:URL.createObjectURL(e.data)})}),ue.getState().image.TRANSITION_INTERVAL/2)})).catch((function(e){console.error(e)}))}),ue.getState().image.IMAGE_INTERVAL+ue.getState().image.TRANSITION_INTERVAL||5e3);var le=function(){var e=Object(a.a)(Object(r.a)().mark((function e(t){return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t||ue.getState().serverURL,e.abrupt("return",!1);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();u.a.render(Object(h.jsx)(i.a.StrictMode,{children:Object(h.jsx)(m.a,{store:ue,children:Object(h.jsx)(re,{})})}),document.getElementById("root")),ae()}},[[91,1,2]]]);
//# sourceMappingURL=main.d88f8df4.chunk.js.map